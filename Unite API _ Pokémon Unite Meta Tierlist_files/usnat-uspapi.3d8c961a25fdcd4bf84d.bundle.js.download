(window._sp_wp_jsonp=window._sp_wp_jsonp||[]).push([[8,7],{180:function(t,e,n){"use strict";n.r(e),n.d(e,"default",(function(){return h}));n(137),n(23),n(56),n(19),n(24),n(25),n(74),n(103),n(73),n(37),n(52),n(53),n(26),n(27),n(36),n(190),n(191),n(55),n(57),n(71),n(30),n(75),n(28);var r=n(0),o=n(200);var i=n(62);function u(t){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function c(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function a(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?c(Object(n),!0).forEach((function(e){d(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function l(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,v(r.key),r)}}function f(t,e){return(f=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function s(t){var e=function(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return function(){return!!t}()}();return function(){var n,r=b(t);if(e){var o=b(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return p(this,n)}}function p(t,e){if(e&&("object"===u(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return y(t)}function y(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function b(t){return(b=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function d(t,e,n){return(e=v(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function v(t){var e=function(t,e){if("object"!=u(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=u(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==u(e)?e:e+""}var h=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&f(t,e)}(p,t);var e,n,u,c=s(p);function p(t,e,n){var r;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,p),d(y(r=c.call(this)),"category","usnat"),r.config=Object(i.d)(t),r.campaignResponse=e,r.propertyId=n,r}return e=p,(n=[{key:"init",value:function(){var t,e,n=this,i=this.config,u=i.accountId,c=(i.includeGppApi,i.usNatOrigin),l=i.mmsDomain,f=i.propertyHref,s=i.msgOrigin,p=i.pmOrigin,y=i.pubData,b=this.campaignResponse,d=b.actions,v=b.applies,h=b.cookies;return Object(r.setStateStorageInMemory)(v,"cookies","applies",this.category),Object.assign(window._sp_.usnat,(t=a(a({},this.config),{},{propertyId:this.propertyId}),{getUserConsents:function(n){return o.a.getUserConsents(t,e,n)},postRejectAll:function(n){return o.a.postRejectAll(t,e,n)}})),window._sp_.usnat.loadPrivacyManager=function(t,e){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){};if(!(t=t||Object(r.getStateStorageFromMemory)("childPmId",null,n.category)))return Promise.reject("No privacyManagerId provided, no groupPmId found.");var i=Object(r.getUserConsentData)(n.category,"legislation");if("state"===i&&!1===v)return Promise.reject("No categories to collect or modify consent for when outside of applies scope.");n.cmpApi&&(n.cmpApi.setSignalStatus("not ready"),n.cmpApi.setCmpDisplayStatus("visible"));var a=n.makeMessageUrl(2,t,Object(r.getUserConsentData)(n.category,"uuid"),n.propertyId,c,l,s),b={};return e&&(b={type:"inline",type_settings:{targetType:"id",targetName:e}}),new r.Renderer({accountId:u,url:a,mmsDomain:l,siteId:n.propertyId,href:f,msgOrigin:s,settings:b,messageId:t,cmpOrigin:c,type:"pm",pmOrigin:p,wrapperAPIOrigin:n.config.wrapperAPIOrigin,plugAndPlay:!0,callbackPath:o,updateCMP:n.updateCmpPost.bind(n),pubData:y,category:n.category}).init()},window._sp_.usnat.loadPrivacyManagerModal=function(t,e,n){return window._sp_.usnat.loadPrivacyManager(t,e,null,n)},Promise.all((d||[]).map(r.executeAction)).then((function(t){return Object(r.setCookiesAction)(h,l,n.category)}))}},{key:"checkForMessage",value:function(){var t=this.hasMessage(),e=this.campaignResponse.applies;t?e&&this.cmpApi&&this.cmpApi.setCmpDisplayStatus("visible"):Object(r.executeEventCallback)("onMessageReceiveData",[{messageId:0}],this.category),this.updateCmpPost(t);var n=Object(r.getUserConsentData)(this.category)||{},o=n.gpcEnabled,i=n.consentString,u=n.uuid;Object(r.executeEventCallback)("onConsentReady",[u,i,{applies:e,gpcEnabled:o}],this.category)}},{key:"getPvData",value:function(){var t=(this.campaignResponse&&this.campaignResponse.messageMetaData||{}).messageId,e=Object(r.getUserConsentData)(this.category)||{};return{applies:e.applies,uuid:e.uuid,consentStatus:e.consentStatus,msgId:t}}},{key:"makeMessageUrl",value:function(t,e,n,o,i,u,c){var l=["us_pm","index.html"],f=c,s=a({usNatOrigin:i,uuid:n,message_id:e,site_id:o,mms_origin:"".concat(u,"/mms/v2")},Object(r.getConcatUuidParam)());return 1===t&&(s.is_usnat_notice="true"),Object(r.appendQueryParams)([f].concat(l).join("/"),a(a({},s),{},{version:"v1"}))}},{key:"showMessage",value:function(){if(this.sendPvData(),!this.hasMessage())return Promise.resolve();var t=this.config,e=t.accountId,n=t.usNatOrigin,o=t.mmsDomain,i=t.msgOrigin,u=t.pmOrigin,c=t.propertyHref,a=t.pubData,l=this.campaignResponse,f=l.message,s=l.messageMetaData,p=s.bucket,y=s.categoryId,b=s.messageId,d=s.prtnUUID,v=s.subCategoryId;return Object(r.executeEventCallback)("onMessageReceiveData",[{prtnUUID:d,msg_id:b,messageId:b,msgDescription:f.message_json.name||"",bucket:p,categoryId:y,subCategoryId:v}],this.category),new r.Renderer({accountId:e,url:this.makeMessageUrl(v,b,Object(r.getUserConsentData)(this.category,"uuid"),this.propertyId,n,o,i),mmsDomain:o,siteId:this.propertyId,href:c,msgOrigin:i,message:f,settings:f.message_json.settings,messageId:b,cmpOrigin:n,type:"pm-fl",pmOrigin:u,wrapperAPIOrigin:this.config.wrapperAPIOrigin,callbackPath:null,plugAndPlay:!1,updateCMP:this.updateCmpPost.bind(this),pubData:a,category:this.category}).init()}},{key:"updateCmpPost",value:function(t){}}])&&l(e.prototype,n),u&&l(e,u),Object.defineProperty(e,"prototype",{writable:!1}),p}(n(196).a)},181:function(t,e,n){"use strict";n.r(e),n.d(e,"default",(function(){return E}));n(74),n(73),n(23),n(30),n(190),n(191),n(52),n(53),n(26),n(27),n(36),n(28),n(19),n(24),n(25);var r=n(0),o=(n(59),n(55),n(57),n(71),n(75),n(38),n(37),n(54),n(29),n(201)),i=n(200),u=n(204);function c(t){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function a(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,i,u,c=[],a=!0,l=!1;try{if(i=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;a=!1}else for(;!(a=(r=i.call(n)).done)&&(c.push(r.value),c.length!==e);a=!0);}catch(t){l=!0,o=t}finally{try{if(!a&&null!=n.return&&(u=n.return(),Object(u)!==u))return}finally{if(l)throw o}}return c}}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return l(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return l(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function l(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function f(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function s(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?f(Object(n),!0).forEach((function(e){p(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function p(t,e,n){var r;return r=function(t,e){if("object"!=c(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=c(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(e,"string"),(e="symbol"==c(r)?r:r+"")in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function y(t,e){try{if(o.b.SECTION_ID_NAME_MAP.has(t))return o.b.SECTION_ID_NAME_MAP.get(t)}catch(t){}return e}function b(t){return(b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function d(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,v(r.key),r)}}function v(t){var e=function(t,e){if("object"!=b(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=b(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==b(e)?e:e+""}function h(t,e){return(h=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function S(t){var e=function(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return function(){return!!t}()}();return function(){var n,r=g(t);if(e){var o=g(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return m(this,n)}}function m(t,e){if(e&&("object"===b(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return O(t)}function O(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function g(t){return(g=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var E=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&h(t,e)}(f,t);var e,n,c,l=S(f);function f(t,e,n){var c;if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,f),(c=l.call(this,t,e,n)).cmpApi=function(t,e,n){var r=this,c={GetCustomVendorRejectsUspv1:function(n){Object(u.a)(1,n,s({},e),t)}};return Object.entries(i.a).forEach((function(o){var i=a(o,2),u=i[0],l=i[1];c["".concat(u,"Usnat")]=l.bind(r,s(s({},e),{},{propertyId:t}),n)})),new o.a(6,1,c)}(n,c.config,c.updateCmpPost.bind(O(c))),c.cmpApi.setCmpStatus("loaded"),e.applies){var p=Object(r.getUserConsentData)(c.category,"applicableSections")||[],b=Object(r.getUserConsentData)(c.category,"consentStrings")||[];c.cmpApi.setSupportedAPIs(b.map((function(t){return"".concat(t.sectionId,":").concat(y(t.sectionId,t.sectionName))}))),c.cmpApi.setApplicableSections(p.length>0?p:[-1])}else c.cmpApi.setCmpDisplayStatus("disabled"),c.cmpApi.setApplicableSections([-1]),c.cmpApi.setSignalStatus("ready");return c}return e=f,(n=[{key:"setSectionString",value:function(){var t=this,e=Object(r.getUserConsentData)(this.category),n=e.applies,o=e.consentStrings;if(n){var i=[];o.forEach((function(e){var n=e.sectionId,r=e.sectionName,o=e.consentString;r=y(n,r);var u=!1;t.cmpApi.getSectionStringById(n)!==o&&(u=!0,t.cmpApi.setSectionStringById(n,o)),u&&t.cmpApi.fireSectionChange(r),i.push("".concat(n,":").concat(r))})),this.cmpApi.setSupportedAPIs(i);var u,c,a,l=this.cmpApi.getGppString();Object(r.setUserConsentData)((u={},c=this.category,a={consentString:l},(c=v(c))in u?Object.defineProperty(u,c,{value:a,enumerable:!0,configurable:!0,writable:!0}):u[c]=a,u))}}},{key:"updateCmpPost",value:function(t){t=t||!1,this.campaignResponse.applies&&("ready"===this.cmpApi.getSignalStatus()&&this.cmpApi.setSignalStatus("not ready"),this.setSectionString(),t||this.cmpApi.setCmpDisplayStatus("hidden"),this.cmpApi.setSignalStatus("ready"))}}])&&d(e.prototype,n),c&&d(e,c),Object.defineProperty(e,"prototype",{writable:!1}),f}(n(180).default)},186:function(t,e,n){"use strict";n.r(e),n.d(e,"default",(function(){return h}));n(190),n(191),n(23),n(193),n(71),n(52),n(53),n(26),n(27),n(36),n(55),n(57),n(30),n(75),n(28),n(19),n(24),n(25);var r=n(0),o=n(204);function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function u(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function c(t,e,n){return(e=f(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function a(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function l(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,f(r.key),r)}}function f(t){var e=function(t,e){if("object"!=i(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=i(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==i(e)?e:e+""}function s(){return(s="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var r=p(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(arguments.length<3?t:n):o.value}}).apply(this,arguments)}function p(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=v(t)););return t}function y(t,e){return(y=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function b(t){var e=function(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return function(){return!!t}()}();return function(){var n,r=v(t);if(e){var o=v(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return d(this,n)}}function d(t,e){if(e&&("object"===i(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function v(t){return(v=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var h=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&y(t,e)}(p,t);var e,n,i,f=b(p);function p(){return a(this,p),f.apply(this,arguments)}return e=p,(n=[{key:"init",value:function(){var t=this.campaignResponse.uuid;Object(o.b)(function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?u(Object(n),!0).forEach((function(e){c(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({},this.config),this.propertyId),Object(r.setStateStorageInMemory)(!t,"newUser",void 0,this.category),s(v(p.prototype),"init",this).call(this)}},{key:"updateCmpPost",value:function(t){!0===this.config.includeUspApi&&window.__uspapi&&"function"==typeof window.__uspapi.hasSeenCCPAMessage&&window.__uspapi.hasSeenCCPAMessage(),s(v(p.prototype),"updateCmpPost",this).call(this,t)}}])&&l(e.prototype,n),i&&l(e,i),Object.defineProperty(e,"prototype",{writable:!1}),p}(n(181).default)},190:function(t,e,n){var r=n(1),o=n(4),i=n(15),u=n(106),c=n(138);r({target:"Object",stat:!0,forced:o((function(){u(1)})),sham:!c},{getPrototypeOf:function(t){return u(i(t))}})},191:function(t,e,n){var r=n(1),o=n(32),i=n(31),u=n(5),c=n(6),a=n(39),l=n(195),f=n(4),s=o("Reflect","construct"),p=f((function(){function t(){}return!(s((function(){}),[],t)instanceof t)})),y=!f((function(){s((function(){}))})),b=p||y;r({target:"Reflect",stat:!0,forced:b,sham:b},{construct:function(t,e){i(t),u(e);var n=arguments.length<3?t:i(arguments[2]);if(y&&!p)return s(t,e,n);if(t==n){switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3])}var r=[null];return r.push.apply(r,e),new(l.apply(t,r))}var o=n.prototype,f=a(c(o)?o:Object.prototype),b=Function.apply.call(t,f,e);return c(b)?b:f}})},192:function(t,e,n){"use strict";var r=n(145),o=n(146);t.exports=r("Map",(function(t){return function(){return t(this,arguments.length?arguments[0]:void 0)}}),o)},193:function(t,e,n){var r=n(1),o=n(6),i=n(5),u=n(9),c=n(17),a=n(106);r({target:"Reflect",stat:!0},{get:function t(e,n){var r,l,f=arguments.length<3?e:arguments[2];return i(e)===f?e[n]:(r=c.f(e,n))?u(r,"value")?r.value:void 0===r.get?void 0:r.get.call(f):o(l=a(e))?t(l,n,f):void 0}})},194:function(t,e,n){"use strict";var r=n(1),o=n(31),i=n(15),u=n(4),c=n(40),a=[],l=a.sort,f=u((function(){a.sort(void 0)})),s=u((function(){a.sort(null)})),p=c("sort");r({target:"Array",proto:!0,forced:f||!s||!p},{sort:function(t){return void 0===t?l.call(i(this)):l.call(i(this),o(t))}})},195:function(t,e,n){"use strict";var r=n(31),o=n(6),i=[].slice,u={},c=function(t,e,n){if(!(e in u)){for(var r=[],o=0;o<e;o++)r[o]="a["+o+"]";u[e]=Function("C,a","return new C("+r.join(",")+")")}return u[e](t,n)};t.exports=Function.bind||function(t){var e=r(this),n=i.call(arguments,1),u=function(){var r=n.concat(i.call(arguments));return this instanceof u?c(e,r.length,r):e.apply(t,r)};return o(e.prototype)&&(u.prototype=e.prototype),u}},196:function(t,e,n){"use strict";n.d(e,"a",(function(){return s}));n(55),n(52),n(53),n(26),n(27),n(23),n(36),n(28),n(19),n(24),n(25),n(56),n(74),n(57),n(71),n(30),n(75);var r=n(0);function o(t){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function i(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function u(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?i(Object(n),!0).forEach((function(e){c(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function c(t,e,n){var r;return r=function(t,e){if("object"!=o(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=o(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(e,"string"),(e="symbol"==o(r)?r:r+"")in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function a(t){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function l(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,f(r.key),r)}}function f(t){var e=function(t,e){if("object"!=a(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=a(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==a(e)?e:e+""}var s=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}var e,n,o;return e=t,(n=[{key:"hasMessage",value:function(){var t=this.campaignResponse,e=t.message,n=t.messageMetaData;return e&&n&&Object.keys(e.message_json).length>0&&0!==n.messageId}},{key:"hasInlineMessage",value:function(){var t=this.campaignResponse.message;return!!this.hasMessage()&&t&&t.message_json&&t.message_json.settings&&t.message_json.settings.type&&"inline"===t.message_json.settings.type}},{key:"getPvData",value:function(){return{}}},{key:"sendPvData",value:function(){var t=this.config,e=t.accountId,n=t.env,o=t.wrapperAPIOrigin,i=t.mmsDomain,a=t.pubData,l=this.getPvData();!function(t,e,n,o,i,a,l,f){if(!Object(r.sampleUser)(l))return Promise.resolve();var s=c({},l,u(u({},f),{},{accountId:e,siteId:n,propertyId:n,pubData:a,withSiteActions:"true",sampleRate:Object(r.sampleRate)(l)}));Object(r.fetch)("".concat(o,"/v2/pv-data"),{method:"POST",body:JSON.stringify(s),headers:{"Content-Type":"application/json"},params:{env:t}}).then(JSON.parse).then((function(t){return Promise.all(Object.keys(t).map((function(e){return Object(r.handleConsentData)(t[e],e,i)})))})).catch((function(t){return Promise.resolve()}))}(n,e,this.propertyId,o,i,a,this.category,l)}}])&&l(e.prototype,n),o&&l(e,o),Object.defineProperty(e,"prototype",{writable:!1}),t}()},197:function(t,e,n){n(61)("asyncIterator")},198:function(t,e,n){"use strict";var r=n(1),o=n(60),i=[].reverse,u=[1,2];r({target:"Array",proto:!0,forced:String(u)===String(u.reverse())},{reverse:function(){return o(this)&&(this.length=this.length),i.call(this)}})},200:function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));n(73);var r=n(0),o={getUserConsents:function(t,e,n){var o=(Object(r.getUserConsentData)("usnat")||{}).userConsents;o=o||{categories:[]};try{n(o,!0)}catch(t){Object(r.handleError)(new r.CmpCallbackError(t),"usnat")}},postRejectAll:function(t,e,n){var o=t.env,i=t.consentLanguage,u=t.propertyId,c=t.mmsDomain,a=t.wrapperAPIOrigin,l={applies:Object(r.getUserConsentData)("usnat","applies"),authId:Object(r.getUserConsentData)("usnat","authId"),mmsDomain:c,propertyId:u,includeData:{actions:{type:"RecordString"}},uuid:Object(r.getUserConsentData)("usnat","uuid"),sampleRate:Object(r.sampleRate)("usnat"),sendPVData:Object(r.sampleUser)("usnat"),pmSaveAndExitVariables:{categories:[],shownCategories:[],vendors:[],lan:i}};Object(r.fetch)("".concat(a,"/v2/choice/").concat("usnat","/1"),{headers:{"Content-Type":"application/json"},method:"POST",body:JSON.stringify(l),params:{env:o}}).then((function(t){return JSON.parse(t)})).then((function(t){return Object(r.handleConsentData)(t,"usnat",c).then((function(e){return t}))})).then((function(t){return"function"==typeof e&&e(),t})).then((function(t){try{n(null,!0)}catch(t){Object(r.handleError)(new r.CmpCallbackError(t),"usnat")}})).catch((function(t){try{n(null,!1)}catch(t){Object(r.handleError)(new r.CmpCallbackError(t))}Object(r.handleError)(t,"usnat")}))}}},201:function(t,e,n){"use strict";n.d(e,"b",(function(){return Wb})),n.d(e,"a",(function(){return Gd}));n(190),n(191),n(23),n(52),n(53),n(26),n(27),n(36),n(28),n(19),n(24),n(25);function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function o(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,c(r.key),r)}}function i(t,e,n){return e&&o(t.prototype,e),n&&o(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function u(t,e,n){return(e=c(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function c(t){var e=function(t,e){if("object"!=r(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var o=n.call(t,e||"default");if("object"!=r(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==r(e)?e:e+""}var a=i((function t(e,n,r,o){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),u(this,"eventName",void 0),u(this,"listenerId",void 0),u(this,"data",void 0),u(this,"pingData",void 0),this.eventName=e,this.listenerId=n,this.data=r,this.pingData=o}));function l(t){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function f(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,y(r.key),r)}}function s(t,e,n){return e&&f(t.prototype,e),n&&f(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function p(t,e,n){return(e=y(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function y(t){var e=function(t,e){if("object"!=l(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=l(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==l(e)?e:e+""}var b=s((function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),p(this,"gppVersion",void 0),p(this,"cmpStatus",void 0),p(this,"cmpDisplayStatus",void 0),p(this,"signalStatus",void 0),p(this,"supportedAPIs",void 0),p(this,"cmpId",void 0),p(this,"sectionList",void 0),p(this,"applicableSections",void 0),p(this,"gppString",void 0),p(this,"parsedSections",void 0),this.gppVersion=e.gppVersion,this.cmpStatus=e.cmpStatus,this.cmpDisplayStatus=e.cmpDisplayStatus,this.signalStatus=e.signalStatus,this.supportedAPIs=e.supportedAPIs,this.cmpId=e.cmpId,this.sectionList=e.gppModel.getSectionIds(),this.applicableSections=e.applicableSections,this.gppString=e.gppModel.encode(),this.parsedSections=e.gppModel.toObject()}));n(137);function d(t){return(d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function v(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,S(r.key),r)}}function h(t,e,n){return(e=S(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function S(t){var e=function(t,e){if("object"!=d(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=d(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==d(e)?e:e+""}var m=function(){function t(e,n,r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),h(this,"callback",void 0),h(this,"parameter",void 0),h(this,"success",!0),h(this,"cmpApiContext",void 0),this.cmpApiContext=e,Object.assign(this,{callback:n,parameter:r})}var e,n,r;return e=t,(n=[{key:"execute",value:function(){try{return this.respond()}catch(t){return this.invokeCallback(null),null}}},{key:"invokeCallback",value:function(t){var e=null!==t;this.callback&&this.callback(t,e)}}])&&v(e.prototype,n),r&&v(e,r),Object.defineProperty(e,"prototype",{writable:!1}),t}();function O(t){return(O="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function g(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function E(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,w(r.key),r)}}function w(t){var e=function(t,e){if("object"!=O(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=O(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==O(e)?e:e+""}function _(t,e){return(_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function T(t){var e=function(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return function(){return!!t}()}();return function(){var n,r=N(t);if(e){var o=N(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return P(this,n)}}function P(t,e){if(e&&("object"===O(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function N(t){return(N=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var I=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&_(t,e)}(i,t);var e,n,r,o=T(i);function i(){return g(this,i),o.apply(this,arguments)}return e=i,(n=[{key:"respond",value:function(){var t=this.cmpApiContext.eventQueue.add({callback:this.callback,parameter:this.parameter}),e=new a("listenerRegistered",t,!0,new b(this.cmpApiContext));this.invokeCallback(e)}}])&&E(e.prototype,n),r&&E(e,r),Object.defineProperty(e,"prototype",{writable:!1}),i}(m);function j(t){return(j="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function A(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function C(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,R(r.key),r)}}function R(t){var e=function(t,e){if("object"!=j(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=j(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==j(e)?e:e+""}function D(t,e){return(D=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function V(t){var e=function(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return function(){return!!t}()}();return function(){var n,r=k(t);if(e){var o=k(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return M(this,n)}}function M(t,e){if(e&&("object"===j(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function k(t){return(k=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var U=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&D(t,e)}(i,t);var e,n,r,o=V(i);function i(){return A(this,i),o.apply(this,arguments)}return e=i,(n=[{key:"respond",value:function(){var t=new b(this.cmpApiContext);this.invokeCallback(t)}}])&&C(e.prototype,n),r&&C(e,r),Object.defineProperty(e,"prototype",{writable:!1}),i}(m);n(29),n(104);function G(t){return(G="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function L(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function F(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,x(r.key),r)}}function x(t){var e=function(t,e){if("object"!=G(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=G(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==G(e)?e:e+""}function B(t,e){return(B=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function H(t){var e=function(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return function(){return!!t}()}();return function(){var n,r=Y(t);if(e){var o=Y(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return z(this,n)}}function z(t,e){if(e&&("object"===G(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function Y(t){return(Y=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var K=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&B(t,e)}(i,t);var e,n,r,o=H(i);function i(){return L(this,i),o.apply(this,arguments)}return e=i,(n=[{key:"respond",value:function(){if(!this.parameter||0===this.parameter.length)throw new Error("<section>.<field> parameter required");var t=this.parameter.split(".");if(2!=t.length)throw new Error("Field name must be in the format <section>.<fieldName>");var e=t[0],n=t[1],r=this.cmpApiContext.gppModel.getFieldValue(e,n);this.invokeCallback(r)}}])&&F(e.prototype,n),r&&F(e,r),Object.defineProperty(e,"prototype",{writable:!1}),i}(m);function W(t){return(W="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Q(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function X(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,$(r.key),r)}}function $(t){var e=function(t,e){if("object"!=W(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=W(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==W(e)?e:e+""}function J(t,e){return(J=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function q(t){var e=function(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return function(){return!!t}()}();return function(){var n,r=tt(t);if(e){var o=tt(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Z(this,n)}}function Z(t,e){if(e&&("object"===W(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function tt(t){return(tt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var et=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&J(t,e)}(i,t);var e,n,r,o=q(i);function i(){return Q(this,i),o.apply(this,arguments)}return e=i,(n=[{key:"respond",value:function(){if(!this.parameter||0===this.parameter.length)throw new Error("<section> parameter required");var t=null;this.cmpApiContext.gppModel.hasSection(this.parameter)&&(t=this.cmpApiContext.gppModel.getSection(this.parameter)),this.invokeCallback(t)}}])&&X(e.prototype,n),r&&X(e,r),Object.defineProperty(e,"prototype",{writable:!1}),i}(m);function nt(t){return(nt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function rt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ot(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,it(r.key),r)}}function it(t){var e=function(t,e){if("object"!=nt(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=nt(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==nt(e)?e:e+""}function ut(t,e){return(ut=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function ct(t){var e=function(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return function(){return!!t}()}();return function(){var n,r=lt(t);if(e){var o=lt(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return at(this,n)}}function at(t,e){if(e&&("object"===nt(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function lt(t){return(lt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var ft,st=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ut(t,e)}(i,t);var e,n,r,o=ct(i);function i(){return rt(this,i),o.apply(this,arguments)}return e=i,(n=[{key:"respond",value:function(){if(!this.parameter||0===this.parameter.length)throw new Error("<section>[.version] parameter required");var t=this.cmpApiContext.gppModel.hasSection(this.parameter);this.invokeCallback(t)}}])&&ot(e.prototype,n),r&&ot(e,r),Object.defineProperty(e,"prototype",{writable:!1}),i}(m);function pt(t){return(pt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function yt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function bt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,dt(r.key),r)}}function dt(t){var e=function(t,e){if("object"!=pt(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=pt(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==pt(e)?e:e+""}function vt(t,e){return(vt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function ht(t){var e=function(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return function(){return!!t}()}();return function(){var n,r=mt(t);if(e){var o=mt(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return St(this,n)}}function St(t,e){if(e&&("object"===pt(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function mt(t){return(mt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}!function(t){t.ADD_EVENT_LISTENER="addEventListener",t.GET_FIELD="getField",t.GET_SECTION="getSection",t.HAS_SECTION="hasSection",t.PING="ping",t.REMOVE_EVENT_LISTENER="removeEventListener"}(ft||(ft={}));var Ot,gt,Et,wt,_t,Tt,Pt=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&vt(t,e)}(i,t);var e,n,r,o=ht(i);function i(){return yt(this,i),o.apply(this,arguments)}return e=i,(n=[{key:"respond",value:function(){var t=this.parameter,e=this.cmpApiContext.eventQueue.remove(t),n=new a("listenerRemoved",t,e,new b(this.cmpApiContext));this.invokeCallback(n)}}])&&bt(e.prototype,n),r&&bt(e,r),Object.defineProperty(e,"prototype",{writable:!1}),i}(m);function Nt(t){return(Nt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function It(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Ct(r.key),r)}}function jt(t,e,n){return e&&It(t.prototype,e),n&&It(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function At(t,e,n){return(e=Ct(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ct(t){var e=function(t,e){if("object"!=Nt(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=Nt(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Nt(e)?e:e+""}Ot=ft.ADD_EVENT_LISTENER,gt=ft.GET_FIELD,Et=ft.GET_SECTION,wt=ft.HAS_SECTION,_t=ft.PING,Tt=ft.REMOVE_EVENT_LISTENER;var Rt,Dt,Vt,Mt,kt=jt((function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}));At(kt,Ot,I),At(kt,gt,K),At(kt,Et,et),At(kt,wt,st),At(kt,_t,U),At(kt,Tt,Pt),function(t){t.STUB="stub",t.LOADING="loading",t.LOADED="loaded",t.ERROR="error"}(Rt||(Rt={})),function(t){t.VISIBLE="visible",t.HIDDEN="hidden",t.DISABLED="disabled"}(Dt||(Dt={})),function(t){t.GPP_LOADED="gpploaded",t.CMP_UI_SHOWN="cmpuishown",t.USER_ACTION_COMPLETE="useractioncomplete"}(Vt||(Vt={})),function(t){t.NOT_READY="not ready",t.READY="ready"}(Mt||(Mt={}));n(30),n(54),n(38),n(37);function Ut(t){return(Ut="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Gt(t){return function(t){if(Array.isArray(t))return Lt(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return Lt(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Lt(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Lt(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Ft(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Bt(r.key),r)}}function xt(t,e,n){return(e=Bt(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Bt(t){var e=function(t,e){if("object"!=Ut(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=Ut(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Ut(e)?e:e+""}var Ht=function(){function t(e,n){if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),xt(this,"callQueue",void 0),xt(this,"customCommands",void 0),xt(this,"cmpApiContext",void 0),this.cmpApiContext=e,n){var r=ft.ADD_EVENT_LISTENER;if(null!=n&&n[r])throw new Error("Built-In Custom Commmand for ".concat(r," not allowed"));if(r=ft.REMOVE_EVENT_LISTENER,null!=n&&n[r])throw new Error("Built-In Custom Commmand for ".concat(r," not allowed"));this.customCommands=n}try{this.callQueue=window.__gpp()||[]}catch(t){this.callQueue=[]}finally{window.__gpp=this.apiCall.bind(this),this.purgeQueuedCalls()}}var e,n,r;return e=t,(n=[{key:"apiCall",value:function(t,e,n,r){if("string"!=typeof t)e(null,!1);else{if(e&&"function"!=typeof e)throw new Error("invalid callback function");this.isCustomCommand(t)?this.customCommands[t](e,n):this.isBuiltInCommand(t)?new kt[t](this.cmpApiContext,e,n).execute():e&&e(null,!1)}}},{key:"purgeQueuedCalls",value:function(){var t=this.callQueue;this.callQueue=[],t.forEach((function(t){var e;(e=window).__gpp.apply(e,Gt(t))}))}},{key:"isCustomCommand",value:function(t){return this.customCommands&&"function"==typeof this.customCommands[t]}},{key:"isBuiltInCommand",value:function(t){return void 0!==kt[t]}}])&&Ft(e.prototype,n),r&&Ft(e,r),Object.defineProperty(e,"prototype",{writable:!1}),t}();n(192);function zt(t){return(zt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Yt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Wt(r.key),r)}}function Kt(t,e,n){return(e=Wt(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Wt(t){var e=function(t,e){if("object"!=zt(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=zt(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==zt(e)?e:e+""}var Qt=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),Kt(this,"eventQueue",new Map),Kt(this,"queueNumber",1e3),Kt(this,"cmpApiContext",void 0),this.cmpApiContext=e;try{for(var n=window.__gpp("events")||[],r=0;r<n.length;r++){var o=n[r];this.eventQueue.set(o.id,{callback:o.callback,parameter:o.parameter})}}catch(t){console.log(t)}}var e,n,r;return e=t,(n=[{key:"add",value:function(t){return this.eventQueue.set(this.queueNumber,t),this.queueNumber++}},{key:"get",value:function(t){return this.eventQueue.get(t)}},{key:"remove",value:function(t){return this.eventQueue.delete(t)}},{key:"exec",value:function(t,e){var n=this;this.eventQueue.forEach((function(r,o){var i=new a(t,o,e,new b(n.cmpApiContext));r.callback(i,!0)}))}},{key:"clear",value:function(){this.queueNumber=1e3,this.eventQueue.clear()}},{key:"size",get:function(){return this.eventQueue.size}}])&&Yt(e.prototype,n),r&&Yt(e,r),Object.defineProperty(e,"prototype",{writable:!1}),t}();n(103),n(147),n(143),n(76),n(77),n(59),n(72),n(136);function Xt(t){return(Xt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function $t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Jt(r.key),r)}}function Jt(t){var e=function(t,e){if("object"!=Xt(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=Xt(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Xt(e)?e:e+""}function qt(t,e){if(e&&("object"===Xt(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function Zt(t){var e="function"==typeof Map?new Map:void 0;return(Zt=function(t){if(null===t||!function(t){try{return-1!==Function.toString.call(t).indexOf("[native code]")}catch(e){return"function"==typeof t}}(t))return t;if("function"!=typeof t)throw new TypeError("Super expression must either be null or a function");if(void 0!==e){if(e.has(t))return e.get(t);e.set(t,n)}function n(){return te(t,arguments,re(this).constructor)}return n.prototype=Object.create(t.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),ne(n,t)})(t)}function te(t,e,n){if(ee())return Reflect.construct.apply(null,arguments);var r=[null];r.push.apply(r,e);var o=new(t.bind.apply(t,r));return n&&ne(o,n.prototype),o}function ee(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(ee=function(){return!!t})()}function ne(t,e){return(ne=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function re(t){return(re=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var oe=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ne(t,e)}(c,t);var e,n,r,o,i,u=(e=c,n=ee(),function(){var t,r=re(e);if(n){var o=re(this).constructor;t=Reflect.construct(r,arguments,o)}else t=r.apply(this,arguments);return qt(this,t)});function c(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,c),(e=u.call(this,t)).name="InvalidFieldError",e}return r=c,o&&$t(r.prototype,o),i&&$t(r,i),Object.defineProperty(r,"prototype",{writable:!1}),r}(Zt(Error));function ie(t){return(ie="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function ue(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,i,u,c=[],a=!0,l=!1;try{if(i=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;a=!1}else for(;!(a=(r=i.call(n)).done)&&(c.push(r.value),c.length!==e);a=!0);}catch(t){l=!0,o=t}finally{try{if(!a&&null!=n.return&&(u=n.return(),Object(u)!==u))return}finally{if(l)throw o}}return c}}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return ce(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ce(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ce(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function ae(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,fe(r.key),r)}}function le(t,e,n){return(e=fe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function fe(t){var e=function(t,e){if("object"!=ie(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=ie(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==ie(e)?e:e+""}var se=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),le(this,"segments",void 0),le(this,"encodedString",null),le(this,"dirty",!1),le(this,"decoded",!0),this.segments=this.initializeSegments()}var e,n,r;return e=t,(n=[{key:"hasField",value:function(t){this.decoded||(this.segments=this.decodeSection(this.encodedString),this.dirty=!1,this.decoded=!0);for(var e=0;e<this.segments.length;e++){var n=this.segments[e];if(n.getFieldNames().includes(t))return n.hasField(t)}return!1}},{key:"getFieldValue",value:function(t){this.decoded||(this.segments=this.decodeSection(this.encodedString),this.dirty=!1,this.decoded=!0);for(var e=0;e<this.segments.length;e++){var n=this.segments[e];if(n.hasField(t))return n.getFieldValue(t)}throw new oe("Invalid field: '"+t+"'")}},{key:"setFieldValue",value:function(t,e){this.decoded||(this.segments=this.decodeSection(this.encodedString),this.dirty=!1,this.decoded=!0);for(var n=0;n<this.segments.length;n++){var r=this.segments[n];if(r.hasField(t))return r.setFieldValue(t,e),void(this.dirty=!0)}throw new oe("Invalid field: '"+t+"'")}},{key:"toObj",value:function(){this.decoded||(this.segments=this.decodeSection(this.encodedString),this.dirty=!1,this.decoded=!0);for(var t={},e=0;e<this.segments.length;e++)for(var n=this.segments[e].toObj(),r=0,o=Object.entries(n);r<o.length;r++){var i=ue(o[r],2),u=i[0],c=i[1];t[u]=c}return t}},{key:"encode",value:function(){return(null==this.encodedString||0===this.encodedString.length||this.dirty)&&(this.encodedString=this.encodeSection(this.segments),this.dirty=!1,this.decoded=!0),this.encodedString}},{key:"decode",value:function(t){this.encodedString=t,this.dirty=!1,this.decoded=!1}}])&&ae(e.prototype,n),r&&ae(e,r),Object.defineProperty(e,"prototype",{writable:!1}),t}();function pe(t){return(pe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function ye(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,be(r.key),r)}}function be(t){var e=function(t,e){if("object"!=pe(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=pe(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==pe(e)?e:e+""}function de(t,e){if(e&&("object"===pe(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function ve(t){var e="function"==typeof Map?new Map:void 0;return(ve=function(t){if(null===t||!function(t){try{return-1!==Function.toString.call(t).indexOf("[native code]")}catch(e){return"function"==typeof t}}(t))return t;if("function"!=typeof t)throw new TypeError("Super expression must either be null or a function");if(void 0!==e){if(e.has(t))return e.get(t);e.set(t,n)}function n(){return he(t,arguments,Oe(this).constructor)}return n.prototype=Object.create(t.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),me(n,t)})(t)}function he(t,e,n){if(Se())return Reflect.construct.apply(null,arguments);var r=[null];r.push.apply(r,e);var o=new(t.bind.apply(t,r));return n&&me(o,n.prototype),o}function Se(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(Se=function(){return!!t})()}function me(t,e){return(me=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function Oe(t){return(Oe=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var ge=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&me(t,e)}(c,t);var e,n,r,o,i,u=(e=c,n=Se(),function(){var t,r=Oe(e);if(n){var o=Oe(this).constructor;t=Reflect.construct(r,arguments,o)}else t=r.apply(this,arguments);return de(this,t)});function c(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,c),(e=u.call(this,t)).name="DecodingError",e}return r=c,o&&ye(r.prototype,o),i&&ye(r,i),Object.defineProperty(r,"prototype",{writable:!1}),r}(ve(Error));function Ee(t){return(Ee="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function we(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,_e(r.key),r)}}function _e(t){var e=function(t,e){if("object"!=Ee(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=Ee(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Ee(e)?e:e+""}function Te(t,e){if(e&&("object"===Ee(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function Pe(t){var e="function"==typeof Map?new Map:void 0;return(Pe=function(t){if(null===t||!function(t){try{return-1!==Function.toString.call(t).indexOf("[native code]")}catch(e){return"function"==typeof t}}(t))return t;if("function"!=typeof t)throw new TypeError("Super expression must either be null or a function");if(void 0!==e){if(e.has(t))return e.get(t);e.set(t,n)}function n(){return Ne(t,arguments,Ae(this).constructor)}return n.prototype=Object.create(t.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),je(n,t)})(t)}function Ne(t,e,n){if(Ie())return Reflect.construct.apply(null,arguments);var r=[null];r.push.apply(r,e);var o=new(t.bind.apply(t,r));return n&&je(o,n.prototype),o}function Ie(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(Ie=function(){return!!t})()}function je(t,e){return(je=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function Ae(t){return(Ae=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Ce=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&je(t,e)}(c,t);var e,n,r,o,i,u=(e=c,n=Ie(),function(){var t,r=Ae(e);if(n){var o=Ae(this).constructor;t=Reflect.construct(r,arguments,o)}else t=r.apply(this,arguments);return Te(this,t)});function c(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,c),(e=u.call(this,t)).name="EncodingError",e}return r=c,o&&we(r.prototype,o),i&&we(r,i),Object.defineProperty(r,"prototype",{writable:!1}),r}(Pe(Error));function Re(t){return(Re="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function De(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Ve(r.key),r)}}function Ve(t){var e=function(t,e){if("object"!=Re(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=Re(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Re(e)?e:e+""}var Me=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}var e,n,r;return e=t,r=[{key:"encode",value:function(t,e){var n=[];if(t>=1)for(n.push(1);t>=2*n[0];)n.unshift(2*n[0]);for(var r="",o=0;o<n.length;o++){var i=n[o];t>=i?(r+="1",t-=i):r+="0"}if(r.length>e)throw new Ce("Numeric value '"+t+"' is too large for a bit string length of '"+e+"'");for(;r.length<e;)r="0"+r;return r}},{key:"decode",value:function(t){if(!/^[0-1]*$/.test(t))throw new ge("Undecodable FixedInteger '"+t+"'");for(var e=0,n=[],r=0;r<t.length;r++)n[t.length-(r+1)]=0===r?1:2*n[t.length-r];for(var o=0;o<t.length;o++)"1"===t.charAt(o)&&(e+=n[o]);return e}}],(n=null)&&De(e.prototype,n),r&&De(e,r),Object.defineProperty(e,"prototype",{writable:!1}),t}();function ke(t){return(ke="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Ue(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Le(r.key),r)}}function Ge(t,e,n){return(e=Le(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Le(t){var e=function(t,e){if("object"!=ke(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=ke(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==ke(e)?e:e+""}var Fe=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}var e,n,r;return e=t,(n=[{key:"encode",value:function(e){if(!/^[0-1]*$/.test(e))throw new Ce("Unencodable Base64Url '"+e+"'");e=this.pad(e);for(var n="",r=0;r<=e.length-6;){var o=e.substring(r,r+6);try{var i=Me.decode(o);n+=t.DICT.charAt(i),r+=6}catch(t){throw new Ce("Unencodable Base64Url '"+e+"'")}}return n}},{key:"decode",value:function(e){if(!/^[A-Za-z0-9\-_]*$/.test(e))throw new ge("Undecodable Base64URL string '"+e+"'");for(var n="",r=0;r<e.length;r++){var o=e.charAt(r),i=t.REVERSE_DICT.get(o);n+=Me.encode(i,6)}return n}}])&&Ue(e.prototype,n),r&&Ue(e,r),Object.defineProperty(e,"prototype",{writable:!1}),t}();function xe(t){return(xe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Be(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,We(r.key),r)}}function He(t,e){return(He=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function ze(t){var e=function(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return function(){return!!t}()}();return function(){var n,r=Ke(t);if(e){var o=Ke(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Ye(this,n)}}function Ye(t,e){if(e&&("object"===xe(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function Ke(t){return(Ke=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function We(t){var e=function(t,e){if("object"!=xe(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=xe(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==xe(e)?e:e+""}Ge(Fe,"DICT","ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"),Ge(Fe,"REVERSE_DICT",new Map([["A",0],["B",1],["C",2],["D",3],["E",4],["F",5],["G",6],["H",7],["I",8],["J",9],["K",10],["L",11],["M",12],["N",13],["O",14],["P",15],["Q",16],["R",17],["S",18],["T",19],["U",20],["V",21],["W",22],["X",23],["Y",24],["Z",25],["a",26],["b",27],["c",28],["d",29],["e",30],["f",31],["g",32],["h",33],["i",34],["j",35],["k",36],["l",37],["m",38],["n",39],["o",40],["p",41],["q",42],["r",43],["s",44],["t",45],["u",46],["v",47],["w",48],["x",49],["y",50],["z",51],["0",52],["1",53],["2",54],["3",55],["4",56],["5",57],["6",58],["7",59],["8",60],["9",61],["-",62],["_",63]]));var Qe,Xe,$e,Je=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&He(t,e)}(i,t);var e,n,r,o=ze(i);function i(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),o.call(this)}return e=i,r=[{key:"getInstance",value:function(){return this.instance}}],(n=[{key:"pad",value:function(t){for(;t.length%8>0;)t+="0";for(;t.length%6>0;)t+="0";return t}}])&&Be(e.prototype,n),r&&Be(e,r),Object.defineProperty(e,"prototype",{writable:!1}),i}(Fe);function qe(t){return(qe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Ze(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,tn(r.key),r)}}function tn(t){var e=function(t,e){if("object"!=qe(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=qe(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==qe(e)?e:e+""}Qe=Je,Xe="instance",$e=new Je,(Xe=We(Xe))in Qe?Object.defineProperty(Qe,Xe,{value:$e,enumerable:!0,configurable:!0,writable:!0}):Qe[Xe]=$e;var en=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}var e,n,r;return e=t,r=[{key:"getInstance",value:function(){return this.instance}}],(n=[{key:"encode",value:function(t,e){for(var n="",r=0;r<e.length;r++){var o=e[r];if(!t.containsKey(o))throw new Error("Field not found: '"+o+"'");n+=t.get(o).encode()}return n}},{key:"decode",value:function(t,e,n){for(var r=0,o=0;o<e.length;o++){var i=e[o];if(!n.containsKey(i))throw new Error("Field not found: '"+i+"'");var u=n.get(i);try{var c=u.substring(t,r);u.decode(c),r+=c.length}catch(t){if("SubstringError"!==t.name||u.getHardFailIfMissing())throw new ge("Unable to decode field '"+i+"'");return}}}}])&&Ze(e.prototype,n),r&&Ze(e,r),Object.defineProperty(e,"prototype",{writable:!1}),t}();!function(t,e,n){(e=tn(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n}(en,"instance",new en);n(194),n(105),n(193),n(71);function nn(t){return(nn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function rn(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,on(r.key),r)}}function on(t){var e=function(t,e){if("object"!=nn(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=nn(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==nn(e)?e:e+""}var un=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}var e,n,r;return e=t,r=[{key:"encode",value:function(t){var e=[];if(t>=1&&(e.push(1),t>=2)){e.push(2);for(var n=2;t>=e[n-1]+e[n-2];)e.push(e[n-1]+e[n-2]),n++}for(var r="1",o=e.length-1;o>=0;o--){var i=e[o];t>=i?(r="1"+r,t-=i):r="0"+r}return r}},{key:"decode",value:function(t){if(!/^[0-1]*$/.test(t)||t.length<2||t.indexOf("11")!==t.length-2)throw new ge("Undecodable FibonacciInteger '"+t+"'");for(var e=0,n=[],r=0;r<t.length-1;r++)0===r?n.push(1):1===r?n.push(2):n.push(n[r-1]+n[r-2]);for(var o=0;o<t.length-1;o++)"1"===t.charAt(o)&&(e+=n[o]);return e}}],(n=null)&&rn(e.prototype,n),r&&rn(e,r),Object.defineProperty(e,"prototype",{writable:!1}),t}();function cn(t){return(cn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function an(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,ln(r.key),r)}}function ln(t){var e=function(t,e){if("object"!=cn(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=cn(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==cn(e)?e:e+""}var fn=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}var e,n,r;return e=t,r=[{key:"encode",value:function(t){if(!0===t)return"1";if(!1===t)return"0";throw new Ce("Unencodable Boolean '"+t+"'")}},{key:"decode",value:function(t){if("1"===t)return!0;if("0"===t)return!1;throw new ge("Undecodable Boolean '"+t+"'")}}],(n=null)&&an(e.prototype,n),r&&an(e,r),Object.defineProperty(e,"prototype",{writable:!1}),t}();function sn(t){return(sn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function pn(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,yn(r.key),r)}}function yn(t){var e=function(t,e){if("object"!=sn(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=sn(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==sn(e)?e:e+""}var bn=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}var e,n,r;return e=t,r=[{key:"encode",value:function(t){t=t.sort((function(t,e){return t-e}));for(var e=[],n=0,r=0;r<t.length;){for(var o=r;o<t.length-1&&t[o]+1===t[o+1];)o++;e.push(t.slice(r,o+1)),r=o+1}for(var i=Me.encode(e.length,12),u=0;u<e.length;u++)if(1==e[u].length){var c=e[u][0]-n;n=e[u][0],i+="0"+un.encode(c)}else{var a=e[u][0]-n;n=e[u][0];var l=e[u][e[u].length-1]-n;n=e[u][e[u].length-1],i+="1"+un.encode(a)+un.encode(l)}return i}},{key:"decode",value:function(t){if(!/^[0-1]*$/.test(t)||t.length<12)throw new ge("Undecodable FibonacciIntegerRange '"+t+"'");for(var e=[],n=Me.decode(t.substring(0,12)),r=0,o=12,i=0;i<n;i++){var u=fn.decode(t.substring(o,o+1));if(o++,!0===u){var c=t.indexOf("11",o),a=un.decode(t.substring(o,c+2))+r;r=a,o=c+2,c=t.indexOf("11",o);var l=un.decode(t.substring(o,c+2))+r;r=l,o=c+2;for(var f=a;f<=l;f++)e.push(f)}else{var s=t.indexOf("11",o),p=un.decode(t.substring(o,s+2))+r;r=p,e.push(p),o=s+2}}return e}}],(n=null)&&pn(e.prototype,n),r&&pn(e,r),Object.defineProperty(e,"prototype",{writable:!1}),t}();function dn(t){return(dn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function vn(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,hn(r.key),r)}}function hn(t){var e=function(t,e){if("object"!=dn(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=dn(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==dn(e)?e:e+""}function Sn(t,e){if(e&&("object"===dn(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function mn(t){var e="function"==typeof Map?new Map:void 0;return(mn=function(t){if(null===t||!function(t){try{return-1!==Function.toString.call(t).indexOf("[native code]")}catch(e){return"function"==typeof t}}(t))return t;if("function"!=typeof t)throw new TypeError("Super expression must either be null or a function");if(void 0!==e){if(e.has(t))return e.get(t);e.set(t,n)}function n(){return On(t,arguments,wn(this).constructor)}return n.prototype=Object.create(t.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),En(n,t)})(t)}function On(t,e,n){if(gn())return Reflect.construct.apply(null,arguments);var r=[null];r.push.apply(r,e);var o=new(t.bind.apply(t,r));return n&&En(o,n.prototype),o}function gn(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(gn=function(){return!!t})()}function En(t,e){return(En=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function wn(t){return(wn=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var _n=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&En(t,e)}(c,t);var e,n,r,o,i,u=(e=c,n=gn(),function(){var t,r=wn(e);if(n){var o=wn(this).constructor;t=Reflect.construct(r,arguments,o)}else t=r.apply(this,arguments);return Sn(this,t)});function c(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,c),(e=u.call(this,t)).name="ValidationError",e}return r=c,o&&vn(r.prototype,o),i&&vn(r,i),Object.defineProperty(r,"prototype",{writable:!1}),r}(mn(Error));function Tn(t){return(Tn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Pn(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Nn(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,jn(r.key),r)}}function In(t,e,n){return(e=jn(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function jn(t){var e=function(t,e){if("object"!=Tn(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=Tn(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Tn(e)?e:e+""}var An=function(){function t(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];Pn(this,t),In(this,"hardFailIfMissing",void 0),In(this,"validator",void 0),In(this,"value",void 0),this.hardFailIfMissing=e}var e,n,r;return e=t,(n=[{key:"withValidator",value:function(t){return this.validator=t,this}},{key:"hasValue",value:function(){return void 0!==this.value&&null!==this.value}},{key:"getValue",value:function(){return this.value}},{key:"setValue",value:function(t){if(this.validator&&!this.validator.test(t))throw new _n("Invalid value '"+t+"'");this.value=t}},{key:"getHardFailIfMissing",value:function(){return this.hardFailIfMissing}}])&&Nn(e.prototype,n),r&&Nn(e,r),Object.defineProperty(e,"prototype",{writable:!1}),t}();function Cn(t){return(Cn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Rn(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Dn(r.key),r)}}function Dn(t){var e=function(t,e){if("object"!=Cn(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=Cn(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Cn(e)?e:e+""}function Vn(t,e){return(Vn=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function Mn(t){var e=function(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return function(){return!!t}()}();return function(){var n,r=Un(t);if(e){var o=Un(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return kn(this,n)}}function kn(t,e){if(e&&("object"===Cn(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function Un(t){return(Un=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Gn=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Vn(t,e)}(i,t);var e,n,r,o=Mn(i);function i(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),(e=o.call(this,t)).name="SubstringError",e}return e=i,n&&Rn(e.prototype,n),r&&Rn(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}(ge);function Ln(t){return(Ln="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Fn(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,xn(r.key),r)}}function xn(t){var e=function(t,e){if("object"!=Ln(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=Ln(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Ln(e)?e:e+""}var Bn=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}var e,n,r;return e=t,r=[{key:"substring",value:function(t,e,n){if(n>t.length||e<0||e>n)throw new Gn("Invalid substring indexes "+e+":"+n+" for string of length "+t.length);return t.substring(e,n)}}],(n=null)&&Fn(e.prototype,n),r&&Fn(e,r),Object.defineProperty(e,"prototype",{writable:!1}),t}();function Hn(t){return(Hn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function zn(t){return function(t){if(Array.isArray(t))return Yn(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return Yn(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Yn(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Yn(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Kn(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Wn(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Qn(r.key),r)}}function Qn(t){var e=function(t,e){if("object"!=Hn(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=Hn(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Hn(e)?e:e+""}function Xn(){return(Xn="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var r=$n(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(arguments.length<3?t:n):o.value}}).apply(this,arguments)}function $n(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=tr(t)););return t}function Jn(t,e){return(Jn=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function qn(t){var e=function(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return function(){return!!t}()}();return function(){var n,r=tr(t);if(e){var o=tr(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Zn(this,n)}}function Zn(t,e){if(e&&("object"===Hn(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function tr(t){return(tr=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var er=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Jn(t,e)}(i,t);var e,n,r,o=qn(i);function i(t){var e,n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return Kn(this,i),(e=o.call(this,n)).setValue(t),e}return e=i,(n=[{key:"encode",value:function(){try{return bn.encode(this.value)}catch(t){throw new Ce(t)}}},{key:"decode",value:function(t){try{this.value=bn.decode(t)}catch(t){throw new ge(t)}}},{key:"substring",value:function(t,e){try{for(var n=Me.decode(Bn.substring(t,e,e+12)),r=e+12,o=0;o<n;o++)r="1"===t.charAt(r)?t.indexOf("11",t.indexOf("11",r+1)+2)+2:t.indexOf("11",r+1)+2;return Bn.substring(t,e,r)}catch(t){throw new Gn(t)}}},{key:"getValue",value:function(){return zn(Xn(tr(i.prototype),"getValue",this).call(this))}},{key:"setValue",value:function(t){Xn(tr(i.prototype),"setValue",this).call(this,Array.from(new Set(t)).sort((function(t,e){return t-e})))}}])&&Wn(e.prototype,n),r&&Wn(e,r),Object.defineProperty(e,"prototype",{writable:!1}),i}(An);function nr(t){return(nr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function rr(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function or(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,sr(r.key),r)}}function ir(t,e){return(ir=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function ur(t){var e=function(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return function(){return!!t}()}();return function(){var n,r=lr(t);if(e){var o=lr(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return cr(this,n)}}function cr(t,e){if(e&&("object"===nr(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return ar(t)}function ar(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function lr(t){return(lr=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function fr(t,e,n){return(e=sr(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function sr(t){var e=function(t,e){if("object"!=nr(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=nr(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==nr(e)?e:e+""}var pr=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ir(t,e)}(i,t);var e,n,r,o=ur(i);function i(t,e){var n,r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return rr(this,i),fr(ar(n=o.call(this,r)),"bitStringLength",void 0),n.bitStringLength=t,n.setValue(e),n}return e=i,(n=[{key:"encode",value:function(){try{return Me.encode(this.value,this.bitStringLength)}catch(t){throw new Ce(t)}}},{key:"decode",value:function(t){try{this.value=Me.decode(t)}catch(t){throw new ge(t)}}},{key:"substring",value:function(t,e){try{return Bn.substring(t,e,e+this.bitStringLength)}catch(t){throw new Gn(t)}}}])&&or(e.prototype,n),r&&or(e,r),Object.defineProperty(e,"prototype",{writable:!1}),i}(An);function yr(t){return(yr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function br(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,dr(r.key),r)}}function dr(t){var e=function(t,e){if("object"!=yr(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=yr(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==yr(e)?e:e+""}var vr,hr=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),function(t,e,n){(e=dr(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n}(this,"fields",new Map)}var e,n,r;return e=t,(n=[{key:"containsKey",value:function(t){return this.fields.has(t)}},{key:"put",value:function(t,e){this.fields.set(t,e)}},{key:"get",value:function(t){return this.fields.get(t)}},{key:"getAll",value:function(){return new Map(this.fields)}},{key:"reset",value:function(t){var e=this;this.fields.clear(),t.getAll().forEach((function(t,n){e.fields.set(n,t)}))}}])&&br(e.prototype,n),r&&br(e,r),Object.defineProperty(e,"prototype",{writable:!1}),t}();!function(t){t.ID="Id",t.VERSION="Version",t.SECTION_IDS="SectionIds"}(vr||(vr={}));var Sr=[vr.ID,vr.VERSION,vr.SECTION_IDS];function mr(t){return(mr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Or(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Er(r.key),r)}}function gr(t,e,n){return(e=Er(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Er(t){var e=function(t,e){if("object"!=mr(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=mr(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==mr(e)?e:e+""}var wr=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),gr(this,"fields",void 0),gr(this,"encodedString",null),gr(this,"dirty",!1),gr(this,"decoded",!0),this.fields=this.initializeFields()}var e,n,r;return e=t,(n=[{key:"validate",value:function(){}},{key:"hasField",value:function(t){return this.fields.containsKey(t)}},{key:"getFieldValue",value:function(t){if(this.decoded||(this.decodeSegment(this.encodedString,this.fields),this.dirty=!1,this.decoded=!0),this.fields.containsKey(t))return this.fields.get(t).getValue();throw new oe("Invalid field: '"+t+"'")}},{key:"setFieldValue",value:function(t,e){if(this.decoded||(this.decodeSegment(this.encodedString,this.fields),this.dirty=!1,this.decoded=!0),!this.fields.containsKey(t))throw new oe(t+" not found");this.fields.get(t).setValue(e),this.dirty=!0}},{key:"toObj",value:function(){for(var t={},e=this.getFieldNames(),n=0;n<e.length;n++){var r=e[n],o=this.getFieldValue(r);t[r]=o}return t}},{key:"encode",value:function(){return(null==this.encodedString||0===this.encodedString.length||this.dirty)&&(this.encodedString=this.encodeSegment(this.fields),this.dirty=!1,this.decoded=!0),this.encodedString}},{key:"decode",value:function(t){this.encodedString=t,this.dirty=!1,this.decoded=!1}}])&&Or(e.prototype,n),r&&Or(e,r),Object.defineProperty(e,"prototype",{writable:!1}),t}();function _r(t){return(_r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Tr(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Rr(r.key),r)}}function Pr(t,e){return(Pr=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function Nr(t){var e=function(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return function(){return!!t}()}();return function(){var n,r=Ar(t);if(e){var o=Ar(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Ir(this,n)}}function Ir(t,e){if(e&&("object"===_r(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return jr(t)}function jr(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Ar(t){return(Ar=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Cr(t,e,n){return(e=Rr(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Rr(t){var e=function(t,e){if("object"!=_r(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=_r(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==_r(e)?e:e+""}var Dr=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Pr(t,e)}(i,t);var e,n,r,o=Nr(i);function i(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),Cr(jr(e=o.call(this)),"base64UrlEncoder",Je.getInstance()),Cr(jr(e),"bitStringEncoder",en.getInstance()),t&&e.decode(t),e}return e=i,(n=[{key:"getFieldNames",value:function(){return Sr}},{key:"initializeFields",value:function(){var t=new hr;return t.put(vr.ID.toString(),new pr(6,Hr.ID)),t.put(vr.VERSION.toString(),new pr(6,Hr.VERSION)),t.put(vr.SECTION_IDS.toString(),new er([])),t}},{key:"encodeSegment",value:function(t){var e=this.bitStringEncoder.encode(t,this.getFieldNames());return this.base64UrlEncoder.encode(e)}},{key:"decodeSegment",value:function(t,e){null!=t&&0!==t.length||this.fields.reset(e);try{var n=this.base64UrlEncoder.decode(t);this.bitStringEncoder.decode(n,this.getFieldNames(),e)}catch(e){throw new ge("Unable to decode HeaderV1CoreSegment '"+t+"'")}}}])&&Tr(e.prototype,n),r&&Tr(e,r),Object.defineProperty(e,"prototype",{writable:!1}),i}(wr);function Vr(t){return(Vr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Mr(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,xr(r.key),r)}}function kr(t,e){return(kr=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function Ur(t){var e=function(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return function(){return!!t}()}();return function(){var n,r=Lr(t);if(e){var o=Lr(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Gr(this,n)}}function Gr(t,e){if(e&&("object"===Vr(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function Lr(t){return(Lr=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Fr(t,e,n){return(e=xr(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function xr(t){var e=function(t,e){if("object"!=Vr(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=Vr(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Vr(e)?e:e+""}var Br,Hr=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&kr(t,e)}(i,t);var e,n,r,o=Ur(i);function i(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),e=o.call(this),t&&t.length>0&&e.decode(t),e}return e=i,(n=[{key:"getId",value:function(){return i.ID}},{key:"getName",value:function(){return i.NAME}},{key:"getVersion",value:function(){return i.VERSION}},{key:"initializeSegments",value:function(){var t=[];return t.push(new Dr),t}},{key:"decodeSection",value:function(t){var e=this.initializeSegments();if(null!=t&&0!==t.length)for(var n=t.split("."),r=0;r<e.length;r++)n.length>r&&e[r].decode(n[r]);return e}},{key:"encodeSection",value:function(t){for(var e=[],n=0;n<t.length;n++){var r=t[n];e.push(r.encode())}return e.join(".")}}])&&Mr(e.prototype,n),r&&Mr(e,r),Object.defineProperty(e,"prototype",{writable:!1}),i}(se);Fr(Hr,"ID",3),Fr(Hr,"VERSION",1),Fr(Hr,"NAME","header"),function(t){t.VERSION="Version",t.CREATED="Created",t.LAST_UPDATED="LastUpdated",t.CMP_ID="CmpId",t.CMP_VERSION="CmpVersion",t.CONSENT_SCREEN="ConsentScreen",t.CONSENT_LANGUAGE="ConsentLanguage",t.VENDOR_LIST_VERSION="VendorListVersion",t.POLICY_VERSION="PolicyVersion",t.IS_SERVICE_SPECIFIC="IsServiceSpecific",t.USE_NON_STANDARD_STACKS="UseNonStandardStacks",t.SPECIAL_FEATURE_OPTINS="SpecialFeatureOptins",t.PURPOSE_CONSENTS="PurposeConsents",t.PURPOSE_LEGITIMATE_INTERESTS="PurposeLegitimateInterests",t.PURPOSE_ONE_TREATMENT="PurposeOneTreatment",t.PUBLISHER_COUNTRY_CODE="PublisherCountryCode",t.VENDOR_CONSENTS="VendorConsents",t.VENDOR_LEGITIMATE_INTERESTS="VendorLegitimateInterests",t.PUBLISHER_RESTRICTIONS="PublisherRestrictions",t.PUBLISHER_PURPOSES_SEGMENT_TYPE="PublisherPurposesSegmentType",t.PUBLISHER_CONSENTS="PublisherConsents",t.PUBLISHER_LEGITIMATE_INTERESTS="PublisherLegitimateInterests",t.NUM_CUSTOM_PURPOSES="NumCustomPurposes",t.PUBLISHER_CUSTOM_CONSENTS="PublisherCustomConsents",t.PUBLISHER_CUSTOM_LEGITIMATE_INTERESTS="PublisherCustomLegitimateInterests",t.VENDORS_ALLOWED_SEGMENT_TYPE="VendorsAllowedSegmentType",t.VENDORS_ALLOWED="VendorsAllowed",t.VENDORS_DISCLOSED_SEGMENT_TYPE="VendorsDisclosedSegmentType",t.VENDORS_DISCLOSED="VendorsDisclosed"}(Br||(Br={}));var zr=[Br.VERSION,Br.CREATED,Br.LAST_UPDATED,Br.CMP_ID,Br.CMP_VERSION,Br.CONSENT_SCREEN,Br.CONSENT_LANGUAGE,Br.VENDOR_LIST_VERSION,Br.POLICY_VERSION,Br.IS_SERVICE_SPECIFIC,Br.USE_NON_STANDARD_STACKS,Br.SPECIAL_FEATURE_OPTINS,Br.PURPOSE_CONSENTS,Br.PURPOSE_LEGITIMATE_INTERESTS,Br.PURPOSE_ONE_TREATMENT,Br.PUBLISHER_COUNTRY_CODE,Br.VENDOR_CONSENTS,Br.VENDOR_LEGITIMATE_INTERESTS,Br.PUBLISHER_RESTRICTIONS],Yr=[Br.PUBLISHER_PURPOSES_SEGMENT_TYPE,Br.PUBLISHER_CONSENTS,Br.PUBLISHER_LEGITIMATE_INTERESTS,Br.NUM_CUSTOM_PURPOSES,Br.PUBLISHER_CUSTOM_CONSENTS,Br.PUBLISHER_CUSTOM_LEGITIMATE_INTERESTS],Kr=[Br.VENDORS_ALLOWED_SEGMENT_TYPE,Br.VENDORS_ALLOWED],Wr=[Br.VENDORS_DISCLOSED_SEGMENT_TYPE,Br.VENDORS_DISCLOSED];function Qr(t){return(Qr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Xr(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,to(r.key),r)}}function $r(t,e){return($r=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function Jr(t){var e=function(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return function(){return!!t}()}();return function(){var n,r=Zr(t);if(e){var o=Zr(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return qr(this,n)}}function qr(t,e){if(e&&("object"===Qr(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function Zr(t){return(Zr=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function to(t){var e=function(t,e){if("object"!=Qr(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=Qr(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Qr(e)?e:e+""}var eo=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&$r(t,e)}(i,t);var e,n,r,o=Jr(i);function i(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),o.call(this)}return e=i,r=[{key:"getInstance",value:function(){return this.instance}}],(n=[{key:"pad",value:function(t){for(;t.length%24>0;)t+="0";return t}}])&&Xr(e.prototype,n),r&&Xr(e,r),Object.defineProperty(e,"prototype",{writable:!1}),i}(Fe);function no(t){return(no="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function ro(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,oo(r.key),r)}}function oo(t){var e=function(t,e){if("object"!=no(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=no(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==no(e)?e:e+""}!function(t,e,n){(e=to(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n}(eo,"instance",new eo);var io=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}var e,n,r;return e=t,r=[{key:"encode",value:function(t){t.sort((function(t,e){return t-e}));for(var e=[],n=0;n<t.length;){for(var r=n;r<t.length-1&&t[r]+1===t[r+1];)r++;e.push(t.slice(n,r+1)),n=r+1}for(var o=Me.encode(e.length,12),i=0;i<e.length;i++)1===e[i].length?o+="0"+Me.encode(e[i][0],16):o+="1"+Me.encode(e[i][0],16)+Me.encode(e[i][e[i].length-1],16);return o}},{key:"decode",value:function(t){if(!/^[0-1]*$/.test(t)||t.length<12)throw new ge("Undecodable FixedIntegerRange '"+t+"'");for(var e=[],n=Me.decode(t.substring(0,12)),r=12,o=0;o<n;o++){var i=fn.decode(t.substring(r,r+1));if(r++,!0===i){var u=Me.decode(t.substring(r,r+16));r+=16;var c=Me.decode(t.substring(r,r+16));r+=16;for(var a=u;a<=c;a++)e.push(a)}else{var l=Me.decode(t.substring(r,r+16));e.push(l),r+=16}}return e}}],(n=null)&&ro(e.prototype,n),r&&ro(e,r),Object.defineProperty(e,"prototype",{writable:!1}),t}();function uo(t){return(uo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function co(t){return function(t){if(Array.isArray(t))return ao(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return ao(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ao(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ao(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function lo(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function fo(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,so(r.key),r)}}function so(t){var e=function(t,e){if("object"!=uo(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=uo(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==uo(e)?e:e+""}function po(){return(po="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var r=yo(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(arguments.length<3?t:n):o.value}}).apply(this,arguments)}function yo(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=So(t)););return t}function bo(t,e){return(bo=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function vo(t){var e=function(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return function(){return!!t}()}();return function(){var n,r=So(t);if(e){var o=So(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return ho(this,n)}}function ho(t,e){if(e&&("object"===uo(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function So(t){return(So=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var mo=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&bo(t,e)}(i,t);var e,n,r,o=vo(i);function i(t){var e,n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return lo(this,i),(e=o.call(this,n)).setValue(t),e}return e=i,(n=[{key:"encode",value:function(){try{return io.encode(this.value)}catch(t){throw new Ce(t)}}},{key:"decode",value:function(t){try{this.value=io.decode(t)}catch(t){throw new ge(t)}}},{key:"substring",value:function(t,e){try{for(var n=Me.decode(Bn.substring(t,e,e+12)),r=e+12,o=0;o<n;o++)"1"===t.charAt(r)?r+=33:r+=17;return Bn.substring(t,e,r)}catch(t){throw new Gn(t)}}},{key:"getValue",value:function(){return co(po(So(i.prototype),"getValue",this).call(this))}},{key:"setValue",value:function(t){po(So(i.prototype),"setValue",this).call(this,Array.from(new Set(t)).sort((function(t,e){return t-e})))}}])&&fo(e.prototype,n),r&&fo(e,r),Object.defineProperty(e,"prototype",{writable:!1}),i}(An);function Oo(t){return(Oo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function go(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,wo(r.key),r)}}function Eo(t,e,n){return(e=wo(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function wo(t){var e=function(t,e){if("object"!=Oo(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=Oo(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Oo(e)?e:e+""}var _o=function(){function t(e,n,r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),Eo(this,"key",void 0),Eo(this,"type",void 0),Eo(this,"ids",void 0),this.key=e,this.type=n,this.ids=r}var e,n,r;return e=t,(n=[{key:"getKey",value:function(){return this.key}},{key:"setKey",value:function(t){this.key=t}},{key:"getType",value:function(){return this.type}},{key:"setType",value:function(t){this.type=t}},{key:"getIds",value:function(){return this.ids}},{key:"setIds",value:function(t){this.ids=t}}])&&go(e.prototype,n),r&&go(e,r),Object.defineProperty(e,"prototype",{writable:!1}),t}();function To(t){return(To="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Po(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function No(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Vo(r.key),r)}}function Io(t,e){return(Io=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function jo(t){var e=function(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return function(){return!!t}()}();return function(){var n,r=Ro(t);if(e){var o=Ro(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Ao(this,n)}}function Ao(t,e){if(e&&("object"===To(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return Co(t)}function Co(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Ro(t){return(Ro=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Do(t,e,n){return(e=Vo(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Vo(t){var e=function(t,e){if("object"!=To(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=To(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==To(e)?e:e+""}var Mo=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Io(t,e)}(i,t);var e,n,r,o=jo(i);function i(t,e,n){var r,u=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];return Po(this,i),Do(Co(r=o.call(this,u)),"keyBitStringLength",void 0),Do(Co(r),"typeBitStringLength",void 0),r.keyBitStringLength=t,r.typeBitStringLength=e,r.setValue(n),r}return e=i,(n=[{key:"encode",value:function(){try{var t=this.value,e="";e+=Me.encode(t.length,12);for(var n=0;n<t.length;n++){var r=t[n];e+=Me.encode(r.getKey(),this.keyBitStringLength),e+=Me.encode(r.getType(),this.typeBitStringLength),e+=io.encode(r.getIds())}return e}catch(t){throw new Ce(t)}}},{key:"decode",value:function(t){try{for(var e=[],n=Me.decode(Bn.substring(t,0,12)),r=12,o=0;o<n;o++){var i=Me.decode(Bn.substring(t,r,r+this.keyBitStringLength));r+=this.keyBitStringLength;var u=Me.decode(Bn.substring(t,r,r+this.typeBitStringLength));r+=this.typeBitStringLength;var c=new mo([]).substring(t,r),a=io.decode(c);r+=c.length,e.push(new _o(i,u,a))}this.value=e}catch(t){throw new ge(t)}}},{key:"substring",value:function(t,e){try{var n="";n+=Bn.substring(t,e,e+12);for(var r=Me.decode(n.toString()),o=e+n.length,i=0;i<r;i++){var u=Bn.substring(t,o,o+this.keyBitStringLength);o+=u.length,n+=u;var c=Bn.substring(t,o,o+this.typeBitStringLength);o+=c.length,n+=c;var a=new mo([]).substring(t,o);o+=a.length,n+=a}return n}catch(t){throw new Gn(t)}}}])&&No(e.prototype,n),r&&No(e,r),Object.defineProperty(e,"prototype",{writable:!1}),i}(An);function ko(t){return(ko="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Uo(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Go(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Lo(r.key),r)}}function Lo(t){var e=function(t,e){if("object"!=ko(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=ko(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==ko(e)?e:e+""}function Fo(t,e){return(Fo=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function xo(t){var e=function(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return function(){return!!t}()}();return function(){var n,r=Ho(t);if(e){var o=Ho(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Bo(this,n)}}function Bo(t,e){if(e&&("object"===ko(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function Ho(t){return(Ho=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var zo=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Fo(t,e)}(i,t);var e,n,r,o=xo(i);function i(t){var e,n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return Uo(this,i),(e=o.call(this,n)).setValue(t),e}return e=i,(n=[{key:"encode",value:function(){try{return fn.encode(this.value)}catch(t){throw new Ce(t)}}},{key:"decode",value:function(t){try{this.value=fn.decode(t)}catch(t){throw new ge(t)}}},{key:"substring",value:function(t,e){try{return Bn.substring(t,e,e+1)}catch(t){throw new Gn(t)}}}])&&Go(e.prototype,n),r&&Go(e,r),Object.defineProperty(e,"prototype",{writable:!1}),i}(An);function Yo(t){return(Yo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Ko(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Wo(r.key),r)}}function Wo(t){var e=function(t,e){if("object"!=Yo(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=Yo(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Yo(e)?e:e+""}var Qo=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}var e,n,r;return e=t,r=[{key:"encode",value:function(t){return t?Me.encode(Math.round(t.getTime()/100),36):Me.encode(0,36)}},{key:"decode",value:function(t){if(!/^[0-1]*$/.test(t)||36!==t.length)throw new ge("Undecodable Datetime '"+t+"'");return new Date(100*Me.decode(t))}}],(n=null)&&Ko(e.prototype,n),r&&Ko(e,r),Object.defineProperty(e,"prototype",{writable:!1}),t}();function Xo(t){return(Xo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function $o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Jo(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,qo(r.key),r)}}function qo(t){var e=function(t,e){if("object"!=Xo(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=Xo(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Xo(e)?e:e+""}function Zo(t,e){return(Zo=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function ti(t){var e=function(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return function(){return!!t}()}();return function(){var n,r=ni(t);if(e){var o=ni(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return ei(this,n)}}function ei(t,e){if(e&&("object"===Xo(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function ni(t){return(ni=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var ri=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Zo(t,e)}(i,t);var e,n,r,o=ti(i);function i(t){var e,n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return $o(this,i),(e=o.call(this,n)).setValue(t),e}return e=i,(n=[{key:"encode",value:function(){try{return Qo.encode(this.value)}catch(t){throw new Ce(t)}}},{key:"decode",value:function(t){try{this.value=Qo.decode(t)}catch(t){throw new ge(t)}}},{key:"substring",value:function(t,e){try{return Bn.substring(t,e,e+36)}catch(t){throw new Gn(t)}}}])&&Jo(e.prototype,n),r&&Jo(e,r),Object.defineProperty(e,"prototype",{writable:!1}),i}(An);function oi(t){return(oi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function ii(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,ui(r.key),r)}}function ui(t){var e=function(t,e){if("object"!=oi(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=oi(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==oi(e)?e:e+""}var ci=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}var e,n,r;return e=t,r=[{key:"encode",value:function(t,e){if(t.length>e)throw new Ce("Too many values '"+t.length+"'");for(var n="",r=0;r<t.length;r++)n+=fn.encode(t[r]);for(;n.length<e;)n+="0";return n}},{key:"decode",value:function(t){if(!/^[0-1]*$/.test(t))throw new ge("Undecodable FixedBitfield '"+t+"'");for(var e=[],n=0;n<t.length;n++)e.push(fn.decode(t.substring(n,n+1)));return e}}],(n=null)&&ii(e.prototype,n),r&&ii(e,r),Object.defineProperty(e,"prototype",{writable:!1}),t}();function ai(t){return(ai="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function li(t){return function(t){if(Array.isArray(t))return fi(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return fi(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return fi(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function fi(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function si(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function pi(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,gi(r.key),r)}}function yi(){return(yi="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var r=bi(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(arguments.length<3?t:n):o.value}}).apply(this,arguments)}function bi(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=mi(t)););return t}function di(t,e){return(di=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function vi(t){var e=function(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return function(){return!!t}()}();return function(){var n,r=mi(t);if(e){var o=mi(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return hi(this,n)}}function hi(t,e){if(e&&("object"===ai(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return Si(t)}function Si(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function mi(t){return(mi=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Oi(t,e,n){return(e=gi(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function gi(t){var e=function(t,e){if("object"!=ai(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=ai(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==ai(e)?e:e+""}var Ei=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&di(t,e)}(i,t);var e,n,r,o=vi(i);function i(t){var e,n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return si(this,i),Oi(Si(e=o.call(this,n)),"numElements",void 0),e.numElements=t.length,e.setValue(t),e}return e=i,(n=[{key:"encode",value:function(){try{return ci.encode(this.value,this.numElements)}catch(t){throw new Ce(t)}}},{key:"decode",value:function(t){try{this.value=ci.decode(t)}catch(t){throw new ge(t)}}},{key:"substring",value:function(t,e){try{return Bn.substring(t,e,e+this.numElements)}catch(t){throw new Gn(t)}}},{key:"getValue",value:function(){return li(yi(mi(i.prototype),"getValue",this).call(this))}},{key:"setValue",value:function(t){for(var e=li(t),n=e.length;n<this.numElements;n++)e.push(!1);e.length>this.numElements&&(e=e.slice(0,this.numElements)),yi(mi(i.prototype),"setValue",this).call(this,e)}}])&&pi(e.prototype,n),r&&pi(e,r),Object.defineProperty(e,"prototype",{writable:!1}),i}(An);function wi(t){return(wi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function _i(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Ti(r.key),r)}}function Ti(t){var e=function(t,e){if("object"!=wi(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=wi(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==wi(e)?e:e+""}var Pi=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}var e,n,r;return e=t,r=[{key:"encode",value:function(t,e){for(;t.length<e;)t+=" ";for(var n="",r=0;r<t.length;r++){var o=t.charCodeAt(r);if(32===o)n+=Me.encode(63,6);else{if(!(o>=65))throw new Ce("Unencodable FixedString '"+t+"'");n+=Me.encode(t.charCodeAt(r)-65,6)}}return n}},{key:"decode",value:function(t){if(!/^[0-1]*$/.test(t)||t.length%6!=0)throw new ge("Undecodable FixedString '"+t+"'");for(var e="",n=0;n<t.length;n+=6){var r=Me.decode(t.substring(n,n+6));e+=63===r?" ":String.fromCharCode(r+65)}return e.trim()}}],(n=null)&&_i(e.prototype,n),r&&_i(e,r),Object.defineProperty(e,"prototype",{writable:!1}),t}();function Ni(t){return(Ni="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Ii(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ji(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,ki(r.key),r)}}function Ai(t,e){return(Ai=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function Ci(t){var e=function(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return function(){return!!t}()}();return function(){var n,r=Vi(t);if(e){var o=Vi(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Ri(this,n)}}function Ri(t,e){if(e&&("object"===Ni(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return Di(t)}function Di(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Vi(t){return(Vi=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Mi(t,e,n){return(e=ki(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ki(t){var e=function(t,e){if("object"!=Ni(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=Ni(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Ni(e)?e:e+""}var Ui=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Ai(t,e)}(i,t);var e,n,r,o=Ci(i);function i(t,e){var n,r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return Ii(this,i),Mi(Di(n=o.call(this,r)),"stringLength",void 0),n.stringLength=t,n.setValue(e),n}return e=i,(n=[{key:"encode",value:function(){try{return Pi.encode(this.value,this.stringLength)}catch(t){throw new Ce(t)}}},{key:"decode",value:function(t){try{this.value=Pi.decode(t)}catch(t){throw new ge(t)}}},{key:"substring",value:function(t,e){try{return Bn.substring(t,e,e+6*this.stringLength)}catch(t){throw new Gn(t)}}}])&&ji(e.prototype,n),r&&ji(e,r),Object.defineProperty(e,"prototype",{writable:!1}),i}(An);function Gi(t){return(Gi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Li(t){return function(t){if(Array.isArray(t))return Fi(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return Fi(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Fi(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Fi(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function xi(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Bi(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Hi(r.key),r)}}function Hi(t){var e=function(t,e){if("object"!=Gi(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=Gi(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Gi(e)?e:e+""}function zi(){return(zi="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var r=Yi(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(arguments.length<3?t:n):o.value}}).apply(this,arguments)}function Yi(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Xi(t)););return t}function Ki(t,e){return(Ki=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function Wi(t){var e=function(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return function(){return!!t}()}();return function(){var n,r=Xi(t);if(e){var o=Xi(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Qi(this,n)}}function Qi(t,e){if(e&&("object"===Gi(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function Xi(t){return(Xi=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var $i=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Ki(t,e)}(i,t);var e,n,r,o=Wi(i);function i(t){var e,n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return xi(this,i),(e=o.call(this,n)).setValue(t),e}return e=i,(n=[{key:"encode",value:function(){try{var t=this.value.length>0?this.value[this.value.length-1]:0,e=io.encode(this.value),n=e.length,r=t;if(n<=r)return Me.encode(t,16)+"1"+e;for(var o=[],i=0,u=0;u<t;u++)u===this.value[i]-1?(o[u]=!0,i++):o[u]=!1;return Me.encode(t,16)+"0"+ci.encode(o,r)}catch(t){throw new Ce(t)}}},{key:"decode",value:function(t){try{if("1"===t.charAt(16))this.value=io.decode(t.substring(17));else{for(var e=[],n=ci.decode(t.substring(17)),r=0;r<n.length;r++)!0===n[r]&&e.push(r+1);this.value=e}}catch(t){throw new ge(t)}}},{key:"substring",value:function(t,e){try{var n=Me.decode(Bn.substring(t,e,e+16));return"1"===t.charAt(e+16)?Bn.substring(t,e,e+17)+new mo([]).substring(t,e+17):Bn.substring(t,e,e+17+n)}catch(t){throw new Gn(t)}}},{key:"getValue",value:function(){return Li(zi(Xi(i.prototype),"getValue",this).call(this))}},{key:"setValue",value:function(t){zi(Xi(i.prototype),"setValue",this).call(this,Array.from(new Set(t)).sort((function(t,e){return t-e})))}}])&&Bi(e.prototype,n),r&&Bi(e,r),Object.defineProperty(e,"prototype",{writable:!1}),i}(An);function Ji(t){return(Ji="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function qi(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,iu(r.key),r)}}function Zi(t,e){return(Zi=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function tu(t){var e=function(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return function(){return!!t}()}();return function(){var n,r=ru(t);if(e){var o=ru(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return eu(this,n)}}function eu(t,e){if(e&&("object"===Ji(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return nu(t)}function nu(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function ru(t){return(ru=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function ou(t,e,n){return(e=iu(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function iu(t){var e=function(t,e){if("object"!=Ji(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=Ji(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Ji(e)?e:e+""}var uu=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Zi(t,e)}(i,t);var e,n,r,o=tu(i);function i(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),ou(nu(e=o.call(this)),"base64UrlEncoder",eo.getInstance()),ou(nu(e),"bitStringEncoder",en.getInstance()),t&&e.decode(t),e}return e=i,(n=[{key:"getFieldNames",value:function(){return zr}},{key:"initializeFields",value:function(){var t=new Date,e=new hr;return e.put(Br.VERSION.toString(),new pr(6,lc.VERSION)),e.put(Br.CREATED.toString(),new ri(t)),e.put(Br.LAST_UPDATED.toString(),new ri(t)),e.put(Br.CMP_ID.toString(),new pr(12,0)),e.put(Br.CMP_VERSION.toString(),new pr(12,0)),e.put(Br.CONSENT_SCREEN.toString(),new pr(6,0)),e.put(Br.CONSENT_LANGUAGE.toString(),new Ui(2,"EN")),e.put(Br.VENDOR_LIST_VERSION.toString(),new pr(12,0)),e.put(Br.POLICY_VERSION.toString(),new pr(6,2)),e.put(Br.IS_SERVICE_SPECIFIC.toString(),new zo(!1)),e.put(Br.USE_NON_STANDARD_STACKS.toString(),new zo(!1)),e.put(Br.SPECIAL_FEATURE_OPTINS.toString(),new Ei([!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1])),e.put(Br.PURPOSE_CONSENTS.toString(),new Ei([!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1])),e.put(Br.PURPOSE_LEGITIMATE_INTERESTS.toString(),new Ei([!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1])),e.put(Br.PURPOSE_ONE_TREATMENT.toString(),new zo(!1)),e.put(Br.PUBLISHER_COUNTRY_CODE.toString(),new Ui(2,"AA")),e.put(Br.VENDOR_CONSENTS.toString(),new $i([])),e.put(Br.VENDOR_LEGITIMATE_INTERESTS.toString(),new $i([])),e.put(Br.PUBLISHER_RESTRICTIONS.toString(),new Mo(6,2,[],!1)),e}},{key:"encodeSegment",value:function(t){var e=this.bitStringEncoder.encode(t,this.getFieldNames());return this.base64UrlEncoder.encode(e)}},{key:"decodeSegment",value:function(t,e){null!=t&&0!==t.length||this.fields.reset(e);try{var n=this.base64UrlEncoder.decode(t);this.bitStringEncoder.decode(n,this.getFieldNames(),e)}catch(e){throw new ge("Unable to decode TcfEuV2CoreSegment '"+t+"'")}}}])&&qi(e.prototype,n),r&&qi(e,r),Object.defineProperty(e,"prototype",{writable:!1}),i}(wr);function cu(t){return(cu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function au(t){return function(t){if(Array.isArray(t))return lu(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return lu(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return lu(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function lu(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function fu(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function su(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Ou(r.key),r)}}function pu(){return(pu="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var r=yu(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(arguments.length<3?t:n):o.value}}).apply(this,arguments)}function yu(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Su(t)););return t}function bu(t,e){return(bu=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function du(t){var e=function(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return function(){return!!t}()}();return function(){var n,r=Su(t);if(e){var o=Su(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return vu(this,n)}}function vu(t,e){if(e&&("object"===cu(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return hu(t)}function hu(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Su(t){return(Su=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function mu(t,e,n){return(e=Ou(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ou(t){var e=function(t,e){if("object"!=cu(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=cu(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==cu(e)?e:e+""}var gu=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&bu(t,e)}(i,t);var e,n,r,o=du(i);function i(t,e){var n,r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return fu(this,i),mu(hu(n=o.call(this,r)),"getLength",void 0),n.getLength=t,n.setValue(e),n}return e=i,(n=[{key:"encode",value:function(){try{return ci.encode(this.value,this.getLength())}catch(t){throw new Ce(t)}}},{key:"decode",value:function(t){try{this.value=ci.decode(t)}catch(t){throw new ge(t)}}},{key:"substring",value:function(t,e){try{return Bn.substring(t,e,e+this.getLength())}catch(t){throw new Gn(t)}}},{key:"getValue",value:function(){return au(pu(Su(i.prototype),"getValue",this).call(this))}},{key:"setValue",value:function(t){for(var e=this.getLength(),n=au(t),r=n.length;r<e;r++)n.push(!1);n.length>e&&(n=n.slice(0,e)),pu(Su(i.prototype),"setValue",this).call(this,au(n))}}])&&su(e.prototype,n),r&&su(e,r),Object.defineProperty(e,"prototype",{writable:!1}),i}(An);function Eu(t){return(Eu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function wu(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Au(r.key),r)}}function _u(t,e){return(_u=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function Tu(t){var e=function(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return function(){return!!t}()}();return function(){var n,r=Iu(t);if(e){var o=Iu(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Pu(this,n)}}function Pu(t,e){if(e&&("object"===Eu(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return Nu(t)}function Nu(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Iu(t){return(Iu=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function ju(t,e,n){return(e=Au(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Au(t){var e=function(t,e){if("object"!=Eu(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=Eu(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Eu(e)?e:e+""}var Cu=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&_u(t,e)}(i,t);var e,n,r,o=Tu(i);function i(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),ju(Nu(e=o.call(this)),"base64UrlEncoder",eo.getInstance()),ju(Nu(e),"bitStringEncoder",en.getInstance()),t&&e.decode(t),e}return e=i,(n=[{key:"getFieldNames",value:function(){return Yr}},{key:"initializeFields",value:function(){var t=new hr;t.put(Br.PUBLISHER_PURPOSES_SEGMENT_TYPE.toString(),new pr(3,3)),t.put(Br.PUBLISHER_CONSENTS.toString(),new Ei([!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1])),t.put(Br.PUBLISHER_LEGITIMATE_INTERESTS.toString(),new Ei([!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1]));var e=new pr(6,0);return t.put(Br.NUM_CUSTOM_PURPOSES.toString(),e),t.put(Br.PUBLISHER_CUSTOM_CONSENTS.toString(),new gu((function(){return e.getValue()}),[])),t.put(Br.PUBLISHER_CUSTOM_LEGITIMATE_INTERESTS.toString(),new gu((function(){return e.getValue()}),[])),t}},{key:"encodeSegment",value:function(t){var e=this.bitStringEncoder.encode(t,this.getFieldNames());return this.base64UrlEncoder.encode(e)}},{key:"decodeSegment",value:function(t,e){null!=t&&0!==t.length||this.fields.reset(e);try{var n=this.base64UrlEncoder.decode(t);this.bitStringEncoder.decode(n,this.getFieldNames(),e)}catch(e){throw new ge("Unable to decode TcfEuV2PublisherPurposesSegment '"+t+"'")}}}])&&wu(e.prototype,n),r&&wu(e,r),Object.defineProperty(e,"prototype",{writable:!1}),i}(wr);function Ru(t){return(Ru="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Du(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Fu(r.key),r)}}function Vu(t,e){return(Vu=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function Mu(t){var e=function(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return function(){return!!t}()}();return function(){var n,r=Gu(t);if(e){var o=Gu(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return ku(this,n)}}function ku(t,e){if(e&&("object"===Ru(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return Uu(t)}function Uu(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Gu(t){return(Gu=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Lu(t,e,n){return(e=Fu(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Fu(t){var e=function(t,e){if("object"!=Ru(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=Ru(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Ru(e)?e:e+""}var xu=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Vu(t,e)}(i,t);var e,n,r,o=Mu(i);function i(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),Lu(Uu(e=o.call(this)),"base64UrlEncoder",eo.getInstance()),Lu(Uu(e),"bitStringEncoder",en.getInstance()),t&&e.decode(t),e}return e=i,(n=[{key:"getFieldNames",value:function(){return Kr}},{key:"initializeFields",value:function(){var t=new hr;return t.put(Br.VENDORS_ALLOWED_SEGMENT_TYPE.toString(),new pr(3,2)),t.put(Br.VENDORS_ALLOWED.toString(),new $i([])),t}},{key:"encodeSegment",value:function(t){var e=this.bitStringEncoder.encode(t,this.getFieldNames());return this.base64UrlEncoder.encode(e)}},{key:"decodeSegment",value:function(t,e){null!=t&&0!==t.length||this.fields.reset(e);try{var n=this.base64UrlEncoder.decode(t);this.bitStringEncoder.decode(n,this.getFieldNames(),e)}catch(e){throw new ge("Unable to decode TcfEuV2VendorsAllowedSegment '"+t+"'")}}}])&&Du(e.prototype,n),r&&Du(e,r),Object.defineProperty(e,"prototype",{writable:!1}),i}(wr);function Bu(t){return(Bu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Hu(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,$u(r.key),r)}}function zu(t,e){return(zu=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function Yu(t){var e=function(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return function(){return!!t}()}();return function(){var n,r=Qu(t);if(e){var o=Qu(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Ku(this,n)}}function Ku(t,e){if(e&&("object"===Bu(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return Wu(t)}function Wu(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Qu(t){return(Qu=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Xu(t,e,n){return(e=$u(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function $u(t){var e=function(t,e){if("object"!=Bu(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=Bu(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Bu(e)?e:e+""}var Ju=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&zu(t,e)}(i,t);var e,n,r,o=Yu(i);function i(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),Xu(Wu(e=o.call(this)),"base64UrlEncoder",eo.getInstance()),Xu(Wu(e),"bitStringEncoder",en.getInstance()),t&&e.decode(t),e}return e=i,(n=[{key:"getFieldNames",value:function(){return Wr}},{key:"initializeFields",value:function(){var t=new hr;return t.put(Br.VENDORS_DISCLOSED_SEGMENT_TYPE.toString(),new pr(3,1)),t.put(Br.VENDORS_DISCLOSED.toString(),new $i([])),t}},{key:"encodeSegment",value:function(t){var e=this.bitStringEncoder.encode(t,this.getFieldNames());return this.base64UrlEncoder.encode(e)}},{key:"decodeSegment",value:function(t,e){null!=t&&0!==t.length||this.fields.reset(e);try{var n=this.base64UrlEncoder.decode(t);this.bitStringEncoder.decode(n,this.getFieldNames(),e)}catch(e){throw new ge("Unable to decode TcfEuV2VendorsDisclosedSegment '"+t+"'")}}}])&&Hu(e.prototype,n),r&&Hu(e,r),Object.defineProperty(e,"prototype",{writable:!1}),i}(wr);function qu(t){return(qu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Zu(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,cc(r.key),r)}}function tc(){return(tc="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var r=ec(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(arguments.length<3?t:n):o.value}}).apply(this,arguments)}function ec(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=ic(t)););return t}function nc(t,e){return(nc=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function rc(t){var e=function(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return function(){return!!t}()}();return function(){var n,r=ic(t);if(e){var o=ic(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return oc(this,n)}}function oc(t,e){if(e&&("object"===qu(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function ic(t){return(ic=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function uc(t,e,n){return(e=cc(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function cc(t){var e=function(t,e){if("object"!=qu(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=qu(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==qu(e)?e:e+""}var ac,lc=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&nc(t,e)}(i,t);var e,n,r,o=rc(i);function i(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),e=o.call(this),t&&t.length>0&&e.decode(t),e}return e=i,(n=[{key:"getId",value:function(){return i.ID}},{key:"getName",value:function(){return i.NAME}},{key:"getVersion",value:function(){return i.VERSION}},{key:"initializeSegments",value:function(){var t=[];return t.push(new uu),t.push(new Cu),t.push(new xu),t.push(new Ju),t}},{key:"decodeSection",value:function(t){var e=this.initializeSegments();if(null!=t&&0!==t.length)for(var n=t.split("."),r=0;r<n.length;r++){var o=n[r];if(0!==o.length){var i=o.charAt(0);if(i>="A"&&i<="H")e[0].decode(n[r]);else if(i>="I"&&i<="P")e[3].decode(n[r]);else if(i>="Q"&&i<="X")e[2].decode(n[r]);else{if(!(i>="Y"&&i<="Z"||i>="a"&&i<="f"))throw new ge("Unable to decode TcfEuV2 segment '"+o+"'");e[1].decode(n[r])}}}return e}},{key:"encodeSection",value:function(t){var e=[];return t.length>=1&&(e.push(t[0].encode()),this.getFieldValue(Br.IS_SERVICE_SPECIFIC)?t.length>=2&&e.push(t[1].encode()):t.length>=2&&(e.push(t[2].encode()),t.length>=3&&e.push(t[3].encode()))),e.join(".")}},{key:"setFieldValue",value:function(t,e){if(tc(ic(i.prototype),"setFieldValue",this).call(this,t,e),t!==Br.CREATED&&t!==Br.LAST_UPDATED){var n=new Date;tc(ic(i.prototype),"setFieldValue",this).call(this,Br.CREATED,n),tc(ic(i.prototype),"setFieldValue",this).call(this,Br.LAST_UPDATED,n)}}}])&&Zu(e.prototype,n),r&&Zu(e,r),Object.defineProperty(e,"prototype",{writable:!1}),i}(se);uc(lc,"ID",2),uc(lc,"VERSION",2),uc(lc,"NAME","tcfeuv2"),function(t){t.VERSION="Version",t.CREATED="Created",t.LAST_UPDATED="LastUpdated",t.CMP_ID="CmpId",t.CMP_VERSION="CmpVersion",t.CONSENT_SCREEN="ConsentScreen",t.CONSENT_LANGUAGE="ConsentLanguage",t.VENDOR_LIST_VERSION="VendorListVersion",t.TCF_POLICY_VERSION="TcfPolicyVersion",t.USE_NON_STANDARD_STACKS="UseNonStandardStacks",t.SPECIAL_FEATURE_EXPRESS_CONSENT="SpecialFeatureExpressConsent",t.PUB_PURPOSES_SEGMENT_TYPE="PubPurposesSegmentType",t.PURPOSES_EXPRESS_CONSENT="PurposesExpressConsent",t.PURPOSES_IMPLIED_CONSENT="PurposesImpliedConsent",t.VENDOR_EXPRESS_CONSENT="VendorExpressConsent",t.VENDOR_IMPLIED_CONSENT="VendorImpliedConsent",t.PUB_RESTRICTIONS="PubRestrictions",t.PUB_PURPOSES_EXPRESS_CONSENT="PubPurposesExpressConsent",t.PUB_PURPOSES_IMPLIED_CONSENT="PubPurposesImpliedConsent",t.NUM_CUSTOM_PURPOSES="NumCustomPurposes",t.CUSTOM_PURPOSES_EXPRESS_CONSENT="CustomPurposesExpressConsent",t.CUSTOM_PURPOSES_IMPLIED_CONSENT="CustomPurposesImpliedConsent",t.DISCLOSED_VENDORS_SEGMENT_TYPE="DisclosedVendorsSegmentType",t.DISCLOSED_VENDORS="DisclosedVendors"}(ac||(ac={}));var fc=[ac.VERSION,ac.CREATED,ac.LAST_UPDATED,ac.CMP_ID,ac.CMP_VERSION,ac.CONSENT_SCREEN,ac.CONSENT_LANGUAGE,ac.VENDOR_LIST_VERSION,ac.TCF_POLICY_VERSION,ac.USE_NON_STANDARD_STACKS,ac.SPECIAL_FEATURE_EXPRESS_CONSENT,ac.PURPOSES_EXPRESS_CONSENT,ac.PURPOSES_IMPLIED_CONSENT,ac.VENDOR_EXPRESS_CONSENT,ac.VENDOR_IMPLIED_CONSENT,ac.PUB_RESTRICTIONS],sc=[ac.PUB_PURPOSES_SEGMENT_TYPE,ac.PUB_PURPOSES_EXPRESS_CONSENT,ac.PUB_PURPOSES_IMPLIED_CONSENT,ac.NUM_CUSTOM_PURPOSES,ac.CUSTOM_PURPOSES_EXPRESS_CONSENT,ac.CUSTOM_PURPOSES_IMPLIED_CONSENT],pc=[ac.DISCLOSED_VENDORS_SEGMENT_TYPE,ac.DISCLOSED_VENDORS];function yc(t){return(yc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function bc(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,gc(r.key),r)}}function dc(t,e){return(dc=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function vc(t){var e=function(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return function(){return!!t}()}();return function(){var n,r=mc(t);if(e){var o=mc(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return hc(this,n)}}function hc(t,e){if(e&&("object"===yc(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return Sc(t)}function Sc(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function mc(t){return(mc=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Oc(t,e,n){return(e=gc(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function gc(t){var e=function(t,e){if("object"!=yc(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=yc(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==yc(e)?e:e+""}var Ec=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&dc(t,e)}(i,t);var e,n,r,o=vc(i);function i(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),Oc(Sc(e=o.call(this)),"base64UrlEncoder",Je.getInstance()),Oc(Sc(e),"bitStringEncoder",en.getInstance()),t&&e.decode(t),e}return e=i,(n=[{key:"getFieldNames",value:function(){return fc}},{key:"initializeFields",value:function(){var t=new Date,e=new hr;return e.put(ac.VERSION.toString(),new pr(6,Zc.VERSION)),e.put(ac.CREATED.toString(),new ri(t)),e.put(ac.LAST_UPDATED.toString(),new ri(t)),e.put(ac.CMP_ID.toString(),new pr(12,0)),e.put(ac.CMP_VERSION.toString(),new pr(12,0)),e.put(ac.CONSENT_SCREEN.toString(),new pr(6,0)),e.put(ac.CONSENT_LANGUAGE.toString(),new Ui(2,"EN")),e.put(ac.VENDOR_LIST_VERSION.toString(),new pr(12,0)),e.put(ac.TCF_POLICY_VERSION.toString(),new pr(6,2)),e.put(ac.USE_NON_STANDARD_STACKS.toString(),new zo(!1)),e.put(ac.SPECIAL_FEATURE_EXPRESS_CONSENT.toString(),new Ei([!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1])),e.put(ac.PURPOSES_EXPRESS_CONSENT.toString(),new Ei([!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1])),e.put(ac.PURPOSES_IMPLIED_CONSENT.toString(),new Ei([!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1])),e.put(ac.VENDOR_EXPRESS_CONSENT.toString(),new $i([])),e.put(ac.VENDOR_IMPLIED_CONSENT.toString(),new $i([])),e.put(ac.PUB_RESTRICTIONS.toString(),new Mo(6,2,[],!1)),e}},{key:"encodeSegment",value:function(t){var e=this.bitStringEncoder.encode(t,this.getFieldNames());return this.base64UrlEncoder.encode(e)}},{key:"decodeSegment",value:function(t,e){null!=t&&0!==t.length||this.fields.reset(e);try{var n=this.base64UrlEncoder.decode(t);this.bitStringEncoder.decode(n,this.getFieldNames(),e)}catch(e){throw new ge("Unable to decode TcfCaV1CoreSegment '"+t+"'")}}}])&&bc(e.prototype,n),r&&bc(e,r),Object.defineProperty(e,"prototype",{writable:!1}),i}(wr);function wc(t){return(wc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function _c(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Cc(r.key),r)}}function Tc(t,e){return(Tc=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function Pc(t){var e=function(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return function(){return!!t}()}();return function(){var n,r=jc(t);if(e){var o=jc(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Nc(this,n)}}function Nc(t,e){if(e&&("object"===wc(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return Ic(t)}function Ic(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function jc(t){return(jc=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Ac(t,e,n){return(e=Cc(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Cc(t){var e=function(t,e){if("object"!=wc(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=wc(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==wc(e)?e:e+""}var Rc=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Tc(t,e)}(i,t);var e,n,r,o=Pc(i);function i(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),Ac(Ic(e=o.call(this)),"base64UrlEncoder",Je.getInstance()),Ac(Ic(e),"bitStringEncoder",en.getInstance()),t&&e.decode(t),e}return e=i,(n=[{key:"getFieldNames",value:function(){return sc}},{key:"initializeFields",value:function(){var t=new hr;t.put(ac.PUB_PURPOSES_SEGMENT_TYPE.toString(),new pr(3,3)),t.put(ac.PUB_PURPOSES_EXPRESS_CONSENT.toString(),new Ei([!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1])),t.put(ac.PUB_PURPOSES_IMPLIED_CONSENT.toString(),new Ei([!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1]));var e=new pr(6,0);return t.put(ac.NUM_CUSTOM_PURPOSES.toString(),e),t.put(ac.CUSTOM_PURPOSES_EXPRESS_CONSENT.toString(),new gu((function(){return e.getValue()}),[])),t.put(ac.CUSTOM_PURPOSES_IMPLIED_CONSENT.toString(),new gu((function(){return e.getValue()}),[])),t}},{key:"encodeSegment",value:function(t){var e=this.bitStringEncoder.encode(t,this.getFieldNames());return this.base64UrlEncoder.encode(e)}},{key:"decodeSegment",value:function(t,e){null!=t&&0!==t.length||this.fields.reset(e);try{var n=this.base64UrlEncoder.decode(t);this.bitStringEncoder.decode(n,this.getFieldNames(),e)}catch(e){throw new ge("Unable to decode TcfCaV1PublisherPurposesSegment '"+t+"'")}}}])&&_c(e.prototype,n),r&&_c(e,r),Object.defineProperty(e,"prototype",{writable:!1}),i}(wr);function Dc(t){return(Dc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Vc(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,xc(r.key),r)}}function Mc(t,e){return(Mc=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function kc(t){var e=function(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return function(){return!!t}()}();return function(){var n,r=Lc(t);if(e){var o=Lc(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Uc(this,n)}}function Uc(t,e){if(e&&("object"===Dc(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return Gc(t)}function Gc(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Lc(t){return(Lc=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Fc(t,e,n){return(e=xc(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function xc(t){var e=function(t,e){if("object"!=Dc(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=Dc(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Dc(e)?e:e+""}var Bc=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Mc(t,e)}(i,t);var e,n,r,o=kc(i);function i(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),Fc(Gc(e=o.call(this)),"base64UrlEncoder",eo.getInstance()),Fc(Gc(e),"bitStringEncoder",en.getInstance()),t&&e.decode(t),e}return e=i,(n=[{key:"getFieldNames",value:function(){return pc}},{key:"initializeFields",value:function(){var t=new hr;return t.put(ac.DISCLOSED_VENDORS_SEGMENT_TYPE.toString(),new pr(3,1)),t.put(ac.DISCLOSED_VENDORS.toString(),new $i([])),t}},{key:"encodeSegment",value:function(t){var e=this.bitStringEncoder.encode(t,this.getFieldNames());return this.base64UrlEncoder.encode(e)}},{key:"decodeSegment",value:function(t,e){null!=t&&0!==t.length||this.fields.reset(e);try{var n=this.base64UrlEncoder.decode(t);this.bitStringEncoder.decode(n,this.getFieldNames(),e)}catch(e){throw new ge("Unable to decode HeaderV1CoreSegment '"+t+"'")}}}])&&Vc(e.prototype,n),r&&Vc(e,r),Object.defineProperty(e,"prototype",{writable:!1}),i}(wr);function Hc(t){return(Hc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function zc(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,qc(r.key),r)}}function Yc(){return(Yc="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var r=Kc(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(arguments.length<3?t:n):o.value}}).apply(this,arguments)}function Kc(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=$c(t)););return t}function Wc(t,e){return(Wc=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function Qc(t){var e=function(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return function(){return!!t}()}();return function(){var n,r=$c(t);if(e){var o=$c(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Xc(this,n)}}function Xc(t,e){if(e&&("object"===Hc(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function $c(t){return($c=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Jc(t,e,n){return(e=qc(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function qc(t){var e=function(t,e){if("object"!=Hc(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=Hc(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Hc(e)?e:e+""}var Zc=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Wc(t,e)}(i,t);var e,n,r,o=Qc(i);function i(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),e=o.call(this),t&&t.length>0&&e.decode(t),e}return e=i,(n=[{key:"getId",value:function(){return i.ID}},{key:"getName",value:function(){return i.NAME}},{key:"getVersion",value:function(){return i.VERSION}},{key:"initializeSegments",value:function(){var t=[];return t.push(new Ec),t.push(new Rc),t.push(new Bc),t}},{key:"decodeSection",value:function(t){var e=this.initializeSegments();if(null!=t&&0!==t.length)for(var n=t.split("."),r=0;r<n.length;r++){var o=n[r];if(0!==o.length){var i=o.charAt(0);if(i>="A"&&i<="H")e[0].decode(n[r]);else if(i>="I"&&i<="P")e[2].decode(n[r]);else{if(!(i>="Y"&&i<="Z"||i>="a"&&i<="f"))throw new ge("Unable to decode TcfCaV1 segment '"+o+"'");e[1].decode(n[r])}}}return e}},{key:"encodeSection",value:function(t){var e=[];return e.push(t[0].encode()),e.push(t[1].encode()),this.getFieldValue(ac.DISCLOSED_VENDORS).length>0&&e.push(t[2].encode()),e.join(".")}},{key:"setFieldValue",value:function(t,e){if(Yc($c(i.prototype),"setFieldValue",this).call(this,t,e),t!==ac.CREATED&&t!==ac.LAST_UPDATED){var n=new Date;Yc($c(i.prototype),"setFieldValue",this).call(this,ac.CREATED,n),Yc($c(i.prototype),"setFieldValue",this).call(this,ac.LAST_UPDATED,n)}}}])&&zc(e.prototype,n),r&&zc(e,r),Object.defineProperty(e,"prototype",{writable:!1}),i}(se);Jc(Zc,"ID",5),Jc(Zc,"VERSION",1),Jc(Zc,"NAME","tcfcav1");n(142);function ta(t){return(ta="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function ea(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function na(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,ia(r.key),r)}}function ra(t,e,n){return e&&na(t.prototype,e),n&&na(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function oa(t,e,n){return(e=ia(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ia(t){var e=function(t,e){if("object"!=ta(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=ta(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==ta(e)?e:e+""}var ua=function(){function t(e,n){ea(this,t),oa(this,"validator",void 0),oa(this,"value",null),this.validator=n||new(function(){function t(){ea(this,t)}return ra(t,[{key:"test",value:function(t){return!0}}]),t}()),this.setValue(e)}return ra(t,[{key:"hasValue",value:function(){return null!=this.value}},{key:"getValue",value:function(){return this.value}},{key:"setValue",value:function(t){t?this.value=t.charAt(0):t=null}}]),t}();function ca(t){return(ca="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function aa(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function la(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,pa(r.key),r)}}function fa(t,e,n){return e&&la(t.prototype,e),n&&la(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function sa(t,e,n){return(e=pa(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function pa(t){var e=function(t,e){if("object"!=ca(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=ca(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==ca(e)?e:e+""}var ya=function(){function t(e,n){aa(this,t),sa(this,"validator",void 0),sa(this,"value",null),this.validator=n||new(function(){function t(){aa(this,t)}return fa(t,[{key:"test",value:function(t){return!0}}]),t}()),this.setValue(e)}return fa(t,[{key:"hasValue",value:function(){return null!=this.value}},{key:"getValue",value:function(){return this.value}},{key:"setValue",value:function(t){this.value=t}}]),t}();function ba(t){return(ba="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function da(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,va(r.key),r)}}function va(t){var e=function(t,e){if("object"!=ba(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=ba(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==ba(e)?e:e+""}var ha,Sa=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),function(t,e,n){(e=va(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n}(this,"fields",new Map)}var e,n,r;return e=t,(n=[{key:"containsKey",value:function(t){return this.fields.has(t)}},{key:"put",value:function(t,e){this.fields.set(t,e)}},{key:"get",value:function(t){return this.fields.get(t)}},{key:"getAll",value:function(){return new Map(this.fields)}},{key:"reset",value:function(t){var e=this;this.fields.clear(),t.getAll().forEach((function(t,n){e.fields.set(n,t)}))}}])&&da(e.prototype,n),r&&da(e,r),Object.defineProperty(e,"prototype",{writable:!1}),t}();!function(t){t.VERSION="Version",t.NOTICE="Notice",t.OPT_OUT_SALE="OptOutSale",t.LSPA_COVERED="LspaCovered"}(ha||(ha={}));var ma=[ha.VERSION,ha.NOTICE,ha.OPT_OUT_SALE,ha.LSPA_COVERED];function Oa(t){return(Oa="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function ga(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Ea(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,_a(r.key),r)}}function wa(t,e,n){return e&&Ea(t.prototype,e),n&&Ea(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function _a(t){var e=function(t,e){if("object"!=Oa(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=Oa(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Oa(e)?e:e+""}function Ta(t,e){return(Ta=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function Pa(t){var e=function(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return function(){return!!t}()}();return function(){var n,r=Ia(t);if(e){var o=Ia(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Na(this,n)}}function Na(t,e){if(e&&("object"===Oa(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function Ia(t){return(Ia=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var ja=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Ta(t,e)}(n,t);var e=Pa(n);function n(t){var r;return ga(this,n),r=e.call(this),t&&r.decode(t),r}return wa(n,[{key:"getFieldNames",value:function(){return ma}},{key:"initializeFields",value:function(){var t=new(function(){function t(){ga(this,t)}return wa(t,[{key:"test",value:function(t){return"-"===t||"Y"===t||"N"===t}}]),t}()),e=new Sa;return e.put(ha.VERSION,new ya(La.VERSION)),e.put(ha.NOTICE,new ua("-",t)),e.put(ha.OPT_OUT_SALE,new ua("-",t)),e.put(ha.LSPA_COVERED,new ua("-",t)),e}},{key:"encodeSegment",value:function(t){var e="";return e+=t.get(ha.VERSION).getValue(),e+=t.get(ha.NOTICE).getValue(),e+=t.get(ha.OPT_OUT_SALE).getValue(),e+=t.get(ha.LSPA_COVERED).getValue()}},{key:"decodeSegment",value:function(t,e){if(null==t||4!=t.length)throw new ge("Unable to decode UspV1CoreSegment '"+t+"'");try{e.get(ha.VERSION).setValue(parseInt(t.substring(0,1))),e.get(ha.NOTICE).setValue(t.charAt(1)),e.get(ha.OPT_OUT_SALE).setValue(t.charAt(2)),e.get(ha.LSPA_COVERED).setValue(t.charAt(3))}catch(e){throw new ge("Unable to decode UspV1CoreSegment '"+t+"'")}}}]),n}(wr);function Aa(t){return(Aa="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Ca(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Ua(r.key),r)}}function Ra(t,e){return(Ra=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function Da(t){var e=function(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return function(){return!!t}()}();return function(){var n,r=Ma(t);if(e){var o=Ma(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Va(this,n)}}function Va(t,e){if(e&&("object"===Aa(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function Ma(t){return(Ma=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function ka(t,e,n){return(e=Ua(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ua(t){var e=function(t,e){if("object"!=Aa(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=Aa(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Aa(e)?e:e+""}var Ga,La=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Ra(t,e)}(i,t);var e,n,r,o=Da(i);function i(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),e=o.call(this),t&&t.length>0&&e.decode(t),e}return e=i,(n=[{key:"getId",value:function(){return i.ID}},{key:"getName",value:function(){return i.NAME}},{key:"getVersion",value:function(){return i.VERSION}},{key:"initializeSegments",value:function(){var t=[];return t.push(new ja),t}},{key:"decodeSection",value:function(t){var e=this.initializeSegments();if(null!=t&&0!==t.length)for(var n=t.split("."),r=0;r<e.length;r++)n.length>r&&e[r].decode(n[r]);return e}},{key:"encodeSection",value:function(t){for(var e=[],n=0;n<t.length;n++){var r=t[n];e.push(r.encode())}return e.join(".")}}])&&Ca(e.prototype,n),r&&Ca(e,r),Object.defineProperty(e,"prototype",{writable:!1}),i}(se);ka(La,"ID",6),ka(La,"VERSION",1),ka(La,"NAME","uspv1"),function(t){t.VERSION="Version",t.SHARING_NOTICE="SharingNotice",t.SALE_OPT_OUT_NOTICE="SaleOptOutNotice",t.SHARING_OPT_OUT_NOTICE="SharingOptOutNotice",t.TARGETED_ADVERTISING_OPT_OUT_NOTICE="TargetedAdvertisingOptOutNotice",t.SENSITIVE_DATA_PROCESSING_OPT_OUT_NOTICE="SensitiveDataProcessingOptOutNotice",t.SENSITIVE_DATA_LIMIT_USE_NOTICE="SensitiveDataLimitUseNotice",t.SALE_OPT_OUT="SaleOptOut",t.SHARING_OPT_OUT="SharingOptOut",t.TARGETED_ADVERTISING_OPT_OUT="TargetedAdvertisingOptOut",t.SENSITIVE_DATA_PROCESSING="SensitiveDataProcessing",t.KNOWN_CHILD_SENSITIVE_DATA_CONSENTS="KnownChildSensitiveDataConsents",t.PERSONAL_DATA_CONSENTS="PersonalDataConsents",t.MSPA_COVERED_TRANSACTION="MspaCoveredTransaction",t.MSPA_OPT_OUT_OPTION_MODE="MspaOptOutOptionMode",t.MSPA_SERVICE_PROVIDER_MODE="MspaServiceProviderMode",t.GPC_SEGMENT_TYPE="GpcSegmentType",t.GPC_SEGMENT_INCLUDED="GpcSegmentIncluded",t.GPC="Gpc"}(Ga||(Ga={}));var Fa=[Ga.VERSION,Ga.SHARING_NOTICE,Ga.SALE_OPT_OUT_NOTICE,Ga.SHARING_OPT_OUT_NOTICE,Ga.TARGETED_ADVERTISING_OPT_OUT_NOTICE,Ga.SENSITIVE_DATA_PROCESSING_OPT_OUT_NOTICE,Ga.SENSITIVE_DATA_LIMIT_USE_NOTICE,Ga.SALE_OPT_OUT,Ga.SHARING_OPT_OUT,Ga.TARGETED_ADVERTISING_OPT_OUT,Ga.SENSITIVE_DATA_PROCESSING,Ga.KNOWN_CHILD_SENSITIVE_DATA_CONSENTS,Ga.PERSONAL_DATA_CONSENTS,Ga.MSPA_COVERED_TRANSACTION,Ga.MSPA_OPT_OUT_OPTION_MODE,Ga.MSPA_SERVICE_PROVIDER_MODE],xa=[Ga.GPC_SEGMENT_TYPE,Ga.GPC];function Ba(t){return(Ba="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Ha(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,za(r.key),r)}}function za(t){var e=function(t,e){if("object"!=Ba(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=Ba(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Ba(e)?e:e+""}var Ya=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}var e,n,r;return e=t,r=[{key:"encode",value:function(t,e,n){if(t.length>n)throw new Ce("Too many values '"+t.length+"'");for(var r="",o=0;o<t.length;o++)r+=Me.encode(t[o],e);for(;r.length<e*n;)r+="0";return r}},{key:"decode",value:function(t,e,n){if(!/^[0-1]*$/.test(t))throw new ge("Undecodable FixedInteger '"+t+"'");if(t.length>e*n)throw new ge("Undecodable FixedIntegerList '"+t+"'");if(t.length%e!=0)throw new ge("Undecodable FixedIntegerList '"+t+"'");for(;t.length<e*n;)t+="0";t.length>e*n&&(t=t.substring(0,e*n));for(var r=[],o=0;o<t.length;o+=e)r.push(Me.decode(t.substring(o,o+e)));for(;r.length<n;)r.push(0);return r}}],(n=null)&&Ha(e.prototype,n),r&&Ha(e,r),Object.defineProperty(e,"prototype",{writable:!1}),t}();function Ka(t){return(Ka="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Wa(t){return function(t){if(Array.isArray(t))return Qa(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return Qa(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Qa(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Qa(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Xa(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function $a(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,il(r.key),r)}}function Ja(){return(Ja="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var r=qa(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(arguments.length<3?t:n):o.value}}).apply(this,arguments)}function qa(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=rl(t)););return t}function Za(t,e){return(Za=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function tl(t){var e=function(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return function(){return!!t}()}();return function(){var n,r=rl(t);if(e){var o=rl(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return el(this,n)}}function el(t,e){if(e&&("object"===Ka(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return nl(t)}function nl(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function rl(t){return(rl=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function ol(t,e,n){return(e=il(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function il(t){var e=function(t,e){if("object"!=Ka(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=Ka(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Ka(e)?e:e+""}var ul=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Za(t,e)}(i,t);var e,n,r,o=tl(i);function i(t,e){var n,r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return Xa(this,i),ol(nl(n=o.call(this,r)),"elementBitStringLength",void 0),ol(nl(n),"numElements",void 0),n.elementBitStringLength=t,n.numElements=e.length,n.setValue(e),n}return e=i,(n=[{key:"encode",value:function(){try{return Ya.encode(this.value,this.elementBitStringLength,this.numElements)}catch(t){throw new Ce(t)}}},{key:"decode",value:function(t){try{this.value=Ya.decode(t,this.elementBitStringLength,this.numElements)}catch(t){throw new ge(t)}}},{key:"substring",value:function(t,e){try{return Bn.substring(t,e,e+this.elementBitStringLength*this.numElements)}catch(t){throw new Gn(t)}}},{key:"getValue",value:function(){return Wa(Ja(rl(i.prototype),"getValue",this).call(this))}},{key:"setValue",value:function(t){for(var e=Wa(t),n=e.length;n<this.numElements;n++)e.push(0);e.length>this.numElements&&(e=e.slice(0,this.numElements)),Ja(rl(i.prototype),"setValue",this).call(this,e)}}])&&$a(e.prototype,n),r&&$a(e,r),Object.defineProperty(e,"prototype",{writable:!1}),i}(An);function cl(t){return(cl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function al(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ll(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,hl(r.key),r)}}function fl(t,e,n){return e&&ll(t.prototype,e),n&&ll(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function sl(t,e){return(sl=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function pl(t){var e=function(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return function(){return!!t}()}();return function(){var n,r=dl(t);if(e){var o=dl(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return yl(this,n)}}function yl(t,e){if(e&&("object"===cl(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return bl(t)}function bl(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function dl(t){return(dl=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function vl(t,e,n){return(e=hl(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function hl(t){var e=function(t,e){if("object"!=cl(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=cl(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==cl(e)?e:e+""}var Sl=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&sl(t,e)}(n,t);var e=pl(n);function n(t){var r;return al(this,n),vl(bl(r=e.call(this)),"base64UrlEncoder",Je.getInstance()),vl(bl(r),"bitStringEncoder",en.getInstance()),t&&r.decode(t),r}return fl(n,[{key:"getFieldNames",value:function(){return Fa}},{key:"initializeFields",value:function(){var t=new(function(){function t(){al(this,t)}return fl(t,[{key:"test",value:function(t){return t>=0&&t<=2}}]),t}()),e=new(function(){function t(){al(this,t)}return fl(t,[{key:"test",value:function(t){return t>=1&&t<=2}}]),t}()),n=new(function(){function t(){al(this,t)}return fl(t,[{key:"test",value:function(t){for(var e=0;e<t.length;e++){var n=t[e];if(n<0||n>2)return!1}return!0}}]),t}()),r=new hr;return r.put(Ga.VERSION.toString(),new pr(6,Gl.VERSION)),r.put(Ga.SHARING_NOTICE.toString(),new pr(2,0).withValidator(t)),r.put(Ga.SALE_OPT_OUT_NOTICE.toString(),new pr(2,0).withValidator(t)),r.put(Ga.SHARING_OPT_OUT_NOTICE.toString(),new pr(2,0).withValidator(t)),r.put(Ga.TARGETED_ADVERTISING_OPT_OUT_NOTICE.toString(),new pr(2,0).withValidator(t)),r.put(Ga.SENSITIVE_DATA_PROCESSING_OPT_OUT_NOTICE.toString(),new pr(2,0).withValidator(t)),r.put(Ga.SENSITIVE_DATA_LIMIT_USE_NOTICE.toString(),new pr(2,0).withValidator(t)),r.put(Ga.SALE_OPT_OUT.toString(),new pr(2,0).withValidator(t)),r.put(Ga.SHARING_OPT_OUT.toString(),new pr(2,0).withValidator(t)),r.put(Ga.TARGETED_ADVERTISING_OPT_OUT.toString(),new pr(2,0).withValidator(t)),r.put(Ga.SENSITIVE_DATA_PROCESSING.toString(),new ul(2,[0,0,0,0,0,0,0,0,0,0,0,0]).withValidator(n)),r.put(Ga.KNOWN_CHILD_SENSITIVE_DATA_CONSENTS.toString(),new ul(2,[0,0]).withValidator(n)),r.put(Ga.PERSONAL_DATA_CONSENTS.toString(),new pr(2,0).withValidator(t)),r.put(Ga.MSPA_COVERED_TRANSACTION.toString(),new pr(2,1).withValidator(e)),r.put(Ga.MSPA_OPT_OUT_OPTION_MODE.toString(),new pr(2,0).withValidator(t)),r.put(Ga.MSPA_SERVICE_PROVIDER_MODE.toString(),new pr(2,0).withValidator(t)),r}},{key:"encodeSegment",value:function(t){var e=this.bitStringEncoder.encode(t,this.getFieldNames());return this.base64UrlEncoder.encode(e)}},{key:"decodeSegment",value:function(t,e){null!=t&&0!==t.length||this.fields.reset(e);try{var n=this.base64UrlEncoder.decode(t);this.bitStringEncoder.decode(n,this.getFieldNames(),e)}catch(e){throw new ge("Unable to decode UsNatCoreSegment '"+t+"'")}}},{key:"validate",value:function(){var t=this.fields.get(Ga.SHARING_NOTICE).getValue(),e=this.fields.get(Ga.SHARING_OPT_OUT_NOTICE).getValue(),n=this.fields.get(Ga.SHARING_OPT_OUT).getValue(),r=this.fields.get(Ga.SALE_OPT_OUT_NOTICE).getValue(),o=this.fields.get(Ga.SALE_OPT_OUT).getValue(),i=this.fields.get(Ga.TARGETED_ADVERTISING_OPT_OUT_NOTICE).getValue(),u=this.fields.get(Ga.TARGETED_ADVERTISING_OPT_OUT).getValue(),c=this.fields.get(Ga.MSPA_SERVICE_PROVIDER_MODE).getValue(),a=this.fields.get(Ga.MSPA_OPT_OUT_OPTION_MODE).getValue(),l=this.fields.get(Ga.SENSITIVE_DATA_LIMIT_USE_NOTICE).getValue();if(0==t){if(0!=n)throw new _n("Invalid usnat sharing notice / opt out combination: {"+t+" / "+n+"}")}else if(1==t){if(1!=n&&2!=n)throw new _n("Invalid usnat sharing notice / opt out combination: {"+t+" / "+n+"}")}else if(2==t&&1!=n)throw new _n("Invalid usnat sharing notice / opt out combination: {"+t+" / "+n+"}");if(0==e){if(0!=n)throw new _n("Invalid usnat sharing notice / opt out combination: {"+e+" / "+n+"}")}else if(1==e){if(1!=n&&2!=n)throw new _n("Invalid usnat sharing notice / opt out combination: {"+e+" / "+n+"}")}else if(2==e&&1!=n)throw new _n("Invalid usnat sharing notice / opt out combination: {"+e+" / "+n+"}");if(0==r){if(0!=o)throw new _n("Invalid usnat sale notice / opt out combination: {"+r+" / "+o+"}")}else if(1==r){if(1!=o&&2!=o)throw new _n("Invalid usnat sale notice / opt out combination: {"+r+" / "+o+"}")}else if(2==r&&1!=o)throw new _n("Invalid usnat sale notice / opt out combination: {"+r+" / "+o+"}");if(0==i){if(0!=u)throw new _n("Invalid usnat targeted advertising notice / opt out combination: {"+i+" / "+u+"}")}else if(1==i){if(1!=o&&2!=o)throw new _n("Invalid usnat targeted advertising notice / opt out combination: {"+i+" / "+u+"}")}else if(2==i&&1!=o)throw new _n("Invalid usnat targeted advertising notice / opt out combination: {"+i+" / "+u+"}");if(0==c){if(0!=r)throw new _n("Invalid usnat mspa service provider mode / sale opt out notice combination: {"+c+" / "+r+"}");if(0!=e)throw new _n("Invalid usnat mspa service provider mode / sharing opt out notice combination: {"+c+" / "+e+"}");if(0!=l)throw new _n("Invalid usnat mspa service provider mode / sensitive data limit use notice combination: {"+c+" / "+l+"}")}else if(1==c){if(2!=a)throw new _n("Invalid usnat mspa service provider / opt out option modes combination: {"+c+" / "+c+"}");if(0!=r)throw new _n("Invalid usnat mspa service provider mode / sale opt out notice combination: {"+c+" / "+r+"}");if(0!=e)throw new _n("Invalid usnat mspa service provider mode / sharing opt out notice combination: {"+c+" / "+e+"}");if(0!=l)throw new _n("Invalid usnat mspa service provider mode / sensitive data limit use notice combination: {"+c+" / "+l+"}")}else if(2==c&&1!=a)throw new _n("Invalid usnat mspa service provider / opt out option modes combination: {"+c+" / "+a+"}")}}]),n}(wr);function ml(t){return(ml="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Ol(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Nl(r.key),r)}}function gl(t,e){return(gl=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function El(t){var e=function(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return function(){return!!t}()}();return function(){var n,r=Tl(t);if(e){var o=Tl(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return wl(this,n)}}function wl(t,e){if(e&&("object"===ml(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return _l(t)}function _l(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Tl(t){return(Tl=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Pl(t,e,n){return(e=Nl(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Nl(t){var e=function(t,e){if("object"!=ml(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=ml(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==ml(e)?e:e+""}var Il=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&gl(t,e)}(i,t);var e,n,r,o=El(i);function i(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),Pl(_l(e=o.call(this)),"base64UrlEncoder",Je.getInstance()),Pl(_l(e),"bitStringEncoder",en.getInstance()),t&&e.decode(t),e}return e=i,(n=[{key:"getFieldNames",value:function(){return xa}},{key:"initializeFields",value:function(){var t=new hr;return t.put(Ga.GPC_SEGMENT_TYPE.toString(),new pr(2,1)),t.put(Ga.GPC_SEGMENT_INCLUDED.toString(),new zo(!0)),t.put(Ga.GPC.toString(),new zo(!1)),t}},{key:"encodeSegment",value:function(t){var e=this.bitStringEncoder.encode(t,this.getFieldNames());return this.base64UrlEncoder.encode(e)}},{key:"decodeSegment",value:function(t,e){null!=t&&0!==t.length||this.fields.reset(e);try{var n=this.base64UrlEncoder.decode(t);this.bitStringEncoder.decode(n,this.getFieldNames(),e)}catch(e){throw new ge("Unable to decode UsNatGpcSegment '"+t+"'")}}}])&&Ol(e.prototype,n),r&&Ol(e,r),Object.defineProperty(e,"prototype",{writable:!1}),i}(wr);function jl(t){return(jl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Al(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,kl(r.key),r)}}function Cl(t,e){return(Cl=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function Rl(t){var e=function(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return function(){return!!t}()}();return function(){var n,r=Vl(t);if(e){var o=Vl(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Dl(this,n)}}function Dl(t,e){if(e&&("object"===jl(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function Vl(t){return(Vl=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Ml(t,e,n){return(e=kl(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function kl(t){var e=function(t,e){if("object"!=jl(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=jl(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==jl(e)?e:e+""}var Ul,Gl=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Cl(t,e)}(i,t);var e,n,r,o=Rl(i);function i(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),e=o.call(this),t&&t.length>0&&e.decode(t),e}return e=i,(n=[{key:"getId",value:function(){return i.ID}},{key:"getName",value:function(){return i.NAME}},{key:"getVersion",value:function(){return i.VERSION}},{key:"initializeSegments",value:function(){var t=[];return t.push(new Sl),t.push(new Il),t}},{key:"decodeSection",value:function(t){var e=this.initializeSegments();if(null!=t&&0!==t.length){var n=t.split(".");n.length>0&&e[0].decode(n[0]),n.length>1?(e[1].setFieldValue(Ga.GPC_SEGMENT_INCLUDED,!0),e[1].decode(n[1])):e[1].setFieldValue(Ga.GPC_SEGMENT_INCLUDED,!1)}return e}},{key:"encodeSection",value:function(t){var e=[];return t.length>=1&&(e.push(t[0].encode()),t.length>=2&&!0===t[1].getFieldValue(Ga.GPC_SEGMENT_INCLUDED)&&e.push(t[1].encode())),e.join(".")}}])&&Al(e.prototype,n),r&&Al(e,r),Object.defineProperty(e,"prototype",{writable:!1}),i}(se);Ml(Gl,"ID",7),Ml(Gl,"VERSION",1),Ml(Gl,"NAME","usnat"),function(t){t.VERSION="Version",t.SALE_OPT_OUT_NOTICE="SaleOptOutNotice",t.SHARING_OPT_OUT_NOTICE="SharingOptOutNotice",t.SENSITIVE_DATA_LIMIT_USE_NOTICE="SensitiveDataLimitUseNotice",t.SALE_OPT_OUT="SaleOptOut",t.SHARING_OPT_OUT="SharingOptOut",t.SENSITIVE_DATA_PROCESSING="SensitiveDataProcessing",t.KNOWN_CHILD_SENSITIVE_DATA_CONSENTS="KnownChildSensitiveDataConsents",t.PERSONAL_DATA_CONSENTS="PersonalDataConsents",t.MSPA_COVERED_TRANSACTION="MspaCoveredTransaction",t.MSPA_OPT_OUT_OPTION_MODE="MspaOptOutOptionMode",t.MSPA_SERVICE_PROVIDER_MODE="MspaServiceProviderMode",t.GPC_SEGMENT_TYPE="GpcSegmentType",t.GPC_SEGMENT_INCLUDED="GpcSegmentIncluded",t.GPC="Gpc"}(Ul||(Ul={}));var Ll=[Ul.VERSION,Ul.SALE_OPT_OUT_NOTICE,Ul.SHARING_OPT_OUT_NOTICE,Ul.SENSITIVE_DATA_LIMIT_USE_NOTICE,Ul.SALE_OPT_OUT,Ul.SHARING_OPT_OUT,Ul.SENSITIVE_DATA_PROCESSING,Ul.KNOWN_CHILD_SENSITIVE_DATA_CONSENTS,Ul.PERSONAL_DATA_CONSENTS,Ul.MSPA_COVERED_TRANSACTION,Ul.MSPA_OPT_OUT_OPTION_MODE,Ul.MSPA_SERVICE_PROVIDER_MODE],Fl=[Ul.GPC_SEGMENT_TYPE,Ul.GPC];function xl(t){return(xl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Bl(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Hl(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Jl(r.key),r)}}function zl(t,e,n){return e&&Hl(t.prototype,e),n&&Hl(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Yl(t,e){return(Yl=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function Kl(t){var e=function(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return function(){return!!t}()}();return function(){var n,r=Xl(t);if(e){var o=Xl(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Wl(this,n)}}function Wl(t,e){if(e&&("object"===xl(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return Ql(t)}function Ql(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Xl(t){return(Xl=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function $l(t,e,n){return(e=Jl(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Jl(t){var e=function(t,e){if("object"!=xl(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=xl(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==xl(e)?e:e+""}var ql=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Yl(t,e)}(n,t);var e=Kl(n);function n(t){var r;return Bl(this,n),$l(Ql(r=e.call(this)),"base64UrlEncoder",Je.getInstance()),$l(Ql(r),"bitStringEncoder",en.getInstance()),t&&r.decode(t),r}return zl(n,[{key:"getFieldNames",value:function(){return Ll}},{key:"initializeFields",value:function(){var t=new(function(){function t(){Bl(this,t)}return zl(t,[{key:"test",value:function(t){return t>=0&&t<=2}}]),t}()),e=new(function(){function t(){Bl(this,t)}return zl(t,[{key:"test",value:function(t){return t>=1&&t<=2}}]),t}()),n=new(function(){function t(){Bl(this,t)}return zl(t,[{key:"test",value:function(t){for(var e=0;e<t.length;e++){var n=t[e];if(n<0||n>2)return!1}return!0}}]),t}()),r=new hr;return r.put(Ul.VERSION.toString(),new pr(6,mf.VERSION)),r.put(Ul.SALE_OPT_OUT_NOTICE.toString(),new pr(2,0).withValidator(t)),r.put(Ul.SHARING_OPT_OUT_NOTICE.toString(),new pr(2,0).withValidator(t)),r.put(Ul.SENSITIVE_DATA_LIMIT_USE_NOTICE.toString(),new pr(2,0).withValidator(t)),r.put(Ul.SALE_OPT_OUT.toString(),new pr(2,0).withValidator(t)),r.put(Ul.SHARING_OPT_OUT.toString(),new pr(2,0).withValidator(t)),r.put(Ul.SENSITIVE_DATA_PROCESSING.toString(),new ul(2,[0,0,0,0,0,0,0,0,0]).withValidator(n)),r.put(Ul.KNOWN_CHILD_SENSITIVE_DATA_CONSENTS.toString(),new ul(2,[0,0]).withValidator(n)),r.put(Ul.PERSONAL_DATA_CONSENTS.toString(),new pr(2,0).withValidator(t)),r.put(Ul.MSPA_COVERED_TRANSACTION.toString(),new pr(2,1).withValidator(e)),r.put(Ul.MSPA_OPT_OUT_OPTION_MODE.toString(),new pr(2,0).withValidator(t)),r.put(Ul.MSPA_SERVICE_PROVIDER_MODE.toString(),new pr(2,0).withValidator(t)),r}},{key:"encodeSegment",value:function(t){var e=this.bitStringEncoder.encode(t,this.getFieldNames());return this.base64UrlEncoder.encode(e)}},{key:"decodeSegment",value:function(t,e){null!=t&&0!==t.length||this.fields.reset(e);try{var n=this.base64UrlEncoder.decode(t);this.bitStringEncoder.decode(n,this.getFieldNames(),e)}catch(e){throw new ge("Unable to decode UsCaCoreSegment '"+t+"'")}}},{key:"validate",value:function(){var t=this.fields.get(Ul.SHARING_OPT_OUT_NOTICE).getValue(),e=this.fields.get(Ul.SHARING_OPT_OUT).getValue(),n=this.fields.get(Ul.SALE_OPT_OUT_NOTICE).getValue(),r=this.fields.get(Ul.SALE_OPT_OUT).getValue(),o=this.fields.get(Ul.MSPA_SERVICE_PROVIDER_MODE).getValue(),i=this.fields.get(Ul.MSPA_OPT_OUT_OPTION_MODE).getValue(),u=this.fields.get(Ul.SENSITIVE_DATA_LIMIT_USE_NOTICE).getValue();if(0==t){if(0!=e)throw new _n("Invalid usca sharing notice / opt out combination: {"+t+" / "+e+"}")}else if(1==t){if(1!=e&&2!=e)throw new _n("Invalid usca sharing notice / opt out combination: {"+t+" / "+e+"}")}else if(2==t&&1!=e)throw new _n("Invalid usca sharing notice / opt out combination: {"+t+" / "+e+"}");if(0==n){if(0!=r)throw new _n("Invalid usca sale notice / opt out combination: {"+n+" / "+r+"}")}else if(1==n){if(1!=r&&2!=r)throw new _n("Invalid usca sale notice / opt out combination: {"+n+" / "+r+"}")}else if(2==n&&1!=r)throw new _n("Invalid usca sale notice / opt out combination: {"+n+" / "+r+"}");if(0==o){if(0!=n)throw new _n("Invalid usca mspa service provider mode / sale opt out notice combination: {"+o+" / "+n+"}");if(0!=t)throw new _n("Invalid usca mspa service provider mode / sharing opt out notice combination: {"+o+" / "+t+"}");if(0!=u)throw new _n("Invalid usca mspa service provider mode / sensitive data limit use notice combination: {"+o+" / "+u+"}")}else if(1==o){if(2!=i)throw new _n("Invalid usca mspa service provider / opt out option modes combination: {"+o+" / "+o+"}");if(0!=n)throw new _n("Invalid usca mspa service provider mode / sale opt out notice combination: {"+o+" / "+n+"}");if(0!=t)throw new _n("Invalid usca mspa service provider mode / sharing opt out notice combination: {"+o+" / "+t+"}");if(0!=u)throw new _n("Invalid usca mspa service provider mode / sensitive data limit use notice combination: {"+o+" / "+u+"}")}else if(2==o&&1!=i)throw new _n("Invalid usca mspa service provider / opt out option modes combination: {"+o+" / "+i+"}")}}]),n}(wr);function Zl(t){return(Zl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function tf(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,af(r.key),r)}}function ef(t,e){return(ef=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function nf(t){var e=function(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return function(){return!!t}()}();return function(){var n,r=uf(t);if(e){var o=uf(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return rf(this,n)}}function rf(t,e){if(e&&("object"===Zl(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return of(t)}function of(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function uf(t){return(uf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function cf(t,e,n){return(e=af(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function af(t){var e=function(t,e){if("object"!=Zl(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=Zl(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Zl(e)?e:e+""}var lf=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ef(t,e)}(i,t);var e,n,r,o=nf(i);function i(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),cf(of(e=o.call(this)),"base64UrlEncoder",Je.getInstance()),cf(of(e),"bitStringEncoder",en.getInstance()),t&&e.decode(t),e}return e=i,(n=[{key:"getFieldNames",value:function(){return Fl}},{key:"initializeFields",value:function(){var t=new hr;return t.put(Ul.GPC_SEGMENT_TYPE.toString(),new pr(2,1)),t.put(Ul.GPC_SEGMENT_INCLUDED.toString(),new zo(!0)),t.put(Ul.GPC.toString(),new zo(!1)),t}},{key:"encodeSegment",value:function(t){var e=this.bitStringEncoder.encode(t,this.getFieldNames());return this.base64UrlEncoder.encode(e)}},{key:"decodeSegment",value:function(t,e){null!=t&&0!==t.length||this.fields.reset(e);try{var n=this.base64UrlEncoder.decode(t);this.bitStringEncoder.decode(n,this.getFieldNames(),e)}catch(e){throw new ge("Unable to decode UsCaGpcSegment '"+t+"'")}}}])&&tf(e.prototype,n),r&&tf(e,r),Object.defineProperty(e,"prototype",{writable:!1}),i}(wr);function ff(t){return(ff="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function sf(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,hf(r.key),r)}}function pf(t,e){return(pf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function yf(t){var e=function(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return function(){return!!t}()}();return function(){var n,r=df(t);if(e){var o=df(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return bf(this,n)}}function bf(t,e){if(e&&("object"===ff(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function df(t){return(df=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function vf(t,e,n){return(e=hf(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function hf(t){var e=function(t,e){if("object"!=ff(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=ff(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==ff(e)?e:e+""}var Sf,mf=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&pf(t,e)}(i,t);var e,n,r,o=yf(i);function i(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),e=o.call(this),t&&t.length>0&&e.decode(t),e}return e=i,(n=[{key:"getId",value:function(){return i.ID}},{key:"getName",value:function(){return i.NAME}},{key:"getVersion",value:function(){return i.VERSION}},{key:"initializeSegments",value:function(){var t=[];return t.push(new ql),t.push(new lf),t}},{key:"decodeSection",value:function(t){var e=this.initializeSegments();if(null!=t&&0!==t.length){var n=t.split(".");n.length>0&&e[0].decode(n[0]),n.length>1?(e[1].setFieldValue(Ul.GPC_SEGMENT_INCLUDED,!0),e[1].decode(n[1])):e[1].setFieldValue(Ul.GPC_SEGMENT_INCLUDED,!1)}return e}},{key:"encodeSection",value:function(t){var e=[];return t.length>=1&&(e.push(t[0].encode()),t.length>=2&&!0===t[1].getFieldValue(Ul.GPC_SEGMENT_INCLUDED)&&e.push(t[1].encode())),e.join(".")}}])&&sf(e.prototype,n),r&&sf(e,r),Object.defineProperty(e,"prototype",{writable:!1}),i}(se);vf(mf,"ID",8),vf(mf,"VERSION",1),vf(mf,"NAME","usca"),function(t){t.VERSION="Version",t.SHARING_NOTICE="SharingNotice",t.SALE_OPT_OUT_NOTICE="SaleOptOutNotice",t.TARGETED_ADVERTISING_OPT_OUT_NOTICE="TargetedAdvertisingOptOutNotice",t.SALE_OPT_OUT="SaleOptOut",t.TARGETED_ADVERTISING_OPT_OUT="TargetedAdvertisingOptOut",t.SENSITIVE_DATA_PROCESSING="SensitiveDataProcessing",t.KNOWN_CHILD_SENSITIVE_DATA_CONSENTS="KnownChildSensitiveDataConsents",t.MSPA_COVERED_TRANSACTION="MspaCoveredTransaction",t.MSPA_OPT_OUT_OPTION_MODE="MspaOptOutOptionMode",t.MSPA_SERVICE_PROVIDER_MODE="MspaServiceProviderMode"}(Sf||(Sf={}));var Of=[Sf.VERSION,Sf.SHARING_NOTICE,Sf.SALE_OPT_OUT_NOTICE,Sf.TARGETED_ADVERTISING_OPT_OUT_NOTICE,Sf.SALE_OPT_OUT,Sf.TARGETED_ADVERTISING_OPT_OUT,Sf.SENSITIVE_DATA_PROCESSING,Sf.KNOWN_CHILD_SENSITIVE_DATA_CONSENTS,Sf.MSPA_COVERED_TRANSACTION,Sf.MSPA_OPT_OUT_OPTION_MODE,Sf.MSPA_SERVICE_PROVIDER_MODE];function gf(t){return(gf="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Ef(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function wf(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Cf(r.key),r)}}function _f(t,e,n){return e&&wf(t.prototype,e),n&&wf(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Tf(t,e){return(Tf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function Pf(t){var e=function(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return function(){return!!t}()}();return function(){var n,r=jf(t);if(e){var o=jf(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Nf(this,n)}}function Nf(t,e){if(e&&("object"===gf(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return If(t)}function If(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function jf(t){return(jf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Af(t,e,n){return(e=Cf(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Cf(t){var e=function(t,e){if("object"!=gf(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=gf(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==gf(e)?e:e+""}var Rf=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Tf(t,e)}(n,t);var e=Pf(n);function n(t){var r;return Ef(this,n),Af(If(r=e.call(this)),"base64UrlEncoder",Je.getInstance()),Af(If(r),"bitStringEncoder",en.getInstance()),t&&r.decode(t),r}return _f(n,[{key:"getFieldNames",value:function(){return Of}},{key:"initializeFields",value:function(){var t=new(function(){function t(){Ef(this,t)}return _f(t,[{key:"test",value:function(t){return t>=0&&t<=2}}]),t}()),e=new(function(){function t(){Ef(this,t)}return _f(t,[{key:"test",value:function(t){return t>=1&&t<=2}}]),t}()),n=new(function(){function t(){Ef(this,t)}return _f(t,[{key:"test",value:function(t){for(var e=0;e<t.length;e++){var n=t[e];if(n<0||n>2)return!1}return!0}}]),t}()),r=new hr;return r.put(Sf.VERSION.toString(),new pr(6,Bf.VERSION)),r.put(Sf.SHARING_NOTICE.toString(),new pr(2,0).withValidator(t)),r.put(Sf.SALE_OPT_OUT_NOTICE.toString(),new pr(2,0).withValidator(t)),r.put(Sf.TARGETED_ADVERTISING_OPT_OUT_NOTICE.toString(),new pr(2,0).withValidator(t)),r.put(Sf.SALE_OPT_OUT.toString(),new pr(2,0).withValidator(t)),r.put(Sf.TARGETED_ADVERTISING_OPT_OUT.toString(),new pr(2,0).withValidator(t)),r.put(Sf.SENSITIVE_DATA_PROCESSING.toString(),new ul(2,[0,0,0,0,0,0,0,0]).withValidator(n)),r.put(Sf.KNOWN_CHILD_SENSITIVE_DATA_CONSENTS.toString(),new pr(2,0).withValidator(t)),r.put(Sf.MSPA_COVERED_TRANSACTION.toString(),new pr(2,1).withValidator(e)),r.put(Sf.MSPA_OPT_OUT_OPTION_MODE.toString(),new pr(2,0).withValidator(t)),r.put(Sf.MSPA_SERVICE_PROVIDER_MODE.toString(),new pr(2,0).withValidator(t)),r}},{key:"encodeSegment",value:function(t){var e=this.bitStringEncoder.encode(t,this.getFieldNames());return this.base64UrlEncoder.encode(e)}},{key:"decodeSegment",value:function(t,e){null!=t&&0!==t.length||this.fields.reset(e);try{var n=this.base64UrlEncoder.decode(t);this.bitStringEncoder.decode(n,this.getFieldNames(),e)}catch(e){throw new ge("Unable to decode UsVaCoreSegment '"+t+"'")}}},{key:"validate",value:function(){var t=this.fields.get(Sf.SALE_OPT_OUT_NOTICE).getValue(),e=this.fields.get(Sf.SALE_OPT_OUT).getValue(),n=this.fields.get(Sf.TARGETED_ADVERTISING_OPT_OUT_NOTICE).getValue(),r=this.fields.get(Sf.TARGETED_ADVERTISING_OPT_OUT).getValue(),o=this.fields.get(Sf.MSPA_SERVICE_PROVIDER_MODE).getValue(),i=this.fields.get(Sf.MSPA_OPT_OUT_OPTION_MODE).getValue();if(0==t){if(0!=e)throw new _n("Invalid usva sale notice / opt out combination: {"+t+" / "+e+"}")}else if(1==t){if(1!=e&&2!=e)throw new _n("Invalid usva sale notice / opt out combination: {"+t+" / "+e+"}")}else if(2==t&&1!=e)throw new _n("Invalid usva sale notice / opt out combination: {"+t+" / "+e+"}");if(0==n){if(0!=r)throw new _n("Invalid usva targeted advertising notice / opt out combination: {"+n+" / "+r+"}")}else if(1==n){if(1!=e&&2!=e)throw new _n("Invalid usva targeted advertising notice / opt out combination: {"+n+" / "+r+"}")}else if(2==n&&1!=e)throw new _n("Invalid usva targeted advertising notice / opt out combination: {"+n+" / "+r+"}");if(0==o){if(0!=t)throw new _n("Invalid usva mspa service provider mode / sale opt out notice combination: {"+o+" / "+t+"}")}else if(1==o){if(2!=i)throw new _n("Invalid usva mspa service provider / opt out option modes combination: {"+o+" / "+o+"}");if(0!=t)throw new _n("Invalid usva mspa service provider mode / sale opt out notice combination: {"+o+" / "+t+"}")}else if(2==o&&1!=i)throw new _n("Invalid usva mspa service provider / opt out option modes combination: {"+o+" / "+i+"}")}}]),n}(wr);function Df(t){return(Df="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Vf(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Ff(r.key),r)}}function Mf(t,e){return(Mf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function kf(t){var e=function(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return function(){return!!t}()}();return function(){var n,r=Gf(t);if(e){var o=Gf(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Uf(this,n)}}function Uf(t,e){if(e&&("object"===Df(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function Gf(t){return(Gf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Lf(t,e,n){return(e=Ff(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ff(t){var e=function(t,e){if("object"!=Df(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=Df(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Df(e)?e:e+""}var xf,Bf=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Mf(t,e)}(i,t);var e,n,r,o=kf(i);function i(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),e=o.call(this),t&&t.length>0&&e.decode(t),e}return e=i,(n=[{key:"getId",value:function(){return i.ID}},{key:"getName",value:function(){return i.NAME}},{key:"getVersion",value:function(){return i.VERSION}},{key:"initializeSegments",value:function(){var t=[];return t.push(new Rf),t}},{key:"decodeSection",value:function(t){var e=this.initializeSegments();if(null!=t&&0!==t.length)for(var n=t.split("."),r=0;r<e.length;r++)n.length>r&&e[r].decode(n[r]);return e}},{key:"encodeSection",value:function(t){for(var e=[],n=0;n<t.length;n++){var r=t[n];e.push(r.encode())}return e.join(".")}}])&&Vf(e.prototype,n),r&&Vf(e,r),Object.defineProperty(e,"prototype",{writable:!1}),i}(se);Lf(Bf,"ID",9),Lf(Bf,"VERSION",1),Lf(Bf,"NAME","usva"),function(t){t.VERSION="Version",t.SHARING_NOTICE="SharingNotice",t.SALE_OPT_OUT_NOTICE="SaleOptOutNotice",t.TARGETED_ADVERTISING_OPT_OUT_NOTICE="TargetedAdvertisingOptOutNotice",t.SALE_OPT_OUT="SaleOptOut",t.TARGETED_ADVERTISING_OPT_OUT="TargetedAdvertisingOptOut",t.SENSITIVE_DATA_PROCESSING="SensitiveDataProcessing",t.KNOWN_CHILD_SENSITIVE_DATA_CONSENTS="KnownChildSensitiveDataConsents",t.MSPA_COVERED_TRANSACTION="MspaCoveredTransaction",t.MSPA_OPT_OUT_OPTION_MODE="MspaOptOutOptionMode",t.MSPA_SERVICE_PROVIDER_MODE="MspaServiceProviderMode",t.GPC_SEGMENT_TYPE="GpcSegmentType",t.GPC_SEGMENT_INCLUDED="GpcSegmentIncluded",t.GPC="Gpc"}(xf||(xf={}));var Hf=[xf.VERSION,xf.SHARING_NOTICE,xf.SALE_OPT_OUT_NOTICE,xf.TARGETED_ADVERTISING_OPT_OUT_NOTICE,xf.SALE_OPT_OUT,xf.TARGETED_ADVERTISING_OPT_OUT,xf.SENSITIVE_DATA_PROCESSING,xf.KNOWN_CHILD_SENSITIVE_DATA_CONSENTS,xf.MSPA_COVERED_TRANSACTION,xf.MSPA_OPT_OUT_OPTION_MODE,xf.MSPA_SERVICE_PROVIDER_MODE],zf=[xf.GPC_SEGMENT_TYPE,xf.GPC];function Yf(t){return(Yf="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Kf(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Wf(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,es(r.key),r)}}function Qf(t,e,n){return e&&Wf(t.prototype,e),n&&Wf(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Xf(t,e){return(Xf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function $f(t){var e=function(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return function(){return!!t}()}();return function(){var n,r=Zf(t);if(e){var o=Zf(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Jf(this,n)}}function Jf(t,e){if(e&&("object"===Yf(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return qf(t)}function qf(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Zf(t){return(Zf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function ts(t,e,n){return(e=es(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function es(t){var e=function(t,e){if("object"!=Yf(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=Yf(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Yf(e)?e:e+""}var ns=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Xf(t,e)}(n,t);var e=$f(n);function n(t){var r;return Kf(this,n),ts(qf(r=e.call(this)),"base64UrlEncoder",Je.getInstance()),ts(qf(r),"bitStringEncoder",en.getInstance()),t&&r.decode(t),r}return Qf(n,[{key:"getFieldNames",value:function(){return Hf}},{key:"initializeFields",value:function(){var t=new(function(){function t(){Kf(this,t)}return Qf(t,[{key:"test",value:function(t){return t>=0&&t<=2}}]),t}()),e=new(function(){function t(){Kf(this,t)}return Qf(t,[{key:"test",value:function(t){return t>=1&&t<=2}}]),t}()),n=new(function(){function t(){Kf(this,t)}return Qf(t,[{key:"test",value:function(t){for(var e=0;e<t.length;e++){var n=t[e];if(n<0||n>2)return!1}return!0}}]),t}()),r=new hr;return r.put(xf.VERSION.toString(),new pr(6,Es.VERSION)),r.put(xf.SHARING_NOTICE.toString(),new pr(2,0).withValidator(t)),r.put(xf.SALE_OPT_OUT_NOTICE.toString(),new pr(2,0).withValidator(t)),r.put(xf.TARGETED_ADVERTISING_OPT_OUT_NOTICE.toString(),new pr(2,0).withValidator(t)),r.put(xf.SALE_OPT_OUT.toString(),new pr(2,0).withValidator(t)),r.put(xf.TARGETED_ADVERTISING_OPT_OUT.toString(),new pr(2,0).withValidator(t)),r.put(xf.SENSITIVE_DATA_PROCESSING.toString(),new ul(2,[0,0,0,0,0,0,0]).withValidator(n)),r.put(xf.KNOWN_CHILD_SENSITIVE_DATA_CONSENTS.toString(),new pr(2,0).withValidator(t)),r.put(xf.MSPA_COVERED_TRANSACTION.toString(),new pr(2,1).withValidator(e)),r.put(xf.MSPA_OPT_OUT_OPTION_MODE.toString(),new pr(2,0).withValidator(t)),r.put(xf.MSPA_SERVICE_PROVIDER_MODE.toString(),new pr(2,0).withValidator(t)),r}},{key:"encodeSegment",value:function(t){var e=this.bitStringEncoder.encode(t,this.getFieldNames());return this.base64UrlEncoder.encode(e)}},{key:"decodeSegment",value:function(t,e){null!=t&&0!==t.length||this.fields.reset(e);try{var n=this.base64UrlEncoder.decode(t);this.bitStringEncoder.decode(n,this.getFieldNames(),e)}catch(e){throw new ge("Unable to decode UsCoCoreSegment '"+t+"'")}}},{key:"validate",value:function(){var t=this.fields.get(xf.SALE_OPT_OUT_NOTICE).getValue(),e=this.fields.get(xf.SALE_OPT_OUT).getValue(),n=this.fields.get(xf.TARGETED_ADVERTISING_OPT_OUT_NOTICE).getValue(),r=this.fields.get(xf.TARGETED_ADVERTISING_OPT_OUT).getValue(),o=this.fields.get(xf.MSPA_SERVICE_PROVIDER_MODE).getValue(),i=this.fields.get(xf.MSPA_OPT_OUT_OPTION_MODE).getValue();if(0==t){if(0!=e)throw new _n("Invalid usco sale notice / opt out combination: {"+t+" / "+e+"}")}else if(1==t){if(1!=e&&2!=e)throw new _n("Invalid usco sale notice / opt out combination: {"+t+" / "+e+"}")}else if(2==t&&1!=e)throw new _n("Invalid usco sale notice / opt out combination: {"+t+" / "+e+"}");if(0==n){if(0!=r)throw new _n("Invalid usco targeted advertising notice / opt out combination: {"+n+" / "+r+"}")}else if(1==n){if(1!=e&&2!=e)throw new _n("Invalid usco targeted advertising notice / opt out combination: {"+n+" / "+r+"}")}else if(2==n&&1!=e)throw new _n("Invalid usco targeted advertising notice / opt out combination: {"+n+" / "+r+"}");if(0==o){if(0!=t)throw new _n("Invalid usco mspa service provider mode / sale opt out notice combination: {"+o+" / "+t+"}")}else if(1==o){if(2!=i)throw new _n("Invalid usco mspa service provider / opt out option modes combination: {"+o+" / "+o+"}");if(0!=t)throw new _n("Invalid usco mspa service provider mode / sale opt out notice combination: {"+o+" / "+t+"}")}else if(2==o&&1!=i)throw new _n("Invalid usco mspa service provider / opt out option modes combination: {"+o+" / "+i+"}")}}]),n}(wr);function rs(t){return(rs="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function os(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,ss(r.key),r)}}function is(t,e){return(is=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function us(t){var e=function(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return function(){return!!t}()}();return function(){var n,r=ls(t);if(e){var o=ls(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return cs(this,n)}}function cs(t,e){if(e&&("object"===rs(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return as(t)}function as(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function ls(t){return(ls=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function fs(t,e,n){return(e=ss(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ss(t){var e=function(t,e){if("object"!=rs(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=rs(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==rs(e)?e:e+""}var ps=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&is(t,e)}(i,t);var e,n,r,o=us(i);function i(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),fs(as(e=o.call(this)),"base64UrlEncoder",Je.getInstance()),fs(as(e),"bitStringEncoder",en.getInstance()),t&&e.decode(t),e}return e=i,(n=[{key:"getFieldNames",value:function(){return zf}},{key:"initializeFields",value:function(){var t=new hr;return t.put(xf.GPC_SEGMENT_TYPE.toString(),new pr(2,1)),t.put(xf.GPC_SEGMENT_INCLUDED.toString(),new zo(!0)),t.put(xf.GPC.toString(),new zo(!1)),t}},{key:"encodeSegment",value:function(t){var e=this.bitStringEncoder.encode(t,this.getFieldNames());return this.base64UrlEncoder.encode(e)}},{key:"decodeSegment",value:function(t,e){null!=t&&0!==t.length||this.fields.reset(e);try{var n=this.base64UrlEncoder.decode(t);this.bitStringEncoder.decode(n,this.getFieldNames(),e)}catch(e){throw new ge("Unable to decode UsCoGpcSegment '"+t+"'")}}}])&&os(e.prototype,n),r&&os(e,r),Object.defineProperty(e,"prototype",{writable:!1}),i}(wr);function ys(t){return(ys="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function bs(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Os(r.key),r)}}function ds(t,e){return(ds=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function vs(t){var e=function(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return function(){return!!t}()}();return function(){var n,r=Ss(t);if(e){var o=Ss(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return hs(this,n)}}function hs(t,e){if(e&&("object"===ys(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function Ss(t){return(Ss=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function ms(t,e,n){return(e=Os(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Os(t){var e=function(t,e){if("object"!=ys(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=ys(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==ys(e)?e:e+""}var gs,Es=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ds(t,e)}(i,t);var e,n,r,o=vs(i);function i(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),e=o.call(this),t&&t.length>0&&e.decode(t),e}return e=i,(n=[{key:"getId",value:function(){return i.ID}},{key:"getName",value:function(){return i.NAME}},{key:"getVersion",value:function(){return i.VERSION}},{key:"initializeSegments",value:function(){var t=[];return t.push(new ns),t.push(new ps),t}},{key:"decodeSection",value:function(t){var e=this.initializeSegments();if(null!=t&&0!==t.length){var n=t.split(".");n.length>0&&e[0].decode(n[0]),n.length>1?(e[1].setFieldValue(xf.GPC_SEGMENT_INCLUDED,!0),e[1].decode(n[1])):e[1].setFieldValue(xf.GPC_SEGMENT_INCLUDED,!1)}return e}},{key:"encodeSection",value:function(t){var e=[];return t.length>=1&&(e.push(t[0].encode()),t.length>=2&&!0===t[1].getFieldValue(xf.GPC_SEGMENT_INCLUDED)&&e.push(t[1].encode())),e.join(".")}}])&&bs(e.prototype,n),r&&bs(e,r),Object.defineProperty(e,"prototype",{writable:!1}),i}(se);ms(Es,"ID",10),ms(Es,"VERSION",1),ms(Es,"NAME","usco"),function(t){t.VERSION="Version",t.SHARING_NOTICE="SharingNotice",t.SALE_OPT_OUT_NOTICE="SaleOptOutNotice",t.TARGETED_ADVERTISING_OPT_OUT_NOTICE="TargetedAdvertisingOptOutNotice",t.SENSITIVE_DATA_PROCESSING_OPT_OUT_NOTICE="SensitiveDataProcessingOptOutNotice",t.SALE_OPT_OUT="SaleOptOut",t.TARGETED_ADVERTISING_OPT_OUT="TargetedAdvertisingOptOut",t.SENSITIVE_DATA_PROCESSING="SensitiveDataProcessing",t.KNOWN_CHILD_SENSITIVE_DATA_CONSENTS="KnownChildSensitiveDataConsents",t.MSPA_COVERED_TRANSACTION="MspaCoveredTransaction",t.MSPA_OPT_OUT_OPTION_MODE="MspaOptOutOptionMode",t.MSPA_SERVICE_PROVIDER_MODE="MspaServiceProviderMode"}(gs||(gs={}));var ws=[gs.VERSION,gs.SHARING_NOTICE,gs.SALE_OPT_OUT_NOTICE,gs.TARGETED_ADVERTISING_OPT_OUT_NOTICE,gs.SENSITIVE_DATA_PROCESSING_OPT_OUT_NOTICE,gs.SALE_OPT_OUT,gs.TARGETED_ADVERTISING_OPT_OUT,gs.SENSITIVE_DATA_PROCESSING,gs.KNOWN_CHILD_SENSITIVE_DATA_CONSENTS,gs.MSPA_COVERED_TRANSACTION,gs.MSPA_OPT_OUT_OPTION_MODE,gs.MSPA_SERVICE_PROVIDER_MODE];function _s(t){return(_s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Ts(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Ps(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Vs(r.key),r)}}function Ns(t,e,n){return e&&Ps(t.prototype,e),n&&Ps(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Is(t,e){return(Is=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function js(t){var e=function(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return function(){return!!t}()}();return function(){var n,r=Rs(t);if(e){var o=Rs(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return As(this,n)}}function As(t,e){if(e&&("object"===_s(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return Cs(t)}function Cs(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Rs(t){return(Rs=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Ds(t,e,n){return(e=Vs(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Vs(t){var e=function(t,e){if("object"!=_s(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=_s(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==_s(e)?e:e+""}var Ms=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Is(t,e)}(n,t);var e=js(n);function n(t){var r;return Ts(this,n),Ds(Cs(r=e.call(this)),"base64UrlEncoder",Je.getInstance()),Ds(Cs(r),"bitStringEncoder",en.getInstance()),t&&r.decode(t),r}return Ns(n,[{key:"getFieldNames",value:function(){return ws}},{key:"initializeFields",value:function(){var t=new(function(){function t(){Ts(this,t)}return Ns(t,[{key:"test",value:function(t){return t>=0&&t<=2}}]),t}()),e=new(function(){function t(){Ts(this,t)}return Ns(t,[{key:"test",value:function(t){return t>=1&&t<=2}}]),t}()),n=new(function(){function t(){Ts(this,t)}return Ns(t,[{key:"test",value:function(t){for(var e=0;e<t.length;e++){var n=t[e];if(n<0||n>2)return!1}return!0}}]),t}()),r=new hr;return r.put(gs.VERSION.toString(),new pr(6,Ys.VERSION)),r.put(gs.SHARING_NOTICE.toString(),new pr(2,0).withValidator(t)),r.put(gs.SALE_OPT_OUT_NOTICE.toString(),new pr(2,0).withValidator(t)),r.put(gs.TARGETED_ADVERTISING_OPT_OUT_NOTICE.toString(),new pr(2,0).withValidator(t)),r.put(gs.SENSITIVE_DATA_PROCESSING_OPT_OUT_NOTICE.toString(),new pr(2,0).withValidator(t)),r.put(gs.SALE_OPT_OUT.toString(),new pr(2,0).withValidator(t)),r.put(gs.TARGETED_ADVERTISING_OPT_OUT.toString(),new pr(2,0).withValidator(t)),r.put(gs.SENSITIVE_DATA_PROCESSING.toString(),new ul(2,[0,0,0,0,0,0,0,0]).withValidator(n)),r.put(gs.KNOWN_CHILD_SENSITIVE_DATA_CONSENTS.toString(),new pr(2,0).withValidator(t)),r.put(gs.MSPA_COVERED_TRANSACTION.toString(),new pr(2,1).withValidator(e)),r.put(gs.MSPA_OPT_OUT_OPTION_MODE.toString(),new pr(2,0).withValidator(t)),r.put(gs.MSPA_SERVICE_PROVIDER_MODE.toString(),new pr(2,0).withValidator(t)),r}},{key:"encodeSegment",value:function(t){var e=this.bitStringEncoder.encode(t,this.getFieldNames());return this.base64UrlEncoder.encode(e)}},{key:"decodeSegment",value:function(t,e){null!=t&&0!==t.length||this.fields.reset(e);try{var n=this.base64UrlEncoder.decode(t);this.bitStringEncoder.decode(n,this.getFieldNames(),e)}catch(e){throw new ge("Unable to decode UsUtCoreSegment '"+t+"'")}}},{key:"validate",value:function(){var t=this.fields.get(gs.SALE_OPT_OUT_NOTICE).getValue(),e=this.fields.get(gs.SALE_OPT_OUT).getValue(),n=this.fields.get(gs.TARGETED_ADVERTISING_OPT_OUT_NOTICE).getValue(),r=this.fields.get(gs.TARGETED_ADVERTISING_OPT_OUT).getValue(),o=this.fields.get(gs.MSPA_SERVICE_PROVIDER_MODE).getValue(),i=this.fields.get(gs.MSPA_OPT_OUT_OPTION_MODE).getValue();if(0==t){if(0!=e)throw new _n("Invalid usut sale notice / opt out combination: {"+t+" / "+e+"}")}else if(1==t){if(1!=e&&2!=e)throw new _n("Invalid usut sale notice / opt out combination: {"+t+" / "+e+"}")}else if(2==t&&1!=e)throw new _n("Invalid usut sale notice / opt out combination: {"+t+" / "+e+"}");if(0==n){if(0!=r)throw new _n("Invalid usut targeted advertising notice / opt out combination: {"+n+" / "+r+"}")}else if(1==n){if(1!=e&&2!=e)throw new _n("Invalid usut targeted advertising notice / opt out combination: {"+n+" / "+r+"}")}else if(2==n&&1!=e)throw new _n("Invalid usut targeted advertising notice / opt out combination: {"+n+" / "+r+"}");if(0==o){if(0!=t)throw new _n("Invalid usut mspa service provider mode / sale opt out notice combination: {"+o+" / "+t+"}")}else if(1==o){if(2!=i)throw new _n("Invalid usut mspa service provider / opt out option modes combination: {"+o+" / "+o+"}");if(0!=t)throw new _n("Invalid usut mspa service provider mode / sale opt out notice combination: {"+o+" / "+t+"}")}else if(2==o&&1!=i)throw new _n("Invalid usut mspa service provider / opt out option modes combination: {"+o+" / "+i+"}")}}]),n}(wr);function ks(t){return(ks="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Us(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Hs(r.key),r)}}function Gs(t,e){return(Gs=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function Ls(t){var e=function(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return function(){return!!t}()}();return function(){var n,r=xs(t);if(e){var o=xs(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Fs(this,n)}}function Fs(t,e){if(e&&("object"===ks(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function xs(t){return(xs=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Bs(t,e,n){return(e=Hs(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Hs(t){var e=function(t,e){if("object"!=ks(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=ks(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==ks(e)?e:e+""}var zs,Ys=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Gs(t,e)}(i,t);var e,n,r,o=Ls(i);function i(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),e=o.call(this),t&&t.length>0&&e.decode(t),e}return e=i,(n=[{key:"getId",value:function(){return i.ID}},{key:"getName",value:function(){return i.NAME}},{key:"getVersion",value:function(){return i.VERSION}},{key:"initializeSegments",value:function(){var t=[];return t.push(new Ms),t}},{key:"decodeSection",value:function(t){var e=this.initializeSegments();if(null!=t&&0!==t.length)for(var n=t.split("."),r=0;r<e.length;r++)n.length>r&&e[r].decode(n[r]);return e}},{key:"encodeSection",value:function(t){for(var e=[],n=0;n<t.length;n++){var r=t[n];e.push(r.encode())}return e.join(".")}}])&&Us(e.prototype,n),r&&Us(e,r),Object.defineProperty(e,"prototype",{writable:!1}),i}(se);Bs(Ys,"ID",11),Bs(Ys,"VERSION",1),Bs(Ys,"NAME","usut"),function(t){t.VERSION="Version",t.SHARING_NOTICE="SharingNotice",t.SALE_OPT_OUT_NOTICE="SaleOptOutNotice",t.TARGETED_ADVERTISING_OPT_OUT_NOTICE="TargetedAdvertisingOptOutNotice",t.SALE_OPT_OUT="SaleOptOut",t.TARGETED_ADVERTISING_OPT_OUT="TargetedAdvertisingOptOut",t.SENSITIVE_DATA_PROCESSING="SensitiveDataProcessing",t.KNOWN_CHILD_SENSITIVE_DATA_CONSENTS="KnownChildSensitiveDataConsents",t.MSPA_COVERED_TRANSACTION="MspaCoveredTransaction",t.MSPA_OPT_OUT_OPTION_MODE="MspaOptOutOptionMode",t.MSPA_SERVICE_PROVIDER_MODE="MspaServiceProviderMode",t.GPC_SEGMENT_TYPE="GpcSegmentType",t.GPC_SEGMENT_INCLUDED="GpcSegmentIncluded",t.GPC="Gpc"}(zs||(zs={}));var Ks=[zs.VERSION,zs.SHARING_NOTICE,zs.SALE_OPT_OUT_NOTICE,zs.TARGETED_ADVERTISING_OPT_OUT_NOTICE,zs.SALE_OPT_OUT,zs.TARGETED_ADVERTISING_OPT_OUT,zs.SENSITIVE_DATA_PROCESSING,zs.KNOWN_CHILD_SENSITIVE_DATA_CONSENTS,zs.MSPA_COVERED_TRANSACTION,zs.MSPA_OPT_OUT_OPTION_MODE,zs.MSPA_SERVICE_PROVIDER_MODE],Ws=[zs.GPC_SEGMENT_TYPE,zs.GPC];function Qs(t){return(Qs="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Xs(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function $s(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,op(r.key),r)}}function Js(t,e,n){return e&&$s(t.prototype,e),n&&$s(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function qs(t,e){return(qs=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function Zs(t){var e=function(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return function(){return!!t}()}();return function(){var n,r=np(t);if(e){var o=np(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return tp(this,n)}}function tp(t,e){if(e&&("object"===Qs(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return ep(t)}function ep(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function np(t){return(np=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function rp(t,e,n){return(e=op(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function op(t){var e=function(t,e){if("object"!=Qs(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=Qs(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Qs(e)?e:e+""}var ip=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&qs(t,e)}(n,t);var e=Zs(n);function n(t){var r;return Xs(this,n),rp(ep(r=e.call(this)),"base64UrlEncoder",Je.getInstance()),rp(ep(r),"bitStringEncoder",en.getInstance()),t&&r.decode(t),r}return Js(n,[{key:"getFieldNames",value:function(){return Ks}},{key:"initializeFields",value:function(){var t=new(function(){function t(){Xs(this,t)}return Js(t,[{key:"test",value:function(t){return t>=0&&t<=2}}]),t}()),e=new(function(){function t(){Xs(this,t)}return Js(t,[{key:"test",value:function(t){return t>=1&&t<=2}}]),t}()),n=new(function(){function t(){Xs(this,t)}return Js(t,[{key:"test",value:function(t){for(var e=0;e<t.length;e++){var n=t[e];if(n<0||n>2)return!1}return!0}}]),t}()),r=new hr;return r.put(zs.VERSION.toString(),new pr(6,Tp.VERSION)),r.put(zs.SHARING_NOTICE.toString(),new pr(2,0).withValidator(t)),r.put(zs.SALE_OPT_OUT_NOTICE.toString(),new pr(2,0).withValidator(t)),r.put(zs.TARGETED_ADVERTISING_OPT_OUT_NOTICE.toString(),new pr(2,0).withValidator(t)),r.put(zs.SALE_OPT_OUT.toString(),new pr(2,0).withValidator(t)),r.put(zs.TARGETED_ADVERTISING_OPT_OUT.toString(),new pr(2,0).withValidator(t)),r.put(zs.SENSITIVE_DATA_PROCESSING.toString(),new ul(2,[0,0,0,0,0,0,0,0]).withValidator(n)),r.put(zs.KNOWN_CHILD_SENSITIVE_DATA_CONSENTS.toString(),new ul(2,[0,0,0]).withValidator(n)),r.put(zs.MSPA_COVERED_TRANSACTION.toString(),new pr(2,1).withValidator(e)),r.put(zs.MSPA_OPT_OUT_OPTION_MODE.toString(),new pr(2,0).withValidator(t)),r.put(zs.MSPA_SERVICE_PROVIDER_MODE.toString(),new pr(2,0).withValidator(t)),r}},{key:"encodeSegment",value:function(t){var e=this.bitStringEncoder.encode(t,this.getFieldNames());return this.base64UrlEncoder.encode(e)}},{key:"decodeSegment",value:function(t,e){null!=t&&0!==t.length||this.fields.reset(e);try{var n=this.base64UrlEncoder.decode(t);this.bitStringEncoder.decode(n,this.getFieldNames(),e)}catch(e){throw new ge("Unable to decode UsCtCoreSegment '"+t+"'")}}},{key:"validate",value:function(){var t=this.fields.get(zs.SALE_OPT_OUT_NOTICE).getValue(),e=this.fields.get(zs.SALE_OPT_OUT).getValue(),n=this.fields.get(zs.TARGETED_ADVERTISING_OPT_OUT_NOTICE).getValue(),r=this.fields.get(zs.TARGETED_ADVERTISING_OPT_OUT).getValue(),o=this.fields.get(zs.MSPA_SERVICE_PROVIDER_MODE).getValue(),i=this.fields.get(zs.MSPA_OPT_OUT_OPTION_MODE).getValue();if(0==t){if(0!=e)throw new _n("Invalid usct sale notice / opt out combination: {"+t+" / "+e+"}")}else if(1==t){if(1!=e&&2!=e)throw new _n("Invalid usct sale notice / opt out combination: {"+t+" / "+e+"}")}else if(2==t&&1!=e)throw new _n("Invalid usct sale notice / opt out combination: {"+t+" / "+e+"}");if(0==n){if(0!=r)throw new _n("Invalid usct targeted advertising notice / opt out combination: {"+n+" / "+r+"}")}else if(1==n){if(1!=e&&2!=e)throw new _n("Invalid usct targeted advertising notice / opt out combination: {"+n+" / "+r+"}")}else if(2==n&&1!=e)throw new _n("Invalid usct targeted advertising notice / opt out combination: {"+n+" / "+r+"}");if(0==o){if(0!=t)throw new _n("Invalid usct mspa service provider mode / sale opt out notice combination: {"+o+" / "+t+"}")}else if(1==o){if(2!=i)throw new _n("Invalid usct mspa service provider / opt out option modes combination: {"+o+" / "+o+"}");if(0!=t)throw new _n("Invalid usct mspa service provider mode / sale opt out notice combination: {"+o+" / "+t+"}")}else if(2==o&&1!=i)throw new _n("Invalid usct mspa service provider / opt out option modes combination: {"+o+" / "+i+"}")}}]),n}(wr);function up(t){return(up="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function cp(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,bp(r.key),r)}}function ap(t,e){return(ap=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function lp(t){var e=function(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return function(){return!!t}()}();return function(){var n,r=pp(t);if(e){var o=pp(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return fp(this,n)}}function fp(t,e){if(e&&("object"===up(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return sp(t)}function sp(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function pp(t){return(pp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function yp(t,e,n){return(e=bp(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function bp(t){var e=function(t,e){if("object"!=up(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=up(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==up(e)?e:e+""}var dp=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ap(t,e)}(i,t);var e,n,r,o=lp(i);function i(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),yp(sp(e=o.call(this)),"base64UrlEncoder",Je.getInstance()),yp(sp(e),"bitStringEncoder",en.getInstance()),t&&e.decode(t),e}return e=i,(n=[{key:"getFieldNames",value:function(){return Ws}},{key:"initializeFields",value:function(){var t=new hr;return t.put(zs.GPC_SEGMENT_TYPE.toString(),new pr(2,1)),t.put(zs.GPC_SEGMENT_INCLUDED.toString(),new zo(!0)),t.put(zs.GPC.toString(),new zo(!1)),t}},{key:"encodeSegment",value:function(t){var e=this.bitStringEncoder.encode(t,this.getFieldNames());return this.base64UrlEncoder.encode(e)}},{key:"decodeSegment",value:function(t,e){null!=t&&0!==t.length||this.fields.reset(e);try{var n=this.base64UrlEncoder.decode(t);this.bitStringEncoder.decode(n,this.getFieldNames(),e)}catch(e){throw new ge("Unable to decode UsCtGpcSegment '"+t+"'")}}}])&&cp(e.prototype,n),r&&cp(e,r),Object.defineProperty(e,"prototype",{writable:!1}),i}(wr);function vp(t){return(vp="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function hp(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,wp(r.key),r)}}function Sp(t,e){return(Sp=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function mp(t){var e=function(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return function(){return!!t}()}();return function(){var n,r=gp(t);if(e){var o=gp(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Op(this,n)}}function Op(t,e){if(e&&("object"===vp(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function gp(t){return(gp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Ep(t,e,n){return(e=wp(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function wp(t){var e=function(t,e){if("object"!=vp(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=vp(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==vp(e)?e:e+""}var _p,Tp=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Sp(t,e)}(i,t);var e,n,r,o=mp(i);function i(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),e=o.call(this),t&&t.length>0&&e.decode(t),e}return e=i,(n=[{key:"getId",value:function(){return i.ID}},{key:"getName",value:function(){return i.NAME}},{key:"getVersion",value:function(){return i.VERSION}},{key:"initializeSegments",value:function(){var t=[];return t.push(new ip),t.push(new dp),t}},{key:"decodeSection",value:function(t){var e=this.initializeSegments();if(null!=t&&0!==t.length){var n=t.split(".");n.length>0&&e[0].decode(n[0]),n.length>1?(e[1].setFieldValue(zs.GPC_SEGMENT_INCLUDED,!0),e[1].decode(n[1])):e[1].setFieldValue(zs.GPC_SEGMENT_INCLUDED,!1)}return e}},{key:"encodeSection",value:function(t){var e=[];return t.length>=1&&(e.push(t[0].encode()),t.length>=2&&!0===t[1].getFieldValue(zs.GPC_SEGMENT_INCLUDED)&&e.push(t[1].encode())),e.join(".")}}])&&hp(e.prototype,n),r&&hp(e,r),Object.defineProperty(e,"prototype",{writable:!1}),i}(se);Ep(Tp,"ID",12),Ep(Tp,"VERSION",1),Ep(Tp,"NAME","usct"),function(t){t.VERSION="Version",t.PROCESSING_NOTICE="ProcessingNotice",t.SALE_OPT_OUT_NOTICE="SaleOptOutNotice",t.TARGETED_ADVERTISING_OPT_OUT_NOTICE="TargetedAdvertisingOptOutNotice",t.SALE_OPT_OUT="SaleOptOut",t.TARGETED_ADVERTISING_OPT_OUT="TargetedAdvertisingOptOut",t.SENSITIVE_DATA_PROCESSING="SensitiveDataProcessing",t.KNOWN_CHILD_SENSITIVE_DATA_CONSENTS="KnownChildSensitiveDataConsents",t.ADDITIONAL_DATA_PROCESSING_CONSENT="AdditionalDataProcessingConsent",t.MSPA_COVERED_TRANSACTION="MspaCoveredTransaction",t.MSPA_OPT_OUT_OPTION_MODE="MspaOptOutOptionMode",t.MSPA_SERVICE_PROVIDER_MODE="MspaServiceProviderMode"}(_p||(_p={}));var Pp=[_p.VERSION,_p.PROCESSING_NOTICE,_p.SALE_OPT_OUT_NOTICE,_p.TARGETED_ADVERTISING_OPT_OUT_NOTICE,_p.SALE_OPT_OUT,_p.TARGETED_ADVERTISING_OPT_OUT,_p.SENSITIVE_DATA_PROCESSING,_p.KNOWN_CHILD_SENSITIVE_DATA_CONSENTS,_p.ADDITIONAL_DATA_PROCESSING_CONSENT,_p.MSPA_COVERED_TRANSACTION,_p.MSPA_OPT_OUT_OPTION_MODE,_p.MSPA_SERVICE_PROVIDER_MODE];function Np(t){return(Np="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Ip(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function jp(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Up(r.key),r)}}function Ap(t,e,n){return e&&jp(t.prototype,e),n&&jp(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Cp(t,e){return(Cp=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function Rp(t){var e=function(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return function(){return!!t}()}();return function(){var n,r=Mp(t);if(e){var o=Mp(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Dp(this,n)}}function Dp(t,e){if(e&&("object"===Np(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return Vp(t)}function Vp(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Mp(t){return(Mp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function kp(t,e,n){return(e=Up(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Up(t){var e=function(t,e){if("object"!=Np(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=Np(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Np(e)?e:e+""}var Gp=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Cp(t,e)}(n,t);var e=Rp(n);function n(t){var r;return Ip(this,n),kp(Vp(r=e.call(this)),"base64UrlEncoder",Je.getInstance()),kp(Vp(r),"bitStringEncoder",en.getInstance()),t&&r.decode(t),r}return Ap(n,[{key:"getFieldNames",value:function(){return Pp}},{key:"initializeFields",value:function(){var t=new(function(){function t(){Ip(this,t)}return Ap(t,[{key:"test",value:function(t){return t>=0&&t<=2}}]),t}()),e=new(function(){function t(){Ip(this,t)}return Ap(t,[{key:"test",value:function(t){return t>=1&&t<=2}}]),t}()),n=new(function(){function t(){Ip(this,t)}return Ap(t,[{key:"test",value:function(t){for(var e=0;e<t.length;e++){var n=t[e];if(n<0||n>2)return!1}return!0}}]),t}()),r=new hr;return r.put(_p.VERSION.toString(),new pr(6,Qp.VERSION)),r.put(_p.PROCESSING_NOTICE.toString(),new pr(2,0).withValidator(t)),r.put(_p.SALE_OPT_OUT_NOTICE.toString(),new pr(2,0).withValidator(t)),r.put(_p.TARGETED_ADVERTISING_OPT_OUT_NOTICE.toString(),new pr(2,0).withValidator(t)),r.put(_p.SALE_OPT_OUT.toString(),new pr(2,0).withValidator(t)),r.put(_p.TARGETED_ADVERTISING_OPT_OUT.toString(),new pr(2,0).withValidator(t)),r.put(_p.SENSITIVE_DATA_PROCESSING.toString(),new ul(2,[0,0,0,0,0,0,0,0]).withValidator(n)),r.put(_p.KNOWN_CHILD_SENSITIVE_DATA_CONSENTS.toString(),new ul(2,[0,0,0]).withValidator(n)),r.put(_p.ADDITIONAL_DATA_PROCESSING_CONSENT.toString(),new pr(2,0).withValidator(t)),r.put(_p.MSPA_COVERED_TRANSACTION.toString(),new pr(2,1).withValidator(e)),r.put(_p.MSPA_OPT_OUT_OPTION_MODE.toString(),new pr(2,0).withValidator(t)),r.put(_p.MSPA_SERVICE_PROVIDER_MODE.toString(),new pr(2,0).withValidator(t)),r}},{key:"encodeSegment",value:function(t){var e=this.bitStringEncoder.encode(t,this.getFieldNames());return this.base64UrlEncoder.encode(e)}},{key:"decodeSegment",value:function(t,e){null!=t&&0!==t.length||this.fields.reset(e);try{var n=this.base64UrlEncoder.decode(t);this.bitStringEncoder.decode(n,this.getFieldNames(),e)}catch(e){throw new ge("Unable to decode UsFlCoreSegment '"+t+"'")}}},{key:"validate",value:function(){var t=this.fields.get(_p.SALE_OPT_OUT_NOTICE).getValue(),e=this.fields.get(_p.SALE_OPT_OUT).getValue(),n=this.fields.get(_p.TARGETED_ADVERTISING_OPT_OUT_NOTICE).getValue(),r=this.fields.get(_p.TARGETED_ADVERTISING_OPT_OUT).getValue(),o=this.fields.get(_p.MSPA_SERVICE_PROVIDER_MODE).getValue(),i=this.fields.get(_p.MSPA_OPT_OUT_OPTION_MODE).getValue();if(0==t){if(0!=e)throw new _n("Invalid usva sale notice / opt out combination: {"+t+" / "+e+"}")}else if(1==t){if(1!=e&&2!=e)throw new _n("Invalid usva sale notice / opt out combination: {"+t+" / "+e+"}")}else if(2==t&&1!=e)throw new _n("Invalid usva sale notice / opt out combination: {"+t+" / "+e+"}");if(0==n){if(0!=r)throw new _n("Invalid usva targeted advertising notice / opt out combination: {"+n+" / "+r+"}")}else if(1==n){if(1!=e&&2!=e)throw new _n("Invalid usva targeted advertising notice / opt out combination: {"+n+" / "+r+"}")}else if(2==n&&1!=e)throw new _n("Invalid usva targeted advertising notice / opt out combination: {"+n+" / "+r+"}");if(0==o){if(0!=t)throw new _n("Invalid usva mspa service provider mode / sale opt out notice combination: {"+o+" / "+t+"}")}else if(1==o){if(2!=i)throw new _n("Invalid usva mspa service provider / opt out option modes combination: {"+o+" / "+o+"}");if(0!=t)throw new _n("Invalid usva mspa service provider mode / sale opt out notice combination: {"+o+" / "+t+"}")}else if(2==o&&1!=i)throw new _n("Invalid usva mspa service provider / opt out option modes combination: {"+o+" / "+i+"}")}}]),n}(wr);function Lp(t){return(Lp="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Fp(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Kp(r.key),r)}}function xp(t,e){return(xp=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function Bp(t){var e=function(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return function(){return!!t}()}();return function(){var n,r=zp(t);if(e){var o=zp(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Hp(this,n)}}function Hp(t,e){if(e&&("object"===Lp(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function zp(t){return(zp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Yp(t,e,n){return(e=Kp(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Kp(t){var e=function(t,e){if("object"!=Lp(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=Lp(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Lp(e)?e:e+""}var Wp,Qp=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&xp(t,e)}(i,t);var e,n,r,o=Bp(i);function i(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),e=o.call(this),t&&t.length>0&&e.decode(t),e}return e=i,(n=[{key:"getId",value:function(){return i.ID}},{key:"getName",value:function(){return i.NAME}},{key:"getVersion",value:function(){return i.VERSION}},{key:"initializeSegments",value:function(){var t=[];return t.push(new Gp),t}},{key:"decodeSection",value:function(t){var e=this.initializeSegments();if(null!=t&&0!==t.length)for(var n=t.split("."),r=0;r<e.length;r++)n.length>r&&e[r].decode(n[r]);return e}},{key:"encodeSection",value:function(t){for(var e=[],n=0;n<t.length;n++){var r=t[n];e.push(r.encode())}return e.join(".")}}])&&Fp(e.prototype,n),r&&Fp(e,r),Object.defineProperty(e,"prototype",{writable:!1}),i}(se);Yp(Qp,"ID",13),Yp(Qp,"VERSION",1),Yp(Qp,"NAME","usfl"),function(t){t.VERSION="Version",t.SHARING_NOTICE="SharingNotice",t.SALE_OPT_OUT_NOTICE="SaleOptOutNotice",t.TARGETED_ADVERTISING_OPT_OUT_NOTICE="TargetedAdvertisingOptOutNotice",t.SALE_OPT_OUT="SaleOptOut",t.TARGETED_ADVERTISING_OPT_OUT="TargetedAdvertisingOptOut",t.SENSITIVE_DATA_PROCESSING="SensitiveDataProcessing",t.KNOWN_CHILD_SENSITIVE_DATA_CONSENTS="KnownChildSensitiveDataConsents",t.ADDITIONAL_DATA_PROCESSING_CONSENT="AdditionalDataProcessingConsent",t.MSPA_COVERED_TRANSACTION="MspaCoveredTransaction",t.MSPA_OPT_OUT_OPTION_MODE="MspaOptOutOptionMode",t.MSPA_SERVICE_PROVIDER_MODE="MspaServiceProviderMode",t.GPC_SEGMENT_TYPE="GpcSegmentType",t.GPC_SEGMENT_INCLUDED="GpcSegmentIncluded",t.GPC="Gpc"}(Wp||(Wp={}));var Xp=[Wp.VERSION,Wp.SHARING_NOTICE,Wp.SALE_OPT_OUT_NOTICE,Wp.TARGETED_ADVERTISING_OPT_OUT_NOTICE,Wp.SALE_OPT_OUT,Wp.TARGETED_ADVERTISING_OPT_OUT,Wp.SENSITIVE_DATA_PROCESSING,Wp.KNOWN_CHILD_SENSITIVE_DATA_CONSENTS,Wp.ADDITIONAL_DATA_PROCESSING_CONSENT,Wp.MSPA_COVERED_TRANSACTION,Wp.MSPA_OPT_OUT_OPTION_MODE,Wp.MSPA_SERVICE_PROVIDER_MODE],$p=[Wp.GPC_SEGMENT_TYPE,Wp.GPC];function Jp(t){return(Jp="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function qp(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Zp(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,cy(r.key),r)}}function ty(t,e,n){return e&&Zp(t.prototype,e),n&&Zp(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function ey(t,e){return(ey=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function ny(t){var e=function(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return function(){return!!t}()}();return function(){var n,r=iy(t);if(e){var o=iy(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return ry(this,n)}}function ry(t,e){if(e&&("object"===Jp(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return oy(t)}function oy(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function iy(t){return(iy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function uy(t,e,n){return(e=cy(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function cy(t){var e=function(t,e){if("object"!=Jp(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=Jp(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Jp(e)?e:e+""}var ay=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ey(t,e)}(n,t);var e=ny(n);function n(t){var r;return qp(this,n),uy(oy(r=e.call(this)),"base64UrlEncoder",Je.getInstance()),uy(oy(r),"bitStringEncoder",en.getInstance()),t&&r.decode(t),r}return ty(n,[{key:"getFieldNames",value:function(){return Xp}},{key:"initializeFields",value:function(){var t=new(function(){function t(){qp(this,t)}return ty(t,[{key:"test",value:function(t){return t>=0&&t<=2}}]),t}()),e=new(function(){function t(){qp(this,t)}return ty(t,[{key:"test",value:function(t){return t>=1&&t<=2}}]),t}()),n=new(function(){function t(){qp(this,t)}return ty(t,[{key:"test",value:function(t){for(var e=0;e<t.length;e++){var n=t[e];if(n<0||n>2)return!1}return!0}}]),t}()),r=new hr;return r.put(Wp.VERSION.toString(),new pr(6,Iy.VERSION)),r.put(Wp.SHARING_NOTICE.toString(),new pr(2,0).withValidator(t)),r.put(Wp.SALE_OPT_OUT_NOTICE.toString(),new pr(2,0).withValidator(t)),r.put(Wp.TARGETED_ADVERTISING_OPT_OUT_NOTICE.toString(),new pr(2,0).withValidator(t)),r.put(Wp.SALE_OPT_OUT.toString(),new pr(2,0).withValidator(t)),r.put(Wp.TARGETED_ADVERTISING_OPT_OUT.toString(),new pr(2,0).withValidator(t)),r.put(Wp.SENSITIVE_DATA_PROCESSING.toString(),new ul(2,[0,0,0,0,0,0,0,0]).withValidator(n)),r.put(Wp.KNOWN_CHILD_SENSITIVE_DATA_CONSENTS.toString(),new ul(2,[0,0,0]).withValidator(n)),r.put(Wp.ADDITIONAL_DATA_PROCESSING_CONSENT.toString(),new pr(2,0).withValidator(t)),r.put(Wp.MSPA_COVERED_TRANSACTION.toString(),new pr(2,1).withValidator(e)),r.put(Wp.MSPA_OPT_OUT_OPTION_MODE.toString(),new pr(2,0).withValidator(t)),r.put(Wp.MSPA_SERVICE_PROVIDER_MODE.toString(),new pr(2,0).withValidator(t)),r}},{key:"encodeSegment",value:function(t){var e=this.bitStringEncoder.encode(t,this.getFieldNames());return this.base64UrlEncoder.encode(e)}},{key:"decodeSegment",value:function(t,e){null!=t&&0!==t.length||this.fields.reset(e);try{var n=this.base64UrlEncoder.decode(t);this.bitStringEncoder.decode(n,this.getFieldNames(),e)}catch(e){throw new ge("Unable to decode UsMtCoreSegment '"+t+"'")}}},{key:"validate",value:function(){var t=this.fields.get(Wp.SALE_OPT_OUT_NOTICE).getValue(),e=this.fields.get(Wp.SALE_OPT_OUT).getValue(),n=this.fields.get(Wp.TARGETED_ADVERTISING_OPT_OUT_NOTICE).getValue(),r=this.fields.get(Wp.TARGETED_ADVERTISING_OPT_OUT).getValue(),o=this.fields.get(Wp.MSPA_SERVICE_PROVIDER_MODE).getValue(),i=this.fields.get(Wp.MSPA_OPT_OUT_OPTION_MODE).getValue();if(0==t){if(0!=e)throw new _n("Invalid usct sale notice / opt out combination: {"+t+" / "+e+"}")}else if(1==t){if(1!=e&&2!=e)throw new _n("Invalid usct sale notice / opt out combination: {"+t+" / "+e+"}")}else if(2==t&&1!=e)throw new _n("Invalid usct sale notice / opt out combination: {"+t+" / "+e+"}");if(0==n){if(0!=r)throw new _n("Invalid usct targeted advertising notice / opt out combination: {"+n+" / "+r+"}")}else if(1==n){if(1!=e&&2!=e)throw new _n("Invalid usct targeted advertising notice / opt out combination: {"+n+" / "+r+"}")}else if(2==n&&1!=e)throw new _n("Invalid usct targeted advertising notice / opt out combination: {"+n+" / "+r+"}");if(0==o){if(0!=t)throw new _n("Invalid usct mspa service provider mode / sale opt out notice combination: {"+o+" / "+t+"}")}else if(1==o){if(2!=i)throw new _n("Invalid usct mspa service provider / opt out option modes combination: {"+o+" / "+o+"}");if(0!=t)throw new _n("Invalid usct mspa service provider mode / sale opt out notice combination: {"+o+" / "+t+"}")}else if(2==o&&1!=i)throw new _n("Invalid usct mspa service provider / opt out option modes combination: {"+o+" / "+i+"}")}}]),n}(wr);function ly(t){return(ly="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function fy(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,hy(r.key),r)}}function sy(t,e){return(sy=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function py(t){var e=function(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return function(){return!!t}()}();return function(){var n,r=dy(t);if(e){var o=dy(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return yy(this,n)}}function yy(t,e){if(e&&("object"===ly(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return by(t)}function by(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function dy(t){return(dy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function vy(t,e,n){return(e=hy(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function hy(t){var e=function(t,e){if("object"!=ly(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=ly(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==ly(e)?e:e+""}var Sy=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&sy(t,e)}(i,t);var e,n,r,o=py(i);function i(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),vy(by(e=o.call(this)),"base64UrlEncoder",Je.getInstance()),vy(by(e),"bitStringEncoder",en.getInstance()),t&&e.decode(t),e}return e=i,(n=[{key:"getFieldNames",value:function(){return $p}},{key:"initializeFields",value:function(){var t=new hr;return t.put(Wp.GPC_SEGMENT_TYPE.toString(),new pr(2,1)),t.put(Wp.GPC_SEGMENT_INCLUDED.toString(),new zo(!0)),t.put(Wp.GPC.toString(),new zo(!1)),t}},{key:"encodeSegment",value:function(t){var e=this.bitStringEncoder.encode(t,this.getFieldNames());return this.base64UrlEncoder.encode(e)}},{key:"decodeSegment",value:function(t,e){null!=t&&0!==t.length||this.fields.reset(e);try{var n=this.base64UrlEncoder.decode(t);this.bitStringEncoder.decode(n,this.getFieldNames(),e)}catch(e){throw new ge("Unable to decode UsMtGpcSegment '"+t+"'")}}}])&&fy(e.prototype,n),r&&fy(e,r),Object.defineProperty(e,"prototype",{writable:!1}),i}(wr);function my(t){return(my="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Oy(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Py(r.key),r)}}function gy(t,e){return(gy=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function Ey(t){var e=function(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return function(){return!!t}()}();return function(){var n,r=_y(t);if(e){var o=_y(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return wy(this,n)}}function wy(t,e){if(e&&("object"===my(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function _y(t){return(_y=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Ty(t,e,n){return(e=Py(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Py(t){var e=function(t,e){if("object"!=my(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=my(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==my(e)?e:e+""}var Ny,Iy=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&gy(t,e)}(i,t);var e,n,r,o=Ey(i);function i(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),e=o.call(this),t&&t.length>0&&e.decode(t),e}return e=i,(n=[{key:"getId",value:function(){return i.ID}},{key:"getName",value:function(){return i.NAME}},{key:"getVersion",value:function(){return i.VERSION}},{key:"initializeSegments",value:function(){var t=[];return t.push(new ay),t.push(new Sy),t}},{key:"decodeSection",value:function(t){var e=this.initializeSegments();if(null!=t&&0!==t.length){var n=t.split(".");n.length>0&&e[0].decode(n[0]),n.length>1?(e[1].setFieldValue(Wp.GPC_SEGMENT_INCLUDED,!0),e[1].decode(n[1])):e[1].setFieldValue(Wp.GPC_SEGMENT_INCLUDED,!1)}return e}},{key:"encodeSection",value:function(t){var e=[];return t.length>=1&&(e.push(t[0].encode()),t.length>=2&&!0===t[1].getFieldValue(Wp.GPC_SEGMENT_INCLUDED)&&e.push(t[1].encode())),e.join(".")}}])&&Oy(e.prototype,n),r&&Oy(e,r),Object.defineProperty(e,"prototype",{writable:!1}),i}(se);Ty(Iy,"ID",14),Ty(Iy,"VERSION",1),Ty(Iy,"NAME","usmt"),function(t){t.VERSION="Version",t.PROCESSING_NOTICE="ProcessingNotice",t.SALE_OPT_OUT_NOTICE="SaleOptOutNotice",t.TARGETED_ADVERTISING_OPT_OUT_NOTICE="TargetedAdvertisingOptOutNotice",t.SALE_OPT_OUT="SaleOptOut",t.TARGETED_ADVERTISING_OPT_OUT="TargetedAdvertisingOptOut",t.SENSITIVE_DATA_PROCESSING="SensitiveDataProcessing",t.KNOWN_CHILD_SENSITIVE_DATA_CONSENTS="KnownChildSensitiveDataConsents",t.ADDITIONAL_DATA_PROCESSING_CONSENT="AdditionalDataProcessingConsent",t.MSPA_COVERED_TRANSACTION="MspaCoveredTransaction",t.MSPA_OPT_OUT_OPTION_MODE="MspaOptOutOptionMode",t.MSPA_SERVICE_PROVIDER_MODE="MspaServiceProviderMode",t.GPC_SEGMENT_TYPE="GpcSegmentType",t.GPC_SEGMENT_INCLUDED="GpcSegmentIncluded",t.GPC="Gpc"}(Ny||(Ny={}));var jy=[Ny.VERSION,Ny.PROCESSING_NOTICE,Ny.SALE_OPT_OUT_NOTICE,Ny.TARGETED_ADVERTISING_OPT_OUT_NOTICE,Ny.SALE_OPT_OUT,Ny.TARGETED_ADVERTISING_OPT_OUT,Ny.SENSITIVE_DATA_PROCESSING,Ny.KNOWN_CHILD_SENSITIVE_DATA_CONSENTS,Ny.ADDITIONAL_DATA_PROCESSING_CONSENT,Ny.MSPA_COVERED_TRANSACTION,Ny.MSPA_OPT_OUT_OPTION_MODE,Ny.MSPA_SERVICE_PROVIDER_MODE],Ay=[Ny.GPC_SEGMENT_TYPE,Ny.GPC];function Cy(t){return(Cy="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Ry(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Dy(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,xy(r.key),r)}}function Vy(t,e,n){return e&&Dy(t.prototype,e),n&&Dy(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function My(t,e){return(My=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function ky(t){var e=function(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return function(){return!!t}()}();return function(){var n,r=Ly(t);if(e){var o=Ly(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Uy(this,n)}}function Uy(t,e){if(e&&("object"===Cy(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return Gy(t)}function Gy(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Ly(t){return(Ly=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Fy(t,e,n){return(e=xy(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function xy(t){var e=function(t,e){if("object"!=Cy(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=Cy(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Cy(e)?e:e+""}var By=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&My(t,e)}(n,t);var e=ky(n);function n(t){var r;return Ry(this,n),Fy(Gy(r=e.call(this)),"base64UrlEncoder",Je.getInstance()),Fy(Gy(r),"bitStringEncoder",en.getInstance()),t&&r.decode(t),r}return Vy(n,[{key:"getFieldNames",value:function(){return jy}},{key:"initializeFields",value:function(){var t=new(function(){function t(){Ry(this,t)}return Vy(t,[{key:"test",value:function(t){return t>=0&&t<=2}}]),t}()),e=new(function(){function t(){Ry(this,t)}return Vy(t,[{key:"test",value:function(t){return t>=1&&t<=2}}]),t}()),n=new(function(){function t(){Ry(this,t)}return Vy(t,[{key:"test",value:function(t){for(var e=0;e<t.length;e++){var n=t[e];if(n<0||n>2)return!1}return!0}}]),t}()),r=new hr;return r.put(Ny.VERSION.toString(),new pr(6,ab.VERSION)),r.put(Ny.PROCESSING_NOTICE.toString(),new pr(2,0).withValidator(t)),r.put(Ny.SALE_OPT_OUT_NOTICE.toString(),new pr(2,0).withValidator(t)),r.put(Ny.TARGETED_ADVERTISING_OPT_OUT_NOTICE.toString(),new pr(2,0).withValidator(t)),r.put(Ny.SALE_OPT_OUT.toString(),new pr(2,0).withValidator(t)),r.put(Ny.TARGETED_ADVERTISING_OPT_OUT.toString(),new pr(2,0).withValidator(t)),r.put(Ny.SENSITIVE_DATA_PROCESSING.toString(),new ul(2,[0,0,0,0,0,0,0,0,0,0,0]).withValidator(n)),r.put(Ny.KNOWN_CHILD_SENSITIVE_DATA_CONSENTS.toString(),new ul(2,[0,0,0]).withValidator(n)),r.put(Ny.ADDITIONAL_DATA_PROCESSING_CONSENT.toString(),new pr(2,0).withValidator(t)),r.put(Ny.MSPA_COVERED_TRANSACTION.toString(),new pr(2,1).withValidator(e)),r.put(Ny.MSPA_OPT_OUT_OPTION_MODE.toString(),new pr(2,0).withValidator(t)),r.put(Ny.MSPA_SERVICE_PROVIDER_MODE.toString(),new pr(2,0).withValidator(t)),r}},{key:"encodeSegment",value:function(t){var e=this.bitStringEncoder.encode(t,this.getFieldNames());return this.base64UrlEncoder.encode(e)}},{key:"decodeSegment",value:function(t,e){null!=t&&0!==t.length||this.fields.reset(e);try{var n=this.base64UrlEncoder.decode(t);this.bitStringEncoder.decode(n,this.getFieldNames(),e)}catch(e){throw new ge("Unable to decode UsOrCoreSegment '"+t+"'")}}},{key:"validate",value:function(){var t=this.fields.get(Ny.SALE_OPT_OUT_NOTICE).getValue(),e=this.fields.get(Ny.SALE_OPT_OUT).getValue(),n=this.fields.get(Ny.TARGETED_ADVERTISING_OPT_OUT_NOTICE).getValue(),r=this.fields.get(Ny.TARGETED_ADVERTISING_OPT_OUT).getValue(),o=this.fields.get(Ny.MSPA_SERVICE_PROVIDER_MODE).getValue(),i=this.fields.get(Ny.MSPA_OPT_OUT_OPTION_MODE).getValue();if(0==t){if(0!=e)throw new _n("Invalid usct sale notice / opt out combination: {"+t+" / "+e+"}")}else if(1==t){if(1!=e&&2!=e)throw new _n("Invalid usct sale notice / opt out combination: {"+t+" / "+e+"}")}else if(2==t&&1!=e)throw new _n("Invalid usct sale notice / opt out combination: {"+t+" / "+e+"}");if(0==n){if(0!=r)throw new _n("Invalid usct targeted advertising notice / opt out combination: {"+n+" / "+r+"}")}else if(1==n){if(1!=e&&2!=e)throw new _n("Invalid usct targeted advertising notice / opt out combination: {"+n+" / "+r+"}")}else if(2==n&&1!=e)throw new _n("Invalid usct targeted advertising notice / opt out combination: {"+n+" / "+r+"}");if(0==o){if(0!=t)throw new _n("Invalid usct mspa service provider mode / sale opt out notice combination: {"+o+" / "+t+"}")}else if(1==o){if(2!=i)throw new _n("Invalid usct mspa service provider / opt out option modes combination: {"+o+" / "+o+"}");if(0!=t)throw new _n("Invalid usct mspa service provider mode / sale opt out notice combination: {"+o+" / "+t+"}")}else if(2==o&&1!=i)throw new _n("Invalid usct mspa service provider / opt out option modes combination: {"+o+" / "+i+"}")}}]),n}(wr);function Hy(t){return(Hy="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function zy(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Jy(r.key),r)}}function Yy(t,e){return(Yy=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function Ky(t){var e=function(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return function(){return!!t}()}();return function(){var n,r=Xy(t);if(e){var o=Xy(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Wy(this,n)}}function Wy(t,e){if(e&&("object"===Hy(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return Qy(t)}function Qy(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Xy(t){return(Xy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function $y(t,e,n){return(e=Jy(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Jy(t){var e=function(t,e){if("object"!=Hy(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=Hy(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Hy(e)?e:e+""}var qy=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Yy(t,e)}(i,t);var e,n,r,o=Ky(i);function i(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),$y(Qy(e=o.call(this)),"base64UrlEncoder",Je.getInstance()),$y(Qy(e),"bitStringEncoder",en.getInstance()),t&&e.decode(t),e}return e=i,(n=[{key:"getFieldNames",value:function(){return Ay}},{key:"initializeFields",value:function(){var t=new hr;return t.put(Ny.GPC_SEGMENT_TYPE.toString(),new pr(2,1)),t.put(Ny.GPC_SEGMENT_INCLUDED.toString(),new zo(!0)),t.put(Ny.GPC.toString(),new zo(!1)),t}},{key:"encodeSegment",value:function(t){var e=this.bitStringEncoder.encode(t,this.getFieldNames());return this.base64UrlEncoder.encode(e)}},{key:"decodeSegment",value:function(t,e){null!=t&&0!==t.length||this.fields.reset(e);try{var n=this.base64UrlEncoder.decode(t);this.bitStringEncoder.decode(n,this.getFieldNames(),e)}catch(e){throw new ge("Unable to decode UsOrGpcSegment '"+t+"'")}}}])&&zy(e.prototype,n),r&&zy(e,r),Object.defineProperty(e,"prototype",{writable:!1}),i}(wr);function Zy(t){return(Zy="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function tb(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,ub(r.key),r)}}function eb(t,e){return(eb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function nb(t){var e=function(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return function(){return!!t}()}();return function(){var n,r=ob(t);if(e){var o=ob(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return rb(this,n)}}function rb(t,e){if(e&&("object"===Zy(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function ob(t){return(ob=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function ib(t,e,n){return(e=ub(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ub(t){var e=function(t,e){if("object"!=Zy(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=Zy(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Zy(e)?e:e+""}var cb,ab=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&eb(t,e)}(i,t);var e,n,r,o=nb(i);function i(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),e=o.call(this),t&&t.length>0&&e.decode(t),e}return e=i,(n=[{key:"getId",value:function(){return i.ID}},{key:"getName",value:function(){return i.NAME}},{key:"getVersion",value:function(){return i.VERSION}},{key:"initializeSegments",value:function(){var t=[];return t.push(new By),t.push(new qy),t}},{key:"decodeSection",value:function(t){var e=this.initializeSegments();if(null!=t&&0!==t.length){var n=t.split(".");n.length>0&&e[0].decode(n[0]),n.length>1?(e[1].setFieldValue(Ny.GPC_SEGMENT_INCLUDED,!0),e[1].decode(n[1])):e[1].setFieldValue(Ny.GPC_SEGMENT_INCLUDED,!1)}return e}},{key:"encodeSection",value:function(t){var e=[];return t.length>=1&&(e.push(t[0].encode()),t.length>=2&&!0===t[1].getFieldValue(Ny.GPC_SEGMENT_INCLUDED)&&e.push(t[1].encode())),e.join(".")}}])&&tb(e.prototype,n),r&&tb(e,r),Object.defineProperty(e,"prototype",{writable:!1}),i}(se);ib(ab,"ID",15),ib(ab,"VERSION",1),ib(ab,"NAME","usor"),function(t){t.VERSION="Version",t.PROCESSING_NOTICE="ProcessingNotice",t.SALE_OPT_OUT_NOTICE="SaleOptOutNotice",t.TARGETED_ADVERTISING_OPT_OUT_NOTICE="TargetedAdvertisingOptOutNotice",t.SALE_OPT_OUT="SaleOptOut",t.TARGETED_ADVERTISING_OPT_OUT="TargetedAdvertisingOptOut",t.SENSITIVE_DATA_PROCESSING="SensitiveDataProcessing",t.KNOWN_CHILD_SENSITIVE_DATA_CONSENTS="KnownChildSensitiveDataConsents",t.ADDITIONAL_DATA_PROCESSING_CONSENT="AdditionalDataProcessingConsent",t.MSPA_COVERED_TRANSACTION="MspaCoveredTransaction",t.MSPA_OPT_OUT_OPTION_MODE="MspaOptOutOptionMode",t.MSPA_SERVICE_PROVIDER_MODE="MspaServiceProviderMode",t.GPC_SEGMENT_TYPE="GpcSegmentType",t.GPC_SEGMENT_INCLUDED="GpcSegmentIncluded",t.GPC="Gpc"}(cb||(cb={}));var lb=[cb.VERSION,cb.PROCESSING_NOTICE,cb.SALE_OPT_OUT_NOTICE,cb.TARGETED_ADVERTISING_OPT_OUT_NOTICE,cb.SALE_OPT_OUT,cb.TARGETED_ADVERTISING_OPT_OUT,cb.SENSITIVE_DATA_PROCESSING,cb.KNOWN_CHILD_SENSITIVE_DATA_CONSENTS,cb.ADDITIONAL_DATA_PROCESSING_CONSENT,cb.MSPA_COVERED_TRANSACTION,cb.MSPA_OPT_OUT_OPTION_MODE,cb.MSPA_SERVICE_PROVIDER_MODE],fb=[cb.GPC_SEGMENT_TYPE,cb.GPC];function sb(t){return(sb="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function pb(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function yb(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,gb(r.key),r)}}function bb(t,e,n){return e&&yb(t.prototype,e),n&&yb(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function db(t,e){return(db=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function vb(t){var e=function(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return function(){return!!t}()}();return function(){var n,r=mb(t);if(e){var o=mb(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return hb(this,n)}}function hb(t,e){if(e&&("object"===sb(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return Sb(t)}function Sb(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function mb(t){return(mb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Ob(t,e,n){return(e=gb(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function gb(t){var e=function(t,e){if("object"!=sb(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=sb(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==sb(e)?e:e+""}var Eb=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&db(t,e)}(n,t);var e=vb(n);function n(t){var r;return pb(this,n),Ob(Sb(r=e.call(this)),"base64UrlEncoder",Je.getInstance()),Ob(Sb(r),"bitStringEncoder",en.getInstance()),t&&r.decode(t),r}return bb(n,[{key:"getFieldNames",value:function(){return lb}},{key:"initializeFields",value:function(){var t=new(function(){function t(){pb(this,t)}return bb(t,[{key:"test",value:function(t){return t>=0&&t<=2}}]),t}()),e=new(function(){function t(){pb(this,t)}return bb(t,[{key:"test",value:function(t){return t>=1&&t<=2}}]),t}()),n=new(function(){function t(){pb(this,t)}return bb(t,[{key:"test",value:function(t){for(var e=0;e<t.length;e++){var n=t[e];if(n<0||n>2)return!1}return!0}}]),t}()),r=new hr;return r.put(cb.VERSION.toString(),new pr(6,xb.VERSION)),r.put(cb.PROCESSING_NOTICE.toString(),new pr(2,0).withValidator(t)),r.put(cb.SALE_OPT_OUT_NOTICE.toString(),new pr(2,0).withValidator(t)),r.put(cb.TARGETED_ADVERTISING_OPT_OUT_NOTICE.toString(),new pr(2,0).withValidator(t)),r.put(cb.SALE_OPT_OUT.toString(),new pr(2,0).withValidator(t)),r.put(cb.TARGETED_ADVERTISING_OPT_OUT.toString(),new pr(2,0).withValidator(t)),r.put(cb.SENSITIVE_DATA_PROCESSING.toString(),new ul(2,[0,0,0,0,0,0,0,0]).withValidator(n)),r.put(cb.KNOWN_CHILD_SENSITIVE_DATA_CONSENTS.toString(),new pr(2,0).withValidator(t)),r.put(cb.ADDITIONAL_DATA_PROCESSING_CONSENT.toString(),new pr(2,0).withValidator(t)),r.put(cb.MSPA_COVERED_TRANSACTION.toString(),new pr(2,1).withValidator(e)),r.put(cb.MSPA_OPT_OUT_OPTION_MODE.toString(),new pr(2,0).withValidator(t)),r.put(cb.MSPA_SERVICE_PROVIDER_MODE.toString(),new pr(2,0).withValidator(t)),r}},{key:"encodeSegment",value:function(t){var e=this.bitStringEncoder.encode(t,this.getFieldNames());return this.base64UrlEncoder.encode(e)}},{key:"decodeSegment",value:function(t,e){null!=t&&0!==t.length||this.fields.reset(e);try{var n=this.base64UrlEncoder.decode(t);this.bitStringEncoder.decode(n,this.getFieldNames(),e)}catch(e){throw new ge("Unable to decode UsTxCoreSegment '"+t+"'")}}},{key:"validate",value:function(){var t=this.fields.get(cb.SALE_OPT_OUT_NOTICE).getValue(),e=this.fields.get(cb.SALE_OPT_OUT).getValue(),n=this.fields.get(cb.TARGETED_ADVERTISING_OPT_OUT_NOTICE).getValue(),r=this.fields.get(cb.TARGETED_ADVERTISING_OPT_OUT).getValue(),o=this.fields.get(cb.MSPA_SERVICE_PROVIDER_MODE).getValue(),i=this.fields.get(cb.MSPA_OPT_OUT_OPTION_MODE).getValue();if(0==t){if(0!=e)throw new _n("Invalid usct sale notice / opt out combination: {"+t+" / "+e+"}")}else if(1==t){if(1!=e&&2!=e)throw new _n("Invalid usct sale notice / opt out combination: {"+t+" / "+e+"}")}else if(2==t&&1!=e)throw new _n("Invalid usct sale notice / opt out combination: {"+t+" / "+e+"}");if(0==n){if(0!=r)throw new _n("Invalid usct targeted advertising notice / opt out combination: {"+n+" / "+r+"}")}else if(1==n){if(1!=e&&2!=e)throw new _n("Invalid usct targeted advertising notice / opt out combination: {"+n+" / "+r+"}")}else if(2==n&&1!=e)throw new _n("Invalid usct targeted advertising notice / opt out combination: {"+n+" / "+r+"}");if(0==o){if(0!=t)throw new _n("Invalid usct mspa service provider mode / sale opt out notice combination: {"+o+" / "+t+"}")}else if(1==o){if(2!=i)throw new _n("Invalid usct mspa service provider / opt out option modes combination: {"+o+" / "+o+"}");if(0!=t)throw new _n("Invalid usct mspa service provider mode / sale opt out notice combination: {"+o+" / "+t+"}")}else if(2==o&&1!=i)throw new _n("Invalid usct mspa service provider / opt out option modes combination: {"+o+" / "+i+"}")}}]),n}(wr);function wb(t){return(wb="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function _b(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Cb(r.key),r)}}function Tb(t,e){return(Tb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function Pb(t){var e=function(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return function(){return!!t}()}();return function(){var n,r=jb(t);if(e){var o=jb(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Nb(this,n)}}function Nb(t,e){if(e&&("object"===wb(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return Ib(t)}function Ib(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function jb(t){return(jb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Ab(t,e,n){return(e=Cb(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Cb(t){var e=function(t,e){if("object"!=wb(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=wb(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==wb(e)?e:e+""}var Rb=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Tb(t,e)}(i,t);var e,n,r,o=Pb(i);function i(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),Ab(Ib(e=o.call(this)),"base64UrlEncoder",Je.getInstance()),Ab(Ib(e),"bitStringEncoder",en.getInstance()),t&&e.decode(t),e}return e=i,(n=[{key:"getFieldNames",value:function(){return fb}},{key:"initializeFields",value:function(){var t=new hr;return t.put(cb.GPC_SEGMENT_TYPE.toString(),new pr(2,1)),t.put(cb.GPC_SEGMENT_INCLUDED.toString(),new zo(!0)),t.put(cb.GPC.toString(),new zo(!1)),t}},{key:"encodeSegment",value:function(t){var e=this.bitStringEncoder.encode(t,this.getFieldNames());return this.base64UrlEncoder.encode(e)}},{key:"decodeSegment",value:function(t,e){null!=t&&0!==t.length||this.fields.reset(e);try{var n=this.base64UrlEncoder.decode(t);this.bitStringEncoder.decode(n,this.getFieldNames(),e)}catch(e){throw new ge("Unable to decode UsTxGpcSegment '"+t+"'")}}}])&&_b(e.prototype,n),r&&_b(e,r),Object.defineProperty(e,"prototype",{writable:!1}),i}(wr);function Db(t){return(Db="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Vb(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Fb(r.key),r)}}function Mb(t,e){return(Mb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function kb(t){var e=function(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return function(){return!!t}()}();return function(){var n,r=Gb(t);if(e){var o=Gb(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Ub(this,n)}}function Ub(t,e){if(e&&("object"===Db(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function Gb(t){return(Gb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Lb(t,e,n){return(e=Fb(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Fb(t){var e=function(t,e){if("object"!=Db(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=Db(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Db(e)?e:e+""}var xb=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Mb(t,e)}(i,t);var e,n,r,o=kb(i);function i(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),e=o.call(this),t&&t.length>0&&e.decode(t),e}return e=i,(n=[{key:"getId",value:function(){return i.ID}},{key:"getName",value:function(){return i.NAME}},{key:"getVersion",value:function(){return i.VERSION}},{key:"initializeSegments",value:function(){var t=[];return t.push(new Eb),t.push(new Rb),t}},{key:"decodeSection",value:function(t){var e=this.initializeSegments();if(null!=t&&0!==t.length){var n=t.split(".");n.length>0&&e[0].decode(n[0]),n.length>1?(e[1].setFieldValue(cb.GPC_SEGMENT_INCLUDED,!0),e[1].decode(n[1])):e[1].setFieldValue(cb.GPC_SEGMENT_INCLUDED,!1)}return e}},{key:"encodeSection",value:function(t){var e=[];return t.length>=1&&(e.push(t[0].encode()),t.length>=2&&!0===t[1].getFieldValue(cb.GPC_SEGMENT_INCLUDED)&&e.push(t[1].encode())),e.join(".")}}])&&Vb(e.prototype,n),r&&Vb(e,r),Object.defineProperty(e,"prototype",{writable:!1}),i}(se);function Bb(t){return(Bb="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Hb(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Kb(r.key),r)}}function zb(t,e,n){return e&&Hb(t.prototype,e),n&&Hb(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Yb(t,e,n){return(e=Kb(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Kb(t){var e=function(t,e){if("object"!=Bb(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=Bb(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Bb(e)?e:e+""}Lb(xb,"ID",16),Lb(xb,"VERSION",1),Lb(xb,"NAME","ustx");var Wb=zb((function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}));function Qb(t){return(Qb="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Xb(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Jb(r.key),r)}}function $b(t,e,n){return(e=Jb(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Jb(t){var e=function(t,e){if("object"!=Qb(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=Qb(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Qb(e)?e:e+""}Yb(Wb,"SECTION_ID_NAME_MAP",new Map([[lc.ID,lc.NAME],[Zc.ID,Zc.NAME],[La.ID,La.NAME],[Gl.ID,Gl.NAME],[mf.ID,mf.NAME],[Bf.ID,Bf.NAME],[Es.ID,Es.NAME],[Ys.ID,Ys.NAME],[Tp.ID,Tp.NAME],[Qp.ID,Qp.NAME],[Iy.ID,Iy.NAME],[ab.ID,ab.NAME],[xb.ID,xb.NAME]])),Yb(Wb,"SECTION_ORDER",[lc.NAME,Zc.NAME,La.NAME,Gl.NAME,mf.NAME,Bf.NAME,Es.NAME,Ys.NAME,Tp.NAME,Qp.NAME,Iy.NAME,ab.NAME,xb.NAME]);var qb=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),$b(this,"sections",new Map),$b(this,"encodedString",null),$b(this,"decoded",!0),$b(this,"dirty",!1),e&&this.decode(e)}var e,n,r;return e=t,(n=[{key:"setFieldValue",value:function(t,e,n){this.decoded||(this.sections=this.decodeModel(this.encodedString),this.dirty=!1,this.decoded=!0);var r=null;if(this.sections.has(t)?r=this.sections.get(t):t===Zc.NAME?(r=new Zc,this.sections.set(Zc.NAME,r)):t===lc.NAME?(r=new lc,this.sections.set(lc.NAME,r)):t===La.NAME?(r=new La,this.sections.set(La.NAME,r)):t===Gl.NAME?(r=new Gl,this.sections.set(Gl.NAME,r)):t===mf.NAME?(r=new mf,this.sections.set(mf.NAME,r)):t===Bf.NAME?(r=new Bf,this.sections.set(Bf.NAME,r)):t===Es.NAME?(r=new Es,this.sections.set(Es.NAME,r)):t===Ys.NAME?(r=new Ys,this.sections.set(Ys.NAME,r)):t===Tp.NAME?(r=new Tp,this.sections.set(Tp.NAME,r)):t===Qp.NAME?(r=new Qp,this.sections.set(Qp.NAME,r)):t===Iy.NAME?(r=new Iy,this.sections.set(Iy.NAME,r)):t===ab.NAME?(r=new ab,this.sections.set(ab.NAME,r)):t===xb.NAME&&(r=new xb,this.sections.set(xb.NAME,r)),!r)throw new oe(t+"."+e+" not found");r.setFieldValue(e,n),this.dirty=!0}},{key:"setFieldValueBySectionId",value:function(t,e,n){this.setFieldValue(Wb.SECTION_ID_NAME_MAP.get(t),e,n)}},{key:"getFieldValue",value:function(t,e){return this.decoded||(this.sections=this.decodeModel(this.encodedString),this.dirty=!1,this.decoded=!0),this.sections.has(t)?this.sections.get(t).getFieldValue(e):null}},{key:"getFieldValueBySectionId",value:function(t,e){return this.getFieldValue(Wb.SECTION_ID_NAME_MAP.get(t),e)}},{key:"hasField",value:function(t,e){return this.decoded||(this.sections=this.decodeModel(this.encodedString),this.dirty=!1,this.decoded=!0),!!this.sections.has(t)&&this.sections.get(t).hasField(e)}},{key:"hasFieldBySectionId",value:function(t,e){return this.hasField(Wb.SECTION_ID_NAME_MAP.get(t),e)}},{key:"hasSection",value:function(t){return this.decoded||(this.sections=this.decodeModel(this.encodedString),this.dirty=!1,this.decoded=!0),this.sections.has(t)}},{key:"hasSectionId",value:function(t){return this.hasSection(Wb.SECTION_ID_NAME_MAP.get(t))}},{key:"deleteSection",value:function(t){!this.decoded&&null!=this.encodedString&&this.encodedString.length>0&&this.decode(this.encodedString),this.sections.delete(t),this.dirty=!0}},{key:"deleteSectionById",value:function(t){this.deleteSection(Wb.SECTION_ID_NAME_MAP.get(t))}},{key:"clear",value:function(){this.sections.clear(),this.encodedString="DBAA",this.decoded=!1,this.dirty=!1}},{key:"getHeader",value:function(){this.decoded||(this.sections=this.decodeModel(this.encodedString),this.dirty=!1,this.decoded=!0);var t=new Hr;return t.setFieldValue("SectionIds",this.getSectionIds()),t.toObj()}},{key:"getSection",value:function(t){return this.decoded||(this.sections=this.decodeModel(this.encodedString),this.dirty=!1,this.decoded=!0),this.sections.has(t)?this.sections.get(t).toObj():null}},{key:"getSectionIds",value:function(){this.decoded||(this.sections=this.decodeModel(this.encodedString),this.dirty=!1,this.decoded=!0);for(var t=[],e=0;e<Wb.SECTION_ORDER.length;e++){var n=Wb.SECTION_ORDER[e];if(this.sections.has(n)){var r=this.sections.get(n);t.push(r.getId())}}return t}},{key:"encodeModel",value:function(t){for(var e=[],n=[],r=0;r<Wb.SECTION_ORDER.length;r++){var o=Wb.SECTION_ORDER[r];if(t.has(o)){var i=t.get(o);e.push(i.encode()),n.push(i.getId())}}var u=new Hr;return u.setFieldValue("SectionIds",n),e.unshift(u.encode()),e.join("~")}},{key:"decodeModel",value:function(t){if(!t||0==t.length||t.startsWith("DB")){var e=t.split("~"),n=new Map;if(e[0].startsWith("D")){var r=new Hr(e[0]).getFieldValue("SectionIds");if(r.length!==e.length-1)throw new ge("Unable to decode '"+t+"'. The number of sections does not match the number of sections defined in the header.");for(var o=0;o<r.length;o++){if(""===e[o+1].trim())throw new ge("Unable to decode '"+t+"'. Section "+(o+1)+" is blank.");if(r[o]===Zc.ID){var i=new Zc(e[o+1]);n.set(Zc.NAME,i)}else if(r[o]===lc.ID){var u=new lc(e[o+1]);n.set(lc.NAME,u)}else if(r[o]===La.ID){var c=new La(e[o+1]);n.set(La.NAME,c)}else if(r[o]===Gl.ID){var a=new Gl(e[o+1]);n.set(Gl.NAME,a)}else if(r[o]===mf.ID){var l=new mf(e[o+1]);n.set(mf.NAME,l)}else if(r[o]===Bf.ID){var f=new Bf(e[o+1]);n.set(Bf.NAME,f)}else if(r[o]===Es.ID){var s=new Es(e[o+1]);n.set(Es.NAME,s)}else if(r[o]===Ys.ID){var p=new Ys(e[o+1]);n.set(Ys.NAME,p)}else if(r[o]===Tp.ID){var y=new Tp(e[o+1]);n.set(Tp.NAME,y)}else if(r[o]===Qp.ID){var b=new Qp(e[o+1]);n.set(Qp.NAME,b)}else if(r[o]===Iy.ID){var d=new Iy(e[o+1]);n.set(Iy.NAME,d)}else if(r[o]===ab.ID){var v=new ab(e[o+1]);n.set(ab.NAME,v)}else if(r[o]===xb.ID){var h=new xb(e[o+1]);n.set(xb.NAME,h)}}}return n}if(t.startsWith("C")){var S=new Map,m=new lc(t);return S.set(lc.NAME,m),(new Hr).setFieldValue(vr.SECTION_IDS,[2]),S.set(Hr.NAME,m),S}throw new ge("Unable to decode '"+t+"'")}},{key:"encodeSection",value:function(t){return this.decoded||(this.sections=this.decodeModel(this.encodedString),this.dirty=!1,this.decoded=!0),this.sections.has(t)?this.sections.get(t).encode():null}},{key:"encodeSectionById",value:function(t){return this.encodeSection(Wb.SECTION_ID_NAME_MAP.get(t))}},{key:"decodeSection",value:function(t,e){var n=null;this.sections.has(t)?n=this.sections.get(t):t===Zc.NAME?(n=new Zc,this.sections.set(Zc.NAME,n)):t===lc.NAME?(n=new lc,this.sections.set(lc.NAME,n)):t===La.NAME?(n=new La,this.sections.set(La.NAME,n)):t===Gl.NAME?(n=new Gl,this.sections.set(Gl.NAME,n)):t===mf.NAME?(n=new mf,this.sections.set(mf.NAME,n)):t===Bf.NAME?(n=new Bf,this.sections.set(Bf.NAME,n)):t===Es.NAME?(n=new Es,this.sections.set(Es.NAME,n)):t===Ys.NAME?(n=new Ys,this.sections.set(Ys.NAME,n)):t===Tp.NAME?(n=new Tp,this.sections.set(Tp.NAME,n)):t===Qp.NAME?(n=new Qp,this.sections.set(Qp.NAME,n)):t===Iy.NAME?(n=new Iy,this.sections.set(Iy.NAME,n)):t===ab.NAME?(n=new ab,this.sections.set(ab.NAME,n)):t===xb.NAME&&(n=new xb,this.sections.set(xb.NAME,n)),n&&(n.decode(e),this.dirty=!0)}},{key:"decodeSectionById",value:function(t,e){this.decodeSection(Wb.SECTION_ID_NAME_MAP.get(t),e)}},{key:"toObject",value:function(){this.decoded||(this.sections=this.decodeModel(this.encodedString),this.dirty=!1,this.decoded=!0);for(var t={},e=0;e<Wb.SECTION_ORDER.length;e++){var n=Wb.SECTION_ORDER[e];this.sections.has(n)&&(t[n]=this.sections.get(n).toObj())}return t}},{key:"encode",value:function(){return(null==this.encodedString||0===this.encodedString.length||this.dirty)&&(this.encodedString=this.encodeModel(this.sections),this.dirty=!1,this.decoded=!0),this.encodedString}},{key:"decode",value:function(t){this.encodedString=t,this.dirty=!1,this.decoded=!1}}])&&Xb(e.prototype,n),r&&Xb(e,r),Object.defineProperty(e,"prototype",{writable:!1}),t}();function Zb(t){return(Zb="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function td(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,nd(r.key),r)}}function ed(t,e,n){return(e=nd(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function nd(t){var e=function(t,e){if("object"!=Zb(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=Zb(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Zb(e)?e:e+""}var rd=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),ed(this,"gppVersion","1.1"),ed(this,"supportedAPIs",[]),ed(this,"eventQueue",new Qt(this)),ed(this,"cmpStatus",Rt.LOADING),ed(this,"cmpDisplayStatus",Dt.HIDDEN),ed(this,"signalStatus",Mt.NOT_READY),ed(this,"applicableSections",[]),ed(this,"gppModel",new qb),ed(this,"cmpId",void 0),ed(this,"cmpVersion",void 0),ed(this,"eventStatus",void 0)}var e,n,r;return e=t,(n=[{key:"reset",value:function(){this.eventQueue.clear(),this.cmpStatus=Rt.LOADING,this.cmpDisplayStatus=Dt.HIDDEN,this.signalStatus=Mt.NOT_READY,this.applicableSections=[],this.supportedAPIs=[],this.gppModel=new qb,delete this.cmpId,delete this.cmpVersion,delete this.eventStatus}}])&&td(e.prototype,n),r&&td(e,r),Object.defineProperty(e,"prototype",{writable:!1}),t}();n(56),n(73);function od(t){return(od="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function id(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,ud(r.key),r)}}function ud(t){var e=function(t,e){if("object"!=od(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=od(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==od(e)?e:e+""}var cd=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}var e,n,r;return e=t,r=[{key:"absCall",value:function(t,e,n,r){return new Promise((function(o,i){var u=new XMLHttpRequest;u.withCredentials=n,u.addEventListener("load",(function(){if(u.readyState==XMLHttpRequest.DONE)if(u.status>=200&&u.status<300){var t=u.response;if("string"==typeof t)try{t=JSON.parse(t)}catch(t){}o(t)}else i(new Error("HTTP Status: ".concat(u.status," response type: ").concat(u.responseType)))})),u.addEventListener("error",(function(){i(new Error("error"))})),u.addEventListener("abort",(function(){i(new Error("aborted"))})),null===e?u.open("GET",t,!0):u.open("POST",t,!0),u.responseType="json",u.timeout=r,u.ontimeout=function(){i(new Error("Timeout "+r+"ms "+t))},u.send(e)}))}},{key:"post",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;return this.absCall(t,JSON.stringify(e),n,r)}},{key:"fetch",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return this.absCall(t,null,e,n)}}],(n=null)&&id(e.prototype,n),r&&id(e,r),Object.defineProperty(e,"prototype",{writable:!1}),t}();function ad(t){return(ad="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function ld(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,fd(r.key),r)}}function fd(t){var e=function(t,e){if("object"!=ad(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=ad(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==ad(e)?e:e+""}function sd(t,e){if(e&&("object"===ad(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function pd(t){var e="function"==typeof Map?new Map:void 0;return(pd=function(t){if(null===t||!function(t){try{return-1!==Function.toString.call(t).indexOf("[native code]")}catch(e){return"function"==typeof t}}(t))return t;if("function"!=typeof t)throw new TypeError("Super expression must either be null or a function");if(void 0!==e){if(e.has(t))return e.get(t);e.set(t,n)}function n(){return yd(t,arguments,vd(this).constructor)}return n.prototype=Object.create(t.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),dd(n,t)})(t)}function yd(t,e,n){if(bd())return Reflect.construct.apply(null,arguments);var r=[null];r.push.apply(r,e);var o=new(t.bind.apply(t,r));return n&&dd(o,n.prototype),o}function bd(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(bd=function(){return!!t})()}function dd(t,e){return(dd=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function vd(t){return(vd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var hd=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&dd(t,e)}(c,t);var e,n,r,o,i,u=(e=c,n=bd(),function(){var t,r=vd(e);if(n){var o=vd(this).constructor;t=Reflect.construct(r,arguments,o)}else t=r.apply(this,arguments);return sd(this,t)});function c(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,c),(e=u.call(this,t)).name="GVLError",e}return r=c,o&&ld(r.prototype,o),i&&ld(r,i),Object.defineProperty(r,"prototype",{writable:!1}),r}(pd(Error));function Sd(t){return(Sd="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function md(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Od(r.key),r)}}function Od(t){var e=function(t,e){if("object"!=Sd(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=Sd(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Sd(e)?e:e+""}var gd=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}var e,n,r;return e=t,(n=[{key:"has",value:function(e){return t.langSet.has(e)}},{key:"forEach",value:function(e){t.langSet.forEach(e)}},{key:"size",get:function(){return t.langSet.size}}])&&md(e.prototype,n),r&&md(e,r),Object.defineProperty(e,"prototype",{writable:!1}),t}();!function(t,e,n){(e=Od(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n}(gd,"langSet",new Set(["BG","CA","CS","DA","DE","EL","EN","ES","ET","FI","FR","HR","HU","IT","JA","LT","LV","MT","NL","NO","PL","PT","RO","RU","SK","SL","SV","TR","ZH"]));n(197),n(139),n(140),n(141),n(198),n(144),n(55),n(74),n(58);function Ed(t){return(Ed="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function wd(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */wd=function(){return e};var t,e={},n=Object.prototype,r=n.hasOwnProperty,o=Object.defineProperty||function(t,e,n){t[e]=n.value},i="function"==typeof Symbol?Symbol:{},u=i.iterator||"@@iterator",c=i.asyncIterator||"@@asyncIterator",a=i.toStringTag||"@@toStringTag";function l(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{l({},"")}catch(t){l=function(t,e,n){return t[e]=n}}function f(t,e,n,r){var i=e&&e.prototype instanceof v?e:v,u=Object.create(i.prototype),c=new j(r||[]);return o(u,"_invoke",{value:T(t,n,c)}),u}function s(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}e.wrap=f;var p="suspendedStart",y="executing",b="completed",d={};function v(){}function h(){}function S(){}var m={};l(m,u,(function(){return this}));var O=Object.getPrototypeOf,g=O&&O(O(A([])));g&&g!==n&&r.call(g,u)&&(m=g);var E=S.prototype=v.prototype=Object.create(m);function w(t){["next","throw","return"].forEach((function(e){l(t,e,(function(t){return this._invoke(e,t)}))}))}function _(t,e){function n(o,i,u,c){var a=s(t[o],t,i);if("throw"!==a.type){var l=a.arg,f=l.value;return f&&"object"==Ed(f)&&r.call(f,"__await")?e.resolve(f.__await).then((function(t){n("next",t,u,c)}),(function(t){n("throw",t,u,c)})):e.resolve(f).then((function(t){l.value=t,u(l)}),(function(t){return n("throw",t,u,c)}))}c(a.arg)}var i;o(this,"_invoke",{value:function(t,r){function o(){return new e((function(e,o){n(t,r,e,o)}))}return i=i?i.then(o,o):o()}})}function T(e,n,r){var o=p;return function(i,u){if(o===y)throw Error("Generator is already running");if(o===b){if("throw"===i)throw u;return{value:t,done:!0}}for(r.method=i,r.arg=u;;){var c=r.delegate;if(c){var a=P(c,r);if(a){if(a===d)continue;return a}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(o===p)throw o=b,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);o=y;var l=s(e,n,r);if("normal"===l.type){if(o=r.done?b:"suspendedYield",l.arg===d)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(o=b,r.method="throw",r.arg=l.arg)}}}function P(e,n){var r=n.method,o=e.iterator[r];if(o===t)return n.delegate=null,"throw"===r&&e.iterator.return&&(n.method="return",n.arg=t,P(e,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),d;var i=s(o,e.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,d;var u=i.arg;return u?u.done?(n[e.resultName]=u.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,d):u:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,d)}function N(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function I(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function j(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(N,this),this.reset(!0)}function A(e){if(e||""===e){var n=e[u];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function n(){for(;++o<e.length;)if(r.call(e,o))return n.value=e[o],n.done=!1,n;return n.value=t,n.done=!0,n};return i.next=i}}throw new TypeError(Ed(e)+" is not iterable")}return h.prototype=S,o(E,"constructor",{value:S,configurable:!0}),o(S,"constructor",{value:h,configurable:!0}),h.displayName=l(S,a,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===h||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,S):(t.__proto__=S,l(t,a,"GeneratorFunction")),t.prototype=Object.create(E),t},e.awrap=function(t){return{__await:t}},w(_.prototype),l(_.prototype,c,(function(){return this})),e.AsyncIterator=_,e.async=function(t,n,r,o,i){void 0===i&&(i=Promise);var u=new _(f(t,n,r,o),i);return e.isGeneratorFunction(n)?u:u.next().then((function(t){return t.done?t.value:u.next()}))},w(E),l(E,a,"Generator"),l(E,u,(function(){return this})),l(E,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},e.values=A,j.prototype={constructor:j,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(I),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function o(r,o){return c.type="throw",c.arg=e,n.next=r,o&&(n.method="next",n.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var u=this.tryEntries[i],c=u.completion;if("root"===u.tryLoc)return o("end");if(u.tryLoc<=this.prev){var a=r.call(u,"catchLoc"),l=r.call(u,"finallyLoc");if(a&&l){if(this.prev<u.catchLoc)return o(u.catchLoc,!0);if(this.prev<u.finallyLoc)return o(u.finallyLoc)}else if(a){if(this.prev<u.catchLoc)return o(u.catchLoc,!0)}else{if(!l)throw Error("try statement without catch or finally");if(this.prev<u.finallyLoc)return o(u.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var u=i?i.completion:{};return u.type=t,u.arg=e,i?(this.method="next",this.next=i.finallyLoc,d):this.complete(u)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),d},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),I(n),d}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;I(n)}return o}}throw Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:A(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),d}},e}function _d(t,e,n,r,o,i,u){try{var c=t[i](u),a=c.value}catch(t){return void n(t)}c.done?e(a):Promise.resolve(a).then(r,o)}function Td(t){return function(){var e=this,n=arguments;return new Promise((function(r,o){var i=t.apply(e,n);function u(t){_d(i,r,o,u,c,"next",t)}function c(t){_d(i,r,o,u,c,"throw",t)}u(void 0)}))}}function Pd(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Ad(r.key),r)}}function Nd(t,e,n){return e&&Pd(t.prototype,e),n&&Pd(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Id(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function jd(t,e,n){return(e=Ad(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ad(t){var e=function(t,e){if("object"!=Ed(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=Ed(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Ed(e)?e:e+""}var Cd=function(){function t(){Id(this,t),jd(this,"vendors",void 0),jd(this,"consentLanguages",new gd),jd(this,"gvlSpecificationVersion",void 0),jd(this,"vendorListVersion",void 0),jd(this,"tcfPolicyVersion",void 0),jd(this,"lastUpdated",void 0),jd(this,"purposes",void 0),jd(this,"specialPurposes",void 0),jd(this,"features",void 0),jd(this,"specialFeatures",void 0),jd(this,"stacks",void 0),jd(this,"dataCategories",void 0),jd(this,"language",t.DEFAULT_LANGUAGE),jd(this,"vendorIds",void 0),jd(this,"ready",!1),jd(this,"fullVendorList",void 0),jd(this,"byPurposeVendorMap",void 0),jd(this,"bySpecialPurposeVendorMap",void 0),jd(this,"byFeatureVendorMap",void 0),jd(this,"bySpecialFeatureVendorMap",void 0),jd(this,"baseUrl",void 0),jd(this,"languageFilename","purposes-[LANG].json")}var e,n;return Nd(t,[{key:"changeLanguage",value:(n=Td(wd().mark((function t(e){var n,r;return wd().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=e.toUpperCase(),!this.consentLanguages.has(n)){t.next=18;break}if(n===this.language){t.next=16;break}return this.language=n,r=this.baseUrl+this.languageFilename.replace("[LANG]",e),t.prev=5,t.t0=this,t.next=9,cd.fetch(r);case 9:t.t1=t.sent,t.t0.populate.call(t.t0,t.t1),t.next=16;break;case 13:throw t.prev=13,t.t2=t.catch(5),new hd("unable to load language: "+t.t2.message);case 16:t.next=19;break;case 18:throw new hd("unsupported language ".concat(e));case 19:case"end":return t.stop()}}),t,this,[[5,13]])}))),function(t){return n.apply(this,arguments)})},{key:"getJson",value:function(){return JSON.parse(JSON.stringify({gvlSpecificationVersion:this.gvlSpecificationVersion,vendorListVersion:this.vendorListVersion,tcfPolicyVersion:this.tcfPolicyVersion,lastUpdated:this.lastUpdated,purposes:this.purposes,specialPurposes:this.specialPurposes,features:this.features,specialFeatures:this.specialFeatures,stacks:this.stacks,dataCategories:this.dataCategories,vendors:this.fullVendorList}))}},{key:"isVendorList",value:function(t){return void 0!==t&&void 0!==t.vendors}},{key:"populate",value:function(t){this.purposes=t.purposes,this.specialPurposes=t.specialPurposes,this.features=t.features,this.specialFeatures=t.specialFeatures,this.stacks=t.stacks,this.dataCategories=t.dataCategories,this.isVendorList(t)&&(this.gvlSpecificationVersion=t.gvlSpecificationVersion,this.tcfPolicyVersion=t.tcfPolicyVersion,this.vendorListVersion=t.vendorListVersion,this.lastUpdated=t.lastUpdated,"string"==typeof this.lastUpdated&&(this.lastUpdated=new Date(this.lastUpdated)),this.vendors=t.vendors,this.fullVendorList=t.vendors,this.mapVendors(),this.ready=!0)}},{key:"mapVendors",value:function(t){var e=this;this.byPurposeVendorMap={},this.bySpecialPurposeVendorMap={},this.byFeatureVendorMap={},this.bySpecialFeatureVendorMap={},Object.keys(this.purposes).forEach((function(t){e.byPurposeVendorMap[t]={legInt:new Set,impCons:new Set,consent:new Set,flexible:new Set}})),Object.keys(this.specialPurposes).forEach((function(t){e.bySpecialPurposeVendorMap[t]=new Set})),Object.keys(this.features).forEach((function(t){e.byFeatureVendorMap[t]=new Set})),Object.keys(this.specialFeatures).forEach((function(t){e.bySpecialFeatureVendorMap[t]=new Set})),Array.isArray(t)||(t=Object.keys(this.fullVendorList).map((function(t){return+t}))),this.vendorIds=new Set(t),this.vendors=t.reduce((function(t,n){var r=e.vendors[String(n)];return r&&void 0===r.deletedDate&&(r.purposes.forEach((function(t){e.byPurposeVendorMap[String(t)].consent.add(n)})),r.specialPurposes.forEach((function(t){e.bySpecialPurposeVendorMap[String(t)].add(n)})),r.legIntPurposes&&r.legIntPurposes.forEach((function(t){e.byPurposeVendorMap[String(t)].legInt.add(n)})),r.impConsPurposes&&r.impConsPurposes.forEach((function(t){e.byPurposeVendorMap[String(t)].impCons.add(n)})),r.flexiblePurposes&&r.flexiblePurposes.forEach((function(t){e.byPurposeVendorMap[String(t)].flexible.add(n)})),r.features.forEach((function(t){e.byFeatureVendorMap[String(t)].add(n)})),r.specialFeatures.forEach((function(t){e.bySpecialFeatureVendorMap[String(t)].add(n)})),t[n]=r),t}),{})}},{key:"getFilteredVendors",value:function(t,e,n,r){var o=this,i=t.charAt(0).toUpperCase()+t.slice(1),u={};return("purpose"===t&&n?this["by"+i+"VendorMap"][String(e)][n]:this["by"+(r?"Special":"")+i+"VendorMap"][String(e)]).forEach((function(t){u[String(t)]=o.vendors[String(t)]})),u}},{key:"getVendorsWithConsentPurpose",value:function(t){return this.getFilteredVendors("purpose",t,"consent")}},{key:"getVendorsWithLegIntPurpose",value:function(t){return this.getFilteredVendors("purpose",t,"legInt")}},{key:"getVendorsWithFlexiblePurpose",value:function(t){return this.getFilteredVendors("purpose",t,"flexible")}},{key:"getVendorsWithSpecialPurpose",value:function(t){return this.getFilteredVendors("purpose",t,void 0,!0)}},{key:"getVendorsWithFeature",value:function(t){return this.getFilteredVendors("feature",t)}},{key:"getVendorsWithSpecialFeature",value:function(t){return this.getFilteredVendors("feature",t,void 0,!0)}},{key:"narrowVendorsTo",value:function(t){this.mapVendors(t)}},{key:"isReady",get:function(){return this.ready}}],[{key:"fromVendorList",value:function(e){var n=new t;return n.populate(e),n}},{key:"fromUrl",value:(e=Td(wd().mark((function e(n){var r,o,i,u,c,a;return wd().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((r=n.baseUrl)&&0!==r.length){e.next=3;break}throw new hd("Invalid baseUrl: '"+r+"'");case 3:if(!/^https?:\/\/vendorlist\.consensu\.org\//.test(r)){e.next=5;break}throw new hd("Invalid baseUrl!  You may not pull directly from vendorlist.consensu.org and must provide your own cache");case 5:if(r.length>0&&"/"!==r[r.length-1]&&(r+="/"),(o=new t).baseUrl=r,n.languageFilename?o.languageFilename=n.languageFilename:o.languageFilename="purposes-[LANG].json",!(n.version>0)){e.next=20;break}return(i=n.versionedFilename)||(i="archives/vendor-list-v[VERSION].json"),u=r+i.replace("[VERSION]",String(n.version)),e.t0=o,e.next=16,cd.fetch(u);case 16:e.t1=e.sent,e.t0.populate.call(e.t0,e.t1),e.next=28;break;case 20:return(c=n.latestFilename)||(c="vendor-list.json"),a=r+c,e.t2=o,e.next=26,cd.fetch(a);case 26:e.t3=e.sent,e.t2.populate.call(e.t2,e.t3);case 28:return e.abrupt("return",o);case 29:case"end":return e.stop()}}),e)}))),function(t){return e.apply(this,arguments)})},{key:"isInstanceOf",value:function(t){return"object"===Ed(t)&&"function"==typeof t.narrowVendorsTo}}]),t}();function Rd(t){return(Rd="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Dd(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */Dd=function(){return e};var t,e={},n=Object.prototype,r=n.hasOwnProperty,o=Object.defineProperty||function(t,e,n){t[e]=n.value},i="function"==typeof Symbol?Symbol:{},u=i.iterator||"@@iterator",c=i.asyncIterator||"@@asyncIterator",a=i.toStringTag||"@@toStringTag";function l(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{l({},"")}catch(t){l=function(t,e,n){return t[e]=n}}function f(t,e,n,r){var i=e&&e.prototype instanceof v?e:v,u=Object.create(i.prototype),c=new j(r||[]);return o(u,"_invoke",{value:T(t,n,c)}),u}function s(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}e.wrap=f;var p="suspendedStart",y="executing",b="completed",d={};function v(){}function h(){}function S(){}var m={};l(m,u,(function(){return this}));var O=Object.getPrototypeOf,g=O&&O(O(A([])));g&&g!==n&&r.call(g,u)&&(m=g);var E=S.prototype=v.prototype=Object.create(m);function w(t){["next","throw","return"].forEach((function(e){l(t,e,(function(t){return this._invoke(e,t)}))}))}function _(t,e){function n(o,i,u,c){var a=s(t[o],t,i);if("throw"!==a.type){var l=a.arg,f=l.value;return f&&"object"==Rd(f)&&r.call(f,"__await")?e.resolve(f.__await).then((function(t){n("next",t,u,c)}),(function(t){n("throw",t,u,c)})):e.resolve(f).then((function(t){l.value=t,u(l)}),(function(t){return n("throw",t,u,c)}))}c(a.arg)}var i;o(this,"_invoke",{value:function(t,r){function o(){return new e((function(e,o){n(t,r,e,o)}))}return i=i?i.then(o,o):o()}})}function T(e,n,r){var o=p;return function(i,u){if(o===y)throw Error("Generator is already running");if(o===b){if("throw"===i)throw u;return{value:t,done:!0}}for(r.method=i,r.arg=u;;){var c=r.delegate;if(c){var a=P(c,r);if(a){if(a===d)continue;return a}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(o===p)throw o=b,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);o=y;var l=s(e,n,r);if("normal"===l.type){if(o=r.done?b:"suspendedYield",l.arg===d)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(o=b,r.method="throw",r.arg=l.arg)}}}function P(e,n){var r=n.method,o=e.iterator[r];if(o===t)return n.delegate=null,"throw"===r&&e.iterator.return&&(n.method="return",n.arg=t,P(e,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),d;var i=s(o,e.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,d;var u=i.arg;return u?u.done?(n[e.resultName]=u.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,d):u:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,d)}function N(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function I(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function j(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(N,this),this.reset(!0)}function A(e){if(e||""===e){var n=e[u];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function n(){for(;++o<e.length;)if(r.call(e,o))return n.value=e[o],n.done=!1,n;return n.value=t,n.done=!0,n};return i.next=i}}throw new TypeError(Rd(e)+" is not iterable")}return h.prototype=S,o(E,"constructor",{value:S,configurable:!0}),o(S,"constructor",{value:h,configurable:!0}),h.displayName=l(S,a,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===h||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,S):(t.__proto__=S,l(t,a,"GeneratorFunction")),t.prototype=Object.create(E),t},e.awrap=function(t){return{__await:t}},w(_.prototype),l(_.prototype,c,(function(){return this})),e.AsyncIterator=_,e.async=function(t,n,r,o,i){void 0===i&&(i=Promise);var u=new _(f(t,n,r,o),i);return e.isGeneratorFunction(n)?u:u.next().then((function(t){return t.done?t.value:u.next()}))},w(E),l(E,a,"Generator"),l(E,u,(function(){return this})),l(E,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},e.values=A,j.prototype={constructor:j,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(I),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function o(r,o){return c.type="throw",c.arg=e,n.next=r,o&&(n.method="next",n.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var u=this.tryEntries[i],c=u.completion;if("root"===u.tryLoc)return o("end");if(u.tryLoc<=this.prev){var a=r.call(u,"catchLoc"),l=r.call(u,"finallyLoc");if(a&&l){if(this.prev<u.catchLoc)return o(u.catchLoc,!0);if(this.prev<u.finallyLoc)return o(u.finallyLoc)}else if(a){if(this.prev<u.catchLoc)return o(u.catchLoc,!0)}else{if(!l)throw Error("try statement without catch or finally");if(this.prev<u.finallyLoc)return o(u.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var u=i?i.completion:{};return u.type=t,u.arg=e,i?(this.method="next",this.next=i.finallyLoc,d):this.complete(u)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),d},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),I(n),d}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;I(n)}return o}}throw Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:A(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),d}},e}function Vd(t,e,n,r,o,i,u){try{var c=t[i](u),a=c.value}catch(t){return void n(t)}c.done?e(a):Promise.resolve(a).then(r,o)}function Md(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Ud(r.key),r)}}function kd(t,e,n){return(e=Ud(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ud(t){var e=function(t,e){if("object"!=Rd(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=Rd(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Rd(e)?e:e+""}jd(Cd,"DEFAULT_LANGUAGE","EN");var Gd=function(){function t(e,n,r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),kd(this,"callResponder",void 0),kd(this,"cmpApiContext",void 0),this.cmpApiContext=new rd,this.cmpApiContext.cmpId=e,this.cmpApiContext.cmpVersion=n,this.callResponder=new Ht(this.cmpApiContext,r)}var e,n,r,o,i;return e=t,(n=[{key:"fireEvent",value:function(t,e){this.cmpApiContext.eventQueue.exec(t,e)}},{key:"fireErrorEvent",value:function(t){this.cmpApiContext.eventQueue.exec("error",t)}},{key:"fireSectionChange",value:function(t){this.cmpApiContext.eventQueue.exec("sectionChange",t)}},{key:"getEventStatus",value:function(){return this.cmpApiContext.eventStatus}},{key:"setEventStatus",value:function(t){this.cmpApiContext.eventStatus=t}},{key:"getCmpStatus",value:function(){return this.cmpApiContext.cmpStatus}},{key:"setCmpStatus",value:function(t){this.cmpApiContext.cmpStatus=t,this.cmpApiContext.eventQueue.exec("cmpStatus",t)}},{key:"getCmpDisplayStatus",value:function(){return this.cmpApiContext.cmpDisplayStatus}},{key:"setCmpDisplayStatus",value:function(t){this.cmpApiContext.cmpDisplayStatus=t,this.cmpApiContext.eventQueue.exec("cmpDisplayStatus",t)}},{key:"getSignalStatus",value:function(){return this.cmpApiContext.signalStatus}},{key:"setSignalStatus",value:function(t){this.cmpApiContext.signalStatus=t,this.cmpApiContext.eventQueue.exec("signalStatus",t)}},{key:"getApplicableSections",value:function(){return this.cmpApiContext.applicableSections}},{key:"setApplicableSections",value:function(t){this.cmpApiContext.applicableSections=t}},{key:"getSupportedAPIs",value:function(){return this.cmpApiContext.supportedAPIs}},{key:"setSupportedAPIs",value:function(t){this.cmpApiContext.supportedAPIs=t}},{key:"setGppString",value:function(t){this.cmpApiContext.gppModel.decode(t)}},{key:"getGppString",value:function(){return this.cmpApiContext.gppModel.encode()}},{key:"setSectionString",value:function(t,e){this.cmpApiContext.gppModel.decodeSection(t,e)}},{key:"setSectionStringById",value:function(t,e){this.setSectionString(Wb.SECTION_ID_NAME_MAP.get(t),e)}},{key:"getSectionString",value:function(t){return this.cmpApiContext.gppModel.encodeSection(t)}},{key:"getSectionStringById",value:function(t){return this.getSectionString(Wb.SECTION_ID_NAME_MAP.get(t))}},{key:"setFieldValue",value:function(t,e,n){this.cmpApiContext.gppModel.setFieldValue(t,e,n)}},{key:"setFieldValueBySectionId",value:function(t,e,n){this.setFieldValue(Wb.SECTION_ID_NAME_MAP.get(t),e,n)}},{key:"getFieldValue",value:function(t,e){return this.cmpApiContext.gppModel.getFieldValue(t,e)}},{key:"getFieldValueBySectionId",value:function(t,e){return this.getFieldValue(Wb.SECTION_ID_NAME_MAP.get(t),e)}},{key:"getSection",value:function(t){return this.cmpApiContext.gppModel.getSection(t)}},{key:"getSectionById",value:function(t){return this.getSection(Wb.SECTION_ID_NAME_MAP.get(t))}},{key:"hasSection",value:function(t){return this.cmpApiContext.gppModel.hasSection(t)}},{key:"hasSectionId",value:function(t){return this.hasSection(Wb.SECTION_ID_NAME_MAP.get(t))}},{key:"deleteSection",value:function(t){this.cmpApiContext.gppModel.deleteSection(t)}},{key:"deleteSectionById",value:function(t){this.deleteSection(Wb.SECTION_ID_NAME_MAP.get(t))}},{key:"clear",value:function(){this.cmpApiContext.gppModel.clear()}},{key:"getObject",value:function(){return this.cmpApiContext.gppModel.toObject()}},{key:"getGvlFromVendorList",value:function(t){return Cd.fromVendorList(t)}},{key:"getGvlFromUrl",value:(o=Dd().mark((function t(e){return Dd().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",Cd.fromUrl(e));case 1:case"end":return t.stop()}}),t)})),i=function(){var t=this,e=arguments;return new Promise((function(n,r){var i=o.apply(t,e);function u(t){Vd(i,n,r,u,c,"next",t)}function c(t){Vd(i,n,r,u,c,"throw",t)}u(void 0)}))},function(t){return i.apply(this,arguments)})}])&&Md(e.prototype,n),r&&Md(e,r),Object.defineProperty(e,"prototype",{writable:!1}),t}()},204:function(t,e,n){"use strict";n.d(e,"a",(function(){return f})),n.d(e,"b",(function(){return y}));n(73),n(23),n(30),n(52),n(53),n(26),n(27),n(36),n(55),n(57),n(71),n(75),n(28),n(19),n(24),n(25);var r=n(0),o=n(200);function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function u(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function c(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?u(Object(n),!0).forEach((function(e){a(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function a(t,e,n){var r;return r=function(t,e){if("object"!=i(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=i(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(e,"string"),(e="symbol"==i(r)?r:r+"")in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var l=function(t,e,n){try{t(e,n)}catch(t){Object(r.handleError)(new r.CmpCallbackError(t),"ccpa")}},f=function(t,e,n,o){var i=n.usNatOrigin,u=Object(r.getUserConsentData)("usnat"),c=u.applies,a=u.dateCreated,f=u.consentStatus,s=u.customVendorRejects,p=u.customVendorRejectsDate;if(s&&a===p)l(e,s,!0);else if(f&&!0===f.consentedToAll)l(e,{rejectedCategories:[],rejectedVendors:[],ccpaApplies:c},!0);else{var y="".concat(i,"/consent/").concat(o,"/custom-vendors?uuid=").concat(Object(r.getUserConsentData)("usnat","uuid"));Object(r.fetch)(y,{method:"GET"}).then((function(t){return JSON.parse(t)})).then((function(t){var n={rejectedCategories:t.rejectedCategories,rejectedVendors:t.rejectedVendors,ccpaApplies:t.applies};Object(r.setUserConsentData)({usnat:{customVendorRejects:n,customVendorRejectsDate:a}}),l(e,n,!0)})).catch((function(t){return e(null,!1)}))}},s={getuspdata:function(t,e){var n,o=Object(r.getUserConsentData)("usnat")||{},i=o.applies,u=o.dateCreated,c=o.gpcEnabled,a=o.consentStatus,l=Object(r.getStateStorageFromMemory)("newUser",void 0,"usnat");i?n=(a&&a.granularStatus).sellStatus?"YNN":"YYN":n="---";n="1"+n;try{e({version:t,uspString:n,newUser:l,dateCreated:u,gpcEnabled:c},!0)}catch(t){Object(r.handleError)(new r.CmpCallbackError(t),"ccpa")}},getcustomvendorrejects:f,postrejectall:function(t,e,n,r){return o.a.postRejectAll(c(c({},n),{},{propertyId:r}),void 0,e)}},p=function(t,e){var n=window.__uspapi.a;!function(t,e){window.__uspapi=function(n,r,o){"string"==typeof n&&(n=n.toLowerCase());var i=s[n];i&&i(r,o,t,e)}}(t,e),n&&n.length>0&&n.forEach((function(t){window.__uspapi.apply(null,t)}))},y=function(t,e){window.__uspapi.hasSeenCCPAMessage=function(){p(t,e),window.__uspapi.hasSeenCCPAMessage=void 0}}}}]);